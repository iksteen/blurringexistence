!function(e){function t(e){for(var t=[],n=0,i=e.length;i>n;n++)-1==h.call(t,e[n])&&t.push(e[n]);return t}function n(e,n,i,r){if("string"!=typeof e)throw"System.register provided no module name";var o;o="boolean"==typeof i?{declarative:!1,deps:n,execute:r,executingRequire:i}:{declarative:!0,deps:n,declare:i},o.name=e,e in d||(d[e]=o),o.deps=t(o.deps),o.normalizedDeps=o.deps}function i(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==h.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var n=0,r=e.normalizedDeps.length;r>n;n++){var o=e.normalizedDeps[n],s=d[o];if(s&&!s.evaluated){var a=e.groupIndex+(s.declarative!=e.declarative);if(void 0===s.groupIndex||s.groupIndex<a){if(void 0!==s.groupIndex&&(t[s.groupIndex].splice(h.call(t[s.groupIndex],s),1),0==t[s.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");s.groupIndex=a}i(s,t)}}}}function r(e){var t=d[e];t.groupIndex=0;var n=[];i(t,n);for(var r=!!t.declarative==n.length%2,o=n.length-1;o>=0;o--){for(var a=n[o],c=0;c<a.length;c++){var u=a[c];r?s(u):l(u)}r=!r}}function o(e){return f[e]||(f[e]={name:e,dependencies:[],exports:{},importers:[]})}function s(t){if(!t.module){var n=t.module=o(t.name),i=t.module.exports,r=t.declare.call(e,function(e,t){n.locked=!0,i[e]=t;for(var r=0,o=n.importers.length;o>r;r++){var s=n.importers[r];if(!s.locked){var a=h.call(s.dependencies,n);s.setters[a](i)}}return n.locked=!1,t});if(n.setters=r.setters,n.execute=r.execute,!n.setters||!n.execute)throw new TypeError("Invalid System.register form for "+t.name);for(var a=0,l=t.normalizedDeps.length;l>a;a++){var c,p=t.normalizedDeps[a],m=d[p],g=f[p];g?c=g.exports:m&&!m.declarative?c=m.module.exports&&m.module.exports.__esModule?m.module.exports:{"default":m.module.exports,__useDefault:!0}:m?(s(m),g=m.module,c=g.exports):c=u(p),g&&g.importers?(g.importers.push(n),n.dependencies.push(g)):n.dependencies.push(null),n.setters[a]&&n.setters[a](c)}}}function a(e){var t,n=d[e];if(n)n.declarative?c(e,[]):n.evaluated||l(n),t=n.module.exports;else if(t=u(e),!t)throw new Error("Unable to load dependency "+e+".");return(!n||n.declarative)&&t&&t.__useDefault?t["default"]:t}function l(t){if(!t.module){var n={},i=t.module={exports:n,id:t.name};if(!t.executingRequire)for(var r=0,o=t.normalizedDeps.length;o>r;r++){var s=t.normalizedDeps[r],c=d[s];c&&l(c)}t.evaluated=!0;var u=t.execute.call(e,function(e){for(var n=0,i=t.deps.length;i>n;n++)if(t.deps[n]==e)return a(t.normalizedDeps[n]);throw new TypeError("Module "+e+" not declared as a dependency.")},n,i);u&&(i.exports=u)}}function c(t,n){var i=d[t];if(i&&!i.evaluated&&i.declarative){n.push(t);for(var r=0,o=i.normalizedDeps.length;o>r;r++){var s=i.normalizedDeps[r];-1==h.call(n,s)&&(d[s]?c(s,n):u(s))}i.evaluated||(i.evaluated=!0,i.module.execute.call(e))}}function u(e){if(p[e])return p[e];var t=d[e];if(!t)throw"Module "+e+" not present.";r(e),c(e,[]),d[e]=void 0;var n=t.module.exports;return(!n||!t.declarative&&n.__esModule!==!0)&&(n={"default":n,__useDefault:!0}),p[e]=n}var d={},h=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},f={},p={};return function(t,i){var r,r={register:n,get:u,set:function(e,t){p[e]=t},newModule:function(e){return e},global:e};r.set("@empty",{}),i(r);for(var o=0;o<t.length;o++)u(t[o])}}("undefined"!=typeof window?window:global)(["src/demo-main"],function(System){System.register("npm:core-js@0.9.10/library/modules/$.fw",[],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=function(e){return e.FW=!1,e.path=e.core,e},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.uid",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){function n(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+Math.random()).toString(36))}var i=System.global,r=i.define;i.define=void 0;var o=0;return n.safe=require("npm:core-js@0.9.10/library/modules/$").g.Symbol||n,t.exports=n,i.define=r,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.cof",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.wks"],!0,function(require,e,t){function n(e){return a.call(e).slice(8,-1)}var i=System.global,r=i.define;i.define=void 0;var o=require("npm:core-js@0.9.10/library/modules/$"),s=require("npm:core-js@0.9.10/library/modules/$.wks")("toStringTag"),a={}.toString;return n.classof=function(e){var t,i;return void 0==e?void 0===e?"Undefined":"Null":"string"==typeof(i=(t=Object(e))[s])?i:n(t)},n.set=function(e,t,n){e&&!o.has(e=n?e:e.prototype,s)&&o.hide(e,s,t)},t.exports=n,i.define=r,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.assert",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){function n(e,t,n){if(!e)throw TypeError(n?t+n:t)}var i=System.global,r=i.define;i.define=void 0;var o=require("npm:core-js@0.9.10/library/modules/$");return n.def=o.assertDefined,n.fn=function(e){if(!o.isFunction(e))throw TypeError(e+" is not a function!");return e},n.obj=function(e){if(!o.isObject(e))throw TypeError(e+" is not an object!");return e},n.inst=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e},t.exports=n,i.define=r,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.def",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){function n(e,t){return function(){return e.apply(t,arguments)}}function i(e,t,o){var s,c,u,d,h=e&i.G,f=e&i.P,p=h?r:e&i.S?r[t]:(r[t]||{}).prototype,m=h?a:a[t]||(a[t]={});h&&(o=t);for(s in o)c=!(e&i.F)&&p&&s in p,c&&s in m||(u=c?p[s]:o[s],h&&!l(p[s])?d=o[s]:e&i.B&&c?d=n(u,r):e&i.W&&p[s]==u?!function(e){d=function(t){return this instanceof e?new e(t):e(t)},d.prototype=e.prototype}(u):d=f&&l(u)?n(Function.call,u):u,m[s]=d,f&&((m.prototype||(m.prototype={}))[s]=u))}var r=System.global,o=r.define;r.define=void 0;var s=require("npm:core-js@0.9.10/library/modules/$"),r=s.g,a=s.core,l=s.isFunction;return i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,t.exports=i,r.define=o,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.redef",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:core-js@0.9.10/library/modules/$").hide,n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.string-at",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$");return t.exports=function(e){return function(t,n){var i,o,s=String(r.assertDefined(t)),a=r.toInteger(n),l=s.length;return 0>a||a>=l?e?"":void 0:(i=s.charCodeAt(a),55296>i||i>56319||a+1===l||(o=s.charCodeAt(a+1))<56320||o>57343?e?s.charAt(a):i:e?s.slice(a,a+2):(i-55296<<10)+(o-56320)+65536)}},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/core.iter-helpers",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.iter"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$").core,o=require("npm:core-js@0.9.10/library/modules/$.iter");return r.isIterable=o.is,r.getIterator=o.get,n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/fn/get-iterator",["npm:core-js@0.9.10/library/modules/web.dom.iterable","npm:core-js@0.9.10/library/modules/es6.string.iterator","npm:core-js@0.9.10/library/modules/core.iter-helpers","npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,require("npm:core-js@0.9.10/library/modules/web.dom.iterable"),require("npm:core-js@0.9.10/library/modules/es6.string.iterator"),require("npm:core-js@0.9.10/library/modules/core.iter-helpers"),t.exports=require("npm:core-js@0.9.10/library/modules/$").core.getIterator,n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/es6.object.to-string",["npm:core-js@0.9.10/library/modules/$.cof","npm:core-js@0.9.10/library/modules/$.wks","npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.redef"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.cof"),o={};return o[require("npm:core-js@0.9.10/library/modules/$.wks")("toStringTag")]="z",require("npm:core-js@0.9.10/library/modules/$").FW&&"z"!=r(o)&&require("npm:core-js@0.9.10/library/modules/$.redef")(Object.prototype,"toString",function(){return"[object "+r.classof(this)+"]"},!0),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.ctx",["npm:core-js@0.9.10/library/modules/$.assert"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.assert").fn;return t.exports=function(e,t,n){if(r(e),~n&&void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.iter-call",["npm:core-js@0.9.10/library/modules/$.assert"],!0,function(require,e,t){function n(e){var t=e["return"];void 0!==t&&s(t.call(e))}function i(e,t,i,r){try{return r?t(s(i)[0],i[1]):t(i)}catch(o){throw n(e),o}}var r=System.global,o=r.define;r.define=void 0;var s=require("npm:core-js@0.9.10/library/modules/$.assert").obj;return i.close=n,t.exports=i,r.define=o,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.set-proto",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.assert","npm:core-js@0.9.10/library/modules/$.ctx"],!0,function(require,e,t){function n(e,t){s.obj(e),s(null===t||o.isObject(t),t,": can't set as prototype!")}var i=System.global,r=i.define;i.define=void 0;var o=require("npm:core-js@0.9.10/library/modules/$"),s=require("npm:core-js@0.9.10/library/modules/$.assert");return t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t){try{t=require("npm:core-js@0.9.10/library/modules/$.ctx")(Function.call,o.getDesc(Object.prototype,"__proto__").set,2),t({},[])}catch(i){e=!0}return function(i,r){return n(i,r),e?i.__proto__=r:t(i,r),i}}():void 0),check:n},i.define=r,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.species",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.wks"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$"),o=require("npm:core-js@0.9.10/library/modules/$.wks")("species");return t.exports=function(e){!r.DESC||o in e||r.setDesc(e,o,{configurable:!0,get:r.that})},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.invoke",[],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);case 5:return i?e(t[0],t[1],t[2],t[3],t[4]):e.call(n,t[0],t[1],t[2],t[3],t[4])}return e.apply(n,t)},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.dom-create",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$"),o=r.g.document,s=r.isObject,a=s(o)&&s(o.createElement);return t.exports=function(e){return a?o.createElement(e):{}},n.define=i,t.exports}),System.register("npm:process@0.10.1/browser",[],!0,function(require,e,t){function n(){if(!l){l=!0;for(var e,t=a.length;t;){e=a,a=[];for(var n=-1;++n<t;)e[n]();t=a.length}l=!1}}function i(){}var r=System.global,o=r.define;r.define=void 0;var s=t.exports={},a=[],l=!1;return s.nextTick=function(e){a.push(e),l||setTimeout(n,0)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},r.define=o,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.mix",["npm:core-js@0.9.10/library/modules/$.redef"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.redef");return t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.iter-detect",["npm:core-js@0.9.10/library/modules/$.wks"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.wks")("iterator"),o=!1;try{var s=[7][r]();s["return"]=function(){o=!0},Array.from(s,function(){throw 2})}catch(a){}return t.exports=function(e){if(!o)return!1;var t=!1;try{var n=[7],i=n[r]();i.next=function(){t=!0},n[r]=function(){return i},e(n)}catch(s){}return t},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/fn/object/define-property",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$");return t.exports=function(e,t,n){return r.setDesc(e,t,n)},n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/helpers/class-call-check",[],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,e["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.__esModule=!0,n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.enum-keys",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$");return t.exports=function(e){var t=r.getKeys(e),n=r.getDesc,i=r.getSymbols;return i&&r.each.call(i(e),function(i){n(e,i).enumerable&&t.push(i)}),t},n.define=i,t.exports}),function(){function e(){}e.amd={};var t={extensions:{}},n=(t.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else{var n,i=e.length;for(n=0;i>n;n++)t(e[n],n,e)}},function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()});t.converter=function(e){var i,r,o,s=0,a=[],l=[];if("undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"!=typeof require){var c=require("fs");if(c){var u=c.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});t.forEach(u,function(e){var i=n(e);t.extensions[i]=require("./extensions/"+e)})}}if(this.makeHtml=function(e){return i={},r={},o=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=P(e),e=e.replace(/^[ \t]+$/gm,""),t.forEach(a,function(t){e=f(t,e)}),e=T(e),e=m(e),e=p(e),e=v(e),e=R(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),t.forEach(l,function(t){e=f(t,e)}),e},e&&e.extensions){var d=this;t.forEach(e.extensions,function(e){var i=e;if("string"==typeof e&&(e=t.extensions[n(e)]),"function"!=typeof e)throw"Extension '"+i+"' could not be loaded.  It was either not found or is not a valid extension.";t.forEach(e(d),function(e){e.type?"language"===e.type||"lang"===e.type?a.push(e):("output"===e.type||"html"===e.type)&&l.push(e):l.push(e)})})}var h,f=function(e,t){if(e.regex){var n=new RegExp(e.regex,"g");return t.replace(n,e.replace)}return e.filter?e.filter(t):void 0},p=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,t,n,o,s){return t=t.toLowerCase(),i[t]=z(n),o?o+s:(s&&(r[t]=s.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},m=function(e){e=e.replace(/\n/g,"\n\n");return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,g),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,g),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,g),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,g),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,g),e=e.replace(/\n\n/g,"\n")},g=function(e,t){var n=t;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(o.push(n)-1)+"K\n\n"},v=function(e){e=C(e);var t=j("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t),e=$(e),e=S(e),e=L(e),e=m(e),e=E(e)},y=function(e){return e=D(e),e=b(e),e=I(e),e=k(e),e=w(e),e=A(e),e=z(e),e=O(e),e=e.replace(/  +\n/g," <br />\n")},b=function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=H(t,"\\`*_")})},w=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,x),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,x),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,x)},x=function(e,t,n,o,s,a,l,c){void 0===c&&(c="");var u=t,d=n,h=o.toLowerCase(),f=s,p=c;if(""===f)if(""===h&&(h=d.toLowerCase().replace(/ ?\n/g," ")),f="#"+h,void 0!==i[h])f=i[h],void 0!==r[h]&&(p=r[h]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;f=""}f=H(f,"*_");var m='<a href="'+f+'"';return""!==p&&(p=p.replace(/"/g,"&quot;"),p=H(p,"*_"),m+=' title="'+p+'"'),m+=">"+d+"</a>"},k=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,_),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,_)},_=function(e,t,n,o,s,a,l,c){var u=t,d=n,h=o.toLowerCase(),f=s,p=c;if(p||(p=""),""===f){if(""===h&&(h=d.toLowerCase().replace(/ ?\n/g," ")),f="#"+h,void 0===i[h])return u;f=i[h],void 0!==r[h]&&(p=r[h])}d=d.replace(/"/g,"&quot;"),f=H(f,"*_");var m='<img src="'+f+'" alt="'+d+'"';return p=p.replace(/"/g,"&quot;"),p=H(p,"*_"),m+=' title="'+p+'"',m+=" />"},C=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return j('<h1 id="'+t(n)+'">'+y(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return j('<h2 id="'+t(n)+'">'+y(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,i){var r=n.length;return j("<h"+r+' id="'+t(i)+'">'+y(i)+"</h"+r+">")})},$=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return s?e=e.replace(t,function(e,t,n){var i=t,r=n.search(/[*+-]/g)>-1?"ul":"ol";i=i.replace(/\n{2,}/g,"\n\n\n");var o=h(i);return o=o.replace(/\s+$/,""),o="<"+r+">"+o+"</"+r+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,i){var r=t,o=n,s=i.search(/[*+-]/g)>-1?"ul":"ol";o=o.replace(/\n{2,}/g,"\n\n\n");var a=h(o);return a=r+"<"+s+">\n"+a+"</"+s+">\n"})),e=e.replace(/~0/,"")};h=function(e){return s++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,t,n,i,r){var o=r,s=t;return s||o.search(/\n{2,}/)>-1?o=v(F(o)):(o=$(F(o)),o=o.replace(/\n$/,""),o=y(o)),"<li>"+o+"</li>\n"}),e=e.replace(/~0/g,""),s--,e};var S=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var i=t,r=n;return i=M(F(i)),i=P(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code>"+i+"\n</code></pre>",j(i)+r}),e=e.replace(/~0/,"")},T=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,t,n){var i=t,r=n;return r=M(r),r=P(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code"+(i?' class="'+i+'"':"")+">"+r+"\n</code></pre>",j(r)}),e=e.replace(/~0/,"")},j=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(o.push(e)-1)+"K\n\n"},D=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,i,r){var o=i;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=M(o),t+"<code>"+o+"</code>"})},M=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=H(e,"*_{}[]\\",!1)},O=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},L=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=v(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),j("<blockquote>\n"+n+"\n</blockquote>")})},E=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var t=e.split(/\n{2,}/g),n=[],i=t.length,r=0;i>r;r++){var s=t[r];s.search(/~K(\d+)K/g)>=0?n.push(s):s.search(/\S/)>=0&&(s=y(s),s=s.replace(/^([ \t]*)/g,"<p>"),s+="</p>",n.push(s))}for(i=n.length,r=0;i>r;r++)for(;n[r].search(/~K(\d+)K/)>=0;){var a=o[RegExp.$1];a=a.replace(/\$/g,"$$$$"),n[r]=n[r].replace(/~K\d+K/,a)}return n.join("\n\n")},z=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},I=function(e){return e=e.replace(/\\(\\)/g,q),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,q)},A=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,t){return N(R(t))})},N=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=t[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},R=function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})},F=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},P=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t,n){for(var i=t,r=4-i.length%4,o=0;r>o;o++)i+=" ";return i}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},H=function(e,t,n){var i="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var r=new RegExp(i,"g");return e=e.replace(r,q)},q=function(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=t),"function"==typeof e&&e.amd&&System.register("github:showdownjs/showdown@0.5.4/showdown",[],!1,function(){return t}),"undefined"!=typeof angular&&"undefined"!=typeof t&&!function(e,t){function n(){function e(){var e=new t.converter(n);this.makeHtml=function(t){return e.makeHtml(t)},this.stripHtml=function(e){return String(e).replace(/<[^>]+>/gm,"")}}var n={extensions:[],stripHtml:!0};this.setOption=function(e,t){return n.key=t,this},this.getOption=function(e){return n.hasOwnProperty(e)?n.key:null},this.loadExtension=function(e){return n.extensions.push(e),this},this.$get=function(){return new e}}function i(e,t){var n=function(n,i){n.$watch("model",function(n){var r;r="string"==typeof n?t(e.makeHtml(n)):typeof n,i.html(r)})};return{restrict:"A",link:n,scope:{model:"=sdModelToHtml"}}}function r(){return function(e){return String(e).replace(/<[^>]+>/gm,"")}}e.provider("$Showdown",n).directive("sdModelToHtml",["$Showdown","$sanitize",i]).filter("sdStripHtml",r)}(angular.module("Showdown",["ngSanitize"]),t)}(),function(){function e(){}e.amd={},function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(t,n){function i(e){var t="length"in e&&e.length,n=ee.type(e);return"function"===n||ee.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ee.isFunction(t))return ee.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ee.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(le.test(t))return ee.filter(t,e,n);t=ee.filter(t,e)}return ee.grep(e,function(e){return Y.call(t,e)>=0!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=me[e]={};return ee.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(){Q.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),ee.ready()}function l(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ee.expando+l.uid++}function c(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(xe,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:we.test(n)?ee.parseJSON(n):n}catch(r){}be.set(e,t,n)}else n=void 0;return n}function u(){return!0}function d(){return!1}function h(){try{return Q.activeElement}catch(e){}}function f(e,t){return ee.nodeName(e,"table")&&ee.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function m(e){var t=Ne.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,i=e.length;i>n;n++)ye.set(e[n],"globalEval",!t||ye.get(t[n],"globalEval"))}function v(e,t){var n,i,r,o,s,a,l,c;if(1===t.nodeType){if(ye.hasData(e)&&(o=ye.access(e),s=ye.set(t,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)ee.event.add(t,r,c[r][n])}be.hasData(e)&&(a=be.access(e),l=ee.extend({},a),be.set(t,l))}}function y(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ee.nodeName(e,t)?ee.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&$e.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function w(e,n){var i,r=ee(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:ee.css(r[0],"display");return r.detach(),o}function x(e){var t=Q,n=He[e];return n||(n=w(e,t),"none"!==n&&n||(Pe=(Pe||ee("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Pe[0].contentDocument,t.write(),t.close(),n=w(e,t),Pe.detach()),He[e]=n),n}function k(e,t,n){var i,r,o,s,a=e.style;return n=n||We(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||ee.contains(e.ownerDocument,e)||(s=ee.style(e,t)),Be.test(s)&&qe.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Xe.length;r--;)if(t=Xe[r]+n,t in e)return t;return i}function $(e,t,n){var i=Ue.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ee.css(e,n+_e[o],!0,r)),i?("content"===n&&(s-=ee.css(e,"padding"+_e[o],!0,r)),"margin"!==n&&(s-=ee.css(e,"border"+_e[o]+"Width",!0,r))):(s+=ee.css(e,"padding"+_e[o],!0,r),"padding"!==n&&(s+=ee.css(e,"border"+_e[o]+"Width",!0,r)));return s}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=We(e),s="border-box"===ee.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=k(e,t,o),(0>r||null==r)&&(r=e.style[t]),Be.test(r))return r;i=s&&(J.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+S(e,t,n||(s?"border":"content"),i,o)+"px"}function j(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=ye.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ce(i)&&(o[s]=ye.access(i,"olddisplay",x(i.nodeName)))):(r=Ce(i),"none"===n&&r||ye.set(i,"olddisplay",r?n:ee.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function D(e,t,n,i,r){return new D.prototype.init(e,t,n,i,r)}function M(){return setTimeout(function(){Je=void 0}),Je=ee.now()}function O(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=_e[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function L(e,t,n){for(var i,r=(it[t]||[]).concat(it["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function E(e,t,n){var i,r,o,s,a,l,c,u,d=this,h={},f=e.style,p=e.nodeType&&Ce(e),m=ye.get(e,"fxshow");n.queue||(a=ee._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ee.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=ee.css(e,"display"),u="none"===c?ye.get(e,"olddisplay")||x(e.nodeName):c,"inline"===u&&"none"===ee.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Ze.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}h[i]=m&&m[i]||ee.style(e,i)}else c=void 0;if(ee.isEmptyObject(h))"inline"===("none"===c?x(e.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(p=m.hidden):m=ye.access(e,"fxshow",{}),o&&(m.hidden=!p),p?ee(e).show():d.done(function(){ee(e).hide()}),d.done(function(){var t;ye.remove(e,"fxshow");for(t in h)ee.style(e,t,h[t])});for(i in h)s=L(p?m[i]:0,i,d),i in m||(m[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function z(e,t){var n,i,r,o,s;for(n in e)if(i=ee.camelCase(n),r=t[i],o=e[n],ee.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=ee.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function I(e,t,n){var i,r,o=0,s=nt.length,a=ee.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Je||M(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ee.extend({},t),opts:ee.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Je||M(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ee.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(z(u,c.opts.specialEasing);s>o;o++)if(i=nt[o].call(c,e,u,c.opts))return i;return ee.map(u,L,c),ee.isFunction(c.opts.start)&&c.opts.start.call(e,c),ee.fx.timer(ee.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function A(e){return function(t,n){"string"!=typeof t&&(n=t,
t="*");var i,r=0,o=t.toLowerCase().match(pe)||[];if(ee.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function N(e,t,n,i){function r(a){var l;return o[a]=!0,ee.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===wt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function R(e,t){var n,i,r=ee.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&ee.extend(!0,e,i),e}function F(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function P(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function H(e,t,n,i){var r;if(ee.isArray(t))ee.each(t,function(t,r){n||$t.test(e)?i(e,r):H(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ee.type(t))i(e,t);else for(r in t)H(e+"["+r+"]",t[r],n,i)}function q(e){return ee.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],W=B.slice,K=B.concat,U=B.push,Y=B.indexOf,G={},V=G.toString,X=G.hasOwnProperty,J={},Q=t.document,Z="2.1.4",ee=function(e,t){return new ee.fn.init(e,t)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ne=/^-ms-/,ie=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};ee.fn=ee.prototype={jquery:Z,constructor:ee,selector:"",length:0,toArray:function(){return W.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:W.call(this)},pushStack:function(e){var t=ee.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ee.each(this,e,t)},map:function(e){return this.pushStack(ee.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:B.sort,splice:B.splice},ee.extend=ee.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ee.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],i=e[t],s!==i&&(c&&i&&(ee.isPlainObject(i)||(r=ee.isArray(i)))?(r?(r=!1,o=n&&ee.isArray(n)?n:[]):o=n&&ee.isPlainObject(n)?n:{},s[t]=ee.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},ee.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ee.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!ee.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==ee.type(e)||e.nodeType||ee.isWindow(e)?!1:e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?G[V.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=ee.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ne,"ms-").replace(ie,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,o=0,s=e.length,a=i(e);if(n){if(a)for(;s>o&&(r=t.apply(e[o],n),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],n),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(te,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ee.merge(n,"string"==typeof e?[e]:e):U.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:Y.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o=0,s=e.length,a=i(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,n),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,n),null!=r&&l.push(r);return K.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),ee.isFunction(e)?(i=W.call(arguments,2),r=function(){return e.apply(t||this,i.concat(W.call(arguments)))},r.guid=e.guid=e.guid||ee.guid++,r):void 0},now:Date.now,support:J}),ee.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()});var oe=function(e){function t(e,t,n,i){var r,o,s,a,l,c,d,f,p,m;if((t?t.ownerDocument||t:P)!==L&&O(t),t=t||L,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&z){if(11!==a&&(r=ye.exec(e)))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&R(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&x.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(s)),n}if(x.qsa&&(!I||!I.test(e))){if(f=d=F,p=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=$(e),(d=t.getAttribute("id"))?f=d.replace(we,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=be.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=q++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c=[H,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[F]||(t[F]={}),(a=l[i])&&a[0]===H&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function v(e,t,n,r,o,s){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,d,h=[],f=[],p=s.length,v=i||m(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:g(v,h,e,a,l),b=n?o||(i?e:p||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(c=g(b,f),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?ee(i,d):h[u])>-1&&(i[c]=!(s[c]=d))}}else b=g(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):Q.apply(s,b)})}function y(e){for(var t,n,i,r=e.length,o=k.relative[e[0].type],s=o||k.relative[" "],a=o?1:0,l=f(function(e){return e===t},s,!0),c=f(function(e){return ee(t,e)>-1},s,!0),u=[function(e,n,i){var r=!o&&(i||n!==j)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>a;a++)if(n=k.relative[e[a].type])u=[f(p(u),n)];else{if(n=k.filter[e[a].type].apply(null,e[a].matches),n[F]){for(i=++a;r>i&&!k.relative[e[i].type];i++);return v(a>1&&p(u),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}u.push(n)}return p(u)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,c){var u,d,h,f=0,p="0",m=i&&[],v=[],y=j,b=i||o&&k.find.TAG("*",c),w=H+=null==y?1:Math.random()||.1,x=b.length;for(c&&(j=s!==L&&s);p!==x&&null!=(u=b[p]);p++){if(o&&u){for(d=0;h=e[d++];)if(h(u,s,a)){l.push(u);break}c&&(H=w)}r&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,v,s,a);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(H=w,j=y),m};return r?i(s):s}var w,x,k,_,C,$,S,T,j,D,M,O,L,E,z,I,A,N,R,F="sizzle"+1*new Date,P=e.document,H=0,q=0,B=n(),W=n(),K=n(),U=function(e,t){return e===t&&(M=!0),0},Y=1<<31,G={}.hasOwnProperty,V=[],X=V.pop,J=V.push,Q=V.push,Z=V.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(se),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),ke=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_e=function(){O()};try{Q.apply(V=Z.call(P.childNodes),P.childNodes),V[P.childNodes.length].nodeType}catch(Ce){Q={apply:V.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:P;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,E=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),z=!C(i),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(i.getElementsByClassName),x.getById=r(function(e){return E.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),x.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&z){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(xe,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(xe,ke);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=x.getElementsByClassName&&function(e,t){return z?t.getElementsByClassName(e):void 0},A=[],I=[],(x.qsa=ve.test(i.querySelectorAll))&&(r(function(e){E.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||I.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(x.matchesSelector=ve.test(N=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&r(function(e){x.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),A.push("!=",se)}),I=I.length&&new RegExp(I.join("|")),A=A.length&&new RegExp(A.join("|")),t=ve.test(E.compareDocumentPosition),R=t||ve.test(E.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===P&&R(P,e)?-1:t===i||t.ownerDocument===P&&R(P,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:D?ee(D,e)-ee(D,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===P?-1:c[r]===P?1:0},i):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&O(e),n=n.replace(de,"='$1']"),!(!x.matchesSelector||!z||A&&A.test(n)||I&&I.test(n)))try{var i=N.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&O(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&O(e);var n=k.attrHandle[t.toLowerCase()],i=n&&G.call(k.attrHandle,t.toLowerCase())?n(e,t,!z):void 0;return void 0!==i?i:x.attributes||!z?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(M=!x.detectDuplicates,D=!x.sortStable&&e.slice(0),e.sort(U),M){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return D=null,e},_=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},k=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=$(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(u=g[F]||(g[F]={}),c=u[e]||[],f=c[0]===H&&c[1],h=c[0]===H&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[H,f,h];break}}else if(y&&(c=(t[F]||(t[F]={}))[e])&&c[0]===H)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[F]||(d[F]={}))[e]=[H,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(r=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=ee(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(le,"$1"));return r[F]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xe,ke),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,ke).toLowerCase(),function(t){var n;do if(n=z?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===E},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,$=t.tokenize=function(e,n){var i,r,o,s,a,l,c,u=W[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=k.preFilter;a;){(!i||(r=ce.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ue.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(le," ")}),a=a.slice(i.length));for(s in k.filter)!(r=pe[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):W(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],o=K[e+" "];if(!o){for(t||(t=$(e)),n=t.length;n--;)o=y(t[n]),o[F]?i.push(o):r.push(o);o=K(e,b(r,i)),o.selector=e}return o},T=t.select=function(e,t,n,i){var r,o,s,a,l,c="function"==typeof e&&e,d=!i&&$(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===t.nodeType&&z&&k.relative[o[1].type]){if(t=(k.find.ID(s.matches[0].replace(xe,ke),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(i=l(s.matches[0].replace(xe,ke),be.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return Q.apply(n,i),n;break}}return(c||S(e,d))(i,t,!z,n,be.test(e)&&u(t.parentNode)||t),n},x.sortStable=F.split("").sort(U).join("")===F,x.detectDuplicates=!!M,O(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(t);ee.find=oe,ee.expr=oe.selectors,ee.expr[":"]=ee.expr.pseudos,ee.unique=oe.uniqueSort,ee.text=oe.getText,ee.isXMLDoc=oe.isXML,ee.contains=oe.contains;var se=ee.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=/^.[^:#\[\.,]*$/;ee.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ee.find.matchesSelector(i,e)?[i]:[]:ee.find.matches(e,ee.grep(t,function(e){return 1===e.nodeType}))},ee.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(ee(e).filter(function(){for(t=0;n>t;t++)if(ee.contains(r[t],this))return!0}));for(t=0;n>t;t++)ee.find(e,r[t],i);return i=this.pushStack(n>1?ee.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&se.test(e)?ee(e):e||[],!1).length}});var ce,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,de=ee.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ce).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ee?t[0]:t,ee.merge(this,ee.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ae.test(n[1])&&ee.isPlainObject(t))for(n in t)ee.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Q.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ee.isFunction(e)?"undefined"!=typeof ce.ready?ce.ready(e):e(ee):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ee.makeArray(e,this))};de.prototype=ee.fn,ce=ee(Q);var he=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};ee.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ee(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ee.fn.extend({has:function(e){var t=ee(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(ee.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=se.test(e)||"string"!=typeof e?ee(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ee.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ee.unique(o):o)},index:function(e){return e?"string"==typeof e?Y.call(ee(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ee.unique(ee.merge(this.get(),ee(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ee.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ee.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ee.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ee.dir(e,"nextSibling")},prevAll:function(e){return ee.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ee.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ee.dir(e,"previousSibling",n)},siblings:function(e){return ee.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ee.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ee.merge([],e.childNodes)}},function(e,t){ee.fn[e]=function(n,i){var r=ee.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ee.filter(i,r)),this.length>1&&(fe[e]||ee.unique(r),he.test(e)&&r.reverse()),this.pushStack(r)}});var pe=/\S+/g,me={};ee.Callbacks=function(e){e="string"==typeof e?me[e]||s(e):ee.extend({},e);var t,n,i,r,o,a,l=[],c=!e.once&&[],u=function(s){for(t=e.memory&&s,n=!0,a=r||0,r=0,o=l.length,i=!0;l&&o>a;a++)if(l[a].apply(s[0],s[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function s(t){ee.each(t,function(t,n){var i=ee.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?o=l.length:t&&(r=n,u(t))}return this},remove:function(){return l&&ee.each(arguments,function(e,t){for(var n;(n=ee.inArray(t,l,n))>-1;)l.splice(n,1),i&&(o>=n&&o--,a>=n&&a--)}),this},has:function(e){return e?ee.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},ee.extend({Deferred:function(e){var t=[["resolve","done",ee.Callbacks("once memory"),"resolved"],["reject","fail",ee.Callbacks("once memory"),"rejected"],["notify","progress",ee.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ee.Deferred(function(n){ee.each(t,function(t,o){var s=ee.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ee.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ee.extend(e,i):i}},r={};return i.pipe=i.then,ee.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=W.call(arguments),s=o.length,a=1!==s||e&&ee.isFunction(e.promise)?s:0,l=1===a?e:ee.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?W.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ee.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}});var ge;ee.fn.ready=function(e){return ee.ready.promise().done(e),this},ee.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ee.readyWait++:ee.ready(!0)},ready:function(e){(e===!0?--ee.readyWait:ee.isReady)||(ee.isReady=!0,e!==!0&&--ee.readyWait>0||(ge.resolveWith(Q,[ee]),ee.fn.triggerHandler&&(ee(Q).triggerHandler("ready"),ee(Q).off("ready"))))}}),ee.ready.promise=function(e){return ge||(ge=ee.Deferred(),"complete"===Q.readyState?setTimeout(ee.ready):(Q.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),ge.promise(e)},ee.ready.promise();var ve=ee.access=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===ee.type(n)){r=!0;for(a in n)ee.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ee.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(ee(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o};ee.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},l.uid=1,l.accepts=ee.acceptData,l.prototype={key:function(e){if(!l.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=l.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,ee.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(ee.isEmptyObject(o))ee.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,ee.camelCase(t))):(this.set(e,t,n),
void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{ee.isArray(t)?i=t.concat(t.map(ee.camelCase)):(r=ee.camelCase(t),t in s?i=[t,r]:(i=r,i=i in s?[i]:i.match(pe)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!ee.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ye=new l,be=new l,we=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;ee.extend({hasData:function(e){return be.hasData(e)||ye.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return ye.access(e,t,n)},_removeData:function(e,t){ye.remove(e,t)}}),ee.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=be.get(o),1===o.nodeType&&!ye.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ee.camelCase(i.slice(5)),c(o,i,r[i])));ye.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){be.set(this,e)}):ve(this,function(t){var n,i=ee.camelCase(e);if(o&&void 0===t){if(n=be.get(o,e),void 0!==n)return n;if(n=be.get(o,i),void 0!==n)return n;if(n=c(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,i);be.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),ee.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ye.get(e,t),n&&(!i||ee.isArray(n)?i=ye.access(e,t,ee.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ee.queue(e,t),i=n.length,r=n.shift(),o=ee._queueHooks(e,t),s=function(){ee.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ye.get(e,n)||ye.access(e,n,{empty:ee.Callbacks("once memory").add(function(){ye.remove(e,[t+"queue",n])})})}}),ee.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ee.queue(this[0],e):void 0===t?this:this.each(function(){var n=ee.queue(this,e,t);ee._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ee.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ee.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ee.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ye.get(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===ee.css(e,"display")||!ee.contains(e.ownerDocument,e)},$e=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";J.focusinBubbles="onfocusin"in t;var Te=/^key/,je=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ee.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,f,p,m,g=ye.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ee.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return typeof ee!==Se&&ee.event.triggered!==t.type?ee.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pe)||[""],c=t.length;c--;)a=Me.exec(t[c])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f&&(d=ee.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=ee.event.special[f]||{},u=ee.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ee.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,p,s)!==!1||e.addEventListener&&e.addEventListener(f,s,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),ee.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,f,p,m,g=ye.hasData(e)&&ye.get(e);if(g&&(l=g.events)){for(t=(t||"").match(pe)||[""],c=t.length;c--;)if(a=Me.exec(t[c])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(d=ee.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||ee.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)ee.event.remove(e,f+t[c],n,i,!0);ee.isEmptyObject(l)&&(delete g.handle,ye.remove(e,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,c,u,d,h=[i||Q],f=X.call(e,"type")?e.type:e,p=X.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!De.test(f+ee.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,e=e[ee.expando]?e:new ee.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ee.makeArray(n,[e]),d=ee.event.special[f]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!ee.isWindow(i)){for(l=d.delegateType||f,De.test(l+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||Q)&&h.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||f,u=(ye.get(s,"events")||{})[e.type]&&ye.get(s,"handle"),u&&u.apply(s,n),u=c&&s[c],u&&u.apply&&ee.acceptData(s)&&(e.result=u.apply(s,n),e.result===!1&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!ee.acceptData(i)||c&&ee.isFunction(i[f])&&!ee.isWindow(i)&&(a=i[c],a&&(i[c]=null),ee.event.triggered=f,i[f](),ee.event.triggered=void 0,a&&(i[c]=a)),e.result}},dispatch:function(e){e=ee.event.fix(e);var t,n,i,r,o,s=[],a=W.call(arguments),l=(ye.get(this,"events")||{})[e.type]||[],c=ee.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=ee.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((ee.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;a>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ee(r,this).index(l)>=0:ee.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ee.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=je.test(r)?this.mouseHooks:Te.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ee.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ee.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ee.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ee.extend(new ee.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ee.event.trigger(r,null,t):ee.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ee.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ee.Event=function(e,t){return this instanceof ee.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:d):this.type=e,t&&ee.extend(this,t),this.timeStamp=e&&e.timeStamp||ee.now(),void(this[ee.expando]=!0)):new ee.Event(e,t)},ee.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ee.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ee.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!ee.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||ee.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ee.event.simulate(t,e.target,ee.event.fix(e),!0)};ee.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ye.access(i,t);r||i.addEventListener(e,n,!0),ye.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ye.access(i,t)-1;r?ye.access(i,t,r):(i.removeEventListener(e,n,!0),ye.remove(i,t))}}}),ee.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=d;else if(!i)return this;return 1===r&&(o=i,i=function(e){return ee().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=ee.guid++)),this.each(function(){ee.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ee(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=d),this.each(function(){ee.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ee.event.trigger(e,t,n,!0):void 0}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,Ee=/<|&#?\w+;/,ze=/<(?:script|style|link)/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^$|\/(?:java|ecma)script/i,Ne=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,ee.extend({clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=ee.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ee.isXMLDoc(e)))for(s=y(a),o=y(e),i=0,r=o.length;r>i;i++)b(o[i],s[i]);if(t)if(n)for(o=o||y(e),s=s||y(a),i=0,r=o.length;r>i;i++)v(o[i],s[i]);else v(e,a);return s=y(a,"script"),s.length>0&&g(s,!l&&y(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,c,u=t.createDocumentFragment(),d=[],h=0,f=e.length;f>h;h++)if(r=e[h],r||0===r)if("object"===ee.type(r))ee.merge(d,r.nodeType?[r]:r);else if(Ee.test(r)){for(o=o||u.appendChild(t.createElement("div")),s=(Le.exec(r)||["",""])[1].toLowerCase(),a=Fe[s]||Fe._default,o.innerHTML=a[1]+r.replace(Oe,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;ee.merge(d,o.childNodes),o=u.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",h=0;r=d[h++];)if((!i||-1===ee.inArray(r,i))&&(l=ee.contains(r.ownerDocument,r),o=y(u.appendChild(r),"script"),l&&g(o),n))for(c=0;r=o[c++];)Ae.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,o=ee.event.special,s=0;void 0!==(n=e[s]);s++){if(ee.acceptData(n)&&(r=n[ye.expando],r&&(t=ye.cache[r]))){if(t.events)for(i in t.events)o[i]?ee.event.remove(n,i):ee.removeEvent(n,i,t.handle);ye.cache[r]&&delete ye.cache[r]}delete be.cache[n[be.expando]]}}}),ee.fn.extend({text:function(e){return ve(this,function(e){return void 0===e?ee.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ee.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ee.cleanData(y(n)),n.parentNode&&(t&&ee.contains(n.ownerDocument,n)&&g(y(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ee.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ee.clone(this,e,t)})},html:function(e){return ve(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ze.test(e)&&!Fe[(Le.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Oe,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ee.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ee.cleanData(y(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var n,i,r,o,s,a,l=0,c=this.length,u=this,d=c-1,h=e[0],f=ee.isFunction(h);if(f||c>1&&"string"==typeof h&&!J.checkClone&&Ie.test(h))return this.each(function(n){var i=u.eq(n);f&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=ee.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=ee.map(y(n,"script"),p),o=r.length;c>l;l++)s=n,l!==d&&(s=ee.clone(s,!0,!0),o&&ee.merge(r,y(s,"script"))),t.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,ee.map(r,m),l=0;o>l;l++)s=r[l],Ae.test(s.type||"")&&!ye.access(s,"globalEval")&&ee.contains(a,s)&&(s.src?ee._evalUrl&&ee._evalUrl(s.src):ee.globalEval(s.textContent.replace(Re,"")))}return this}}),ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ee.fn[e]=function(e){for(var n,i=[],r=ee(e),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ee(r[s])[t](n),U.apply(i,n.get());return this.pushStack(i)}});var Pe,He={},qe=/^margin/,Be=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),We=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(s,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(o)}var n,i,r=Q.documentElement,o=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&ee.extend(J,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=s.appendChild(Q.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(o),s.removeChild(n),e}}))}(),ee.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var Ke=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+ke+")(.*)$","i"),Ye=new RegExp("^([+-])=("+ke+")","i"),Ge={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=k(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=ee.camelCase(t),l=e.style;return t=ee.cssProps[a]||(ee.cssProps[a]=C(l,a)),s=ee.cssHooks[t]||ee.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Ye.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ee.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ee.cssNumber[a]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,o,s,a=ee.camelCase(t);return t=ee.cssProps[a]||(ee.cssProps[a]=C(e.style,a)),s=ee.cssHooks[t]||ee.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=k(e,t,i)),"normal"===r&&t in Ve&&(r=Ve[t]),""===n||n?(o=parseFloat(r),n===!0||ee.isNumeric(o)?o||0:r):r}}),ee.each(["height","width"],function(e,t){ee.cssHooks[t]={get:function(e,n,i){return n?Ke.test(ee.css(e,"display"))&&0===e.offsetWidth?ee.swap(e,Ge,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){var r=i&&We(e);return $(e,n,i?S(e,t,i,"border-box"===ee.css(e,"boxSizing",!1,r),r):0)}}}),ee.cssHooks.marginRight=_(J.reliableMarginRight,function(e,t){return t?ee.swap(e,{display:"inline-block"},k,[e,"marginRight"]):void 0}),ee.each({margin:"",padding:"",border:"Width"},function(e,t){ee.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+_e[i]+t]=o[i]||o[i-2]||o[0];return r}},qe.test(e)||(ee.cssHooks[e+t].set=$)}),ee.fn.extend({css:function(e,t){return ve(this,function(e,t,n){var i,r,o={},s=0;if(ee.isArray(t)){for(i=We(e),r=t.length;r>s;s++)o[t[s]]=ee.css(e,t[s],!1,i);return o}return void 0!==n?ee.style(e,t,n):ee.css(e,t)},e,t,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?ee(this).show():ee(this).hide()})}}),ee.Tween=D,D.prototype={constructor:D,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ee.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ee.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ee.fx.step[e.prop]?ee.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ee.cssProps[e.prop]]||ee.cssHooks[e.prop])?ee.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ee.fx=D.prototype.init,ee.fx.step={};var Je,Qe,Ze=/^(?:toggle|show|hide)$/,et=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),tt=/queueHooks$/,nt=[E],it={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=et.exec(t),o=r&&r[3]||(ee.cssNumber[e]?"":"px"),s=(ee.cssNumber[e]||"px"!==o&&+i)&&et.exec(ee.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,ee.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};ee.Animation=ee.extend(I,{tweener:function(e,t){ee.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],it[n]=it[n]||[],it[n].unshift(t)},prefilter:function(e,t){t?nt.unshift(e):nt.push(e)}}),ee.speed=function(e,t,n){var i=e&&"object"==typeof e?ee.extend({},e):{complete:n||!n&&t||ee.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ee.isFunction(t)&&t};return i.duration=ee.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ee.fx.speeds?ee.fx.speeds[i.duration]:ee.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ee.isFunction(i.old)&&i.old.call(this),i.queue&&ee.dequeue(this,i.queue)},i},ee.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ee.isEmptyObject(e),o=ee.speed(t,n,i),s=function(){var t=I(this,ee.extend({},e),o);(r||ye.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=ee.timers,s=ye.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&tt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&ee.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ye.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ee.timers,s=i?i.length:0;for(n.finish=!0,ee.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ee.each(["toggle","show","hide"],function(e,t){var n=ee.fn[t];ee.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,r)}}),ee.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ee.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ee.timers=[],ee.fx.tick=function(){var e,t=0,n=ee.timers;for(Je=ee.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ee.fx.stop(),Je=void 0},ee.fx.timer=function(e){ee.timers.push(e),e()?ee.fx.start():ee.timers.pop()},ee.fx.interval=13,ee.fx.start=function(){Qe||(Qe=setInterval(ee.fx.tick,ee.fx.interval))},ee.fx.stop=function(){clearInterval(Qe),Qe=null},ee.fx.speeds={slow:600,fast:200,_default:400},ee.fn.delay=function(e,t){return e=ee.fx?ee.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var rt,ot,st=ee.expr.attrHandle;ee.fn.extend({attr:function(e,t){return ve(this,ee.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ee.removeAttr(this,e)})}}),ee.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Se?ee.prop(e,t,n):(1===o&&ee.isXMLDoc(e)||(t=t.toLowerCase(),i=ee.attrHooks[t]||(ee.expr.match.bool.test(t)?ot:rt)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ee.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void ee.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;n=o[r++];)i=ee.propFix[n]||n,ee.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&ee.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ot={set:function(e,t,n){return t===!1?ee.removeAttr(e,n):e.setAttribute(n,n),n}},ee.each(ee.expr.match.bool.source.match(/\w+/g),function(e,t){var n=st[t]||ee.find.attr;st[t]=function(e,t,i){var r,o;return i||(o=st[t],st[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,st[t]=o),r}});var at=/^(?:input|select|textarea|button)$/i;ee.fn.extend({prop:function(e,t){return ve(this,ee.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ee.propFix[e]||e]})}}),ee.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!ee.isXMLDoc(e),o&&(t=ee.propFix[t]||t,r=ee.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(ee.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ee.propFix[this.toLowerCase()]=this});var lt=/[\t\r\n\f]/g;ee.fn.extend({addClass:function(e){var t,n,i,r,o,s,a="string"==typeof e&&e,l=0,c=this.length;if(ee.isFunction(e))return this.each(function(t){ee(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pe)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(lt," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=ee.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(ee.isFunction(e))return this.each(function(t){ee(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pe)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(lt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?ee.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ee.isFunction(e)?this.each(function(n){ee(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=ee(this),o=e.match(pe)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&ye.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ye.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(lt," ").indexOf(t)>=0)return!0;return!1}});var ct=/\r/g;ee.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=ee.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,ee(this).val()):e,null==r?r="":"number"==typeof r?r+="":ee.isArray(r)&&(r=ee.map(r,function(e){return null==e?"":e+""})),t=ee.valHooks[this.type]||ee.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ee.valHooks[r.type]||ee.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ct,""):null==n?"":n)}}}),ee.extend({valHooks:{option:{get:function(e){var t=ee.find.attr(e,"value");return null!=t?t:ee.trim(ee.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ee.nodeName(n.parentNode,"optgroup"))){if(t=ee(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=ee.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=ee.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ee.each(["radio","checkbox"],function(){ee.valHooks[this]={set:function(e,t){return ee.isArray(t)?e.checked=ee.inArray(ee(e).val(),t)>=0:void 0}},J.checkOn||(ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ee.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ee.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ee.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n);
}});var ut=ee.now(),dt=/\?/;ee.parseJSON=function(e){return JSON.parse(e+"")},ee.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&ee.error("Invalid XML: "+e),t};var ht=/#.*$/,ft=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,vt=/^\/\//,yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},wt={},xt="*/".concat("*"),kt=t.location.href,_t=yt.exec(kt.toLowerCase())||[];ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt,type:"GET",isLocal:mt.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ee.parseJSON,"text xml":ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,ee.ajaxSettings),t):R(ee.ajaxSettings,e)},ajaxPrefilter:A(bt),ajaxTransport:A(wt),ajax:function(e,t){function n(e,t,n,s){var l,u,v,y,w,k=t;2!==b&&(b=2,a&&clearTimeout(a),i=void 0,o=s||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=F(d,x,n)),y=P(d,y,x,l),l?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ee.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(ee.etag[r]=w)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=y.state,u=y.data,v=y.error,l=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(t||k)+"",l?p.resolveWith(h,[u,k,x]):p.rejectWith(h,[x,k,v]),x.statusCode(g),g=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[x,d,l?u:v]),m.fireWith(h,[x,k]),c&&(f.trigger("ajaxComplete",[x,d]),--ee.active||ee.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,l,c,u,d=ee.ajaxSetup({},t),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?ee(h):ee.event,p=ee.Deferred(),m=ee.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=pt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(p.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||kt)+"").replace(ht,"").replace(vt,_t[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ee.trim(d.dataType||"*").toLowerCase().match(pe)||[""],null==d.crossDomain&&(l=yt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===_t[1]&&l[2]===_t[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ee.param(d.data,d.traditional)),N(bt,d,t,x),2===b)return x;c=ee.event&&d.global,c&&0===ee.active++&&ee.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!gt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(dt.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ft.test(r)?r.replace(ft,"$1_="+ut++):r+(dt.test(r)?"&":"?")+"_="+ut++)),d.ifModified&&(ee.lastModified[r]&&x.setRequestHeader("If-Modified-Since",ee.lastModified[r]),ee.etag[r]&&x.setRequestHeader("If-None-Match",ee.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xt+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)x.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(h,x,d)===!1||2===b))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](d[u]);if(i=N(wt,d,t,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,i.send(v,n)}catch(k){if(!(2>b))throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return ee.get(e,t,n,"json")},getScript:function(e,t){return ee.get(e,void 0,t,"script")}}),ee.each(["get","post"],function(e,t){ee[t]=function(e,n,i,r){return ee.isFunction(n)&&(r=r||i,i=n,n=void 0),ee.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),ee._evalUrl=function(e){return ee.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ee.fn.extend({wrapAll:function(e){var t;return ee.isFunction(e)?this.each(function(t){ee(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ee(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ee.isFunction(e)?this.each(function(t){ee(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ee(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ee.isFunction(e);return this.each(function(n){ee(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ee.nodeName(this,"body")||ee(this).replaceWith(this.childNodes)}).end()}}),ee.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ee.expr.filters.visible=function(e){return!ee.expr.filters.hidden(e)};var Ct=/%20/g,$t=/\[\]$/,St=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;ee.param=function(e,t){var n,i=[],r=function(e,t){t=ee.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ee.ajaxSettings&&ee.ajaxSettings.traditional),ee.isArray(e)||e.jquery&&!ee.isPlainObject(e))ee.each(e,function(){r(this.name,this.value)});else for(n in e)H(n,e[n],t,r);return i.join("&").replace(Ct,"+")},ee.fn.extend({serialize:function(){return ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ee.prop(this,"elements");return e?ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ee(this).is(":disabled")&&jt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var n=ee(this).val();return null==n?null:ee.isArray(n)?ee.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),ee.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Dt=0,Mt={},Ot={0:200,1223:204},Lt=ee.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var e in Mt)Mt[e]()}),J.cors=!!Lt&&"withCredentials"in Lt,J.ajax=Lt=!!Lt,ee.ajaxTransport(function(e){var t;return J.cors||Lt&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),s=++Dt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete Mt[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(Ot[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Mt[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ee.globalEval(e),e}}}),ee.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ee.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=ee("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Et=[],zt=/(=)\?(?=&|$)|\?\?/;ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Et.pop()||ee.expando+"_"+ut++;return this[e]=!0,e}}),ee.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(zt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ee.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(zt,"$1"+r):e.jsonp!==!1&&(e.url+=(dt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ee.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Et.push(r)),s&&ee.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ee.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=ae.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ee.buildFragment([e],t,r),r&&r.length&&ee(r).remove(),ee.merge([],i.childNodes))};var It=ee.fn.load;ee.fn.load=function(e,t,n){if("string"!=typeof e&&It)return It.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=ee.trim(e.slice(a)),e=e.slice(0,a)),ee.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&ee.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?ee("<div>").append(ee.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ee.fn[t]=function(e){return this.on(t,e)}}),ee.expr.filters.animated=function(e){return ee.grep(ee.timers,function(t){return e===t.elem}).length};var At=t.document.documentElement;ee.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c,u=ee.css(e,"position"),d=ee(e),h={};"static"===u&&(e.style.position="relative"),a=d.offset(),o=ee.css(e,"top"),l=ee.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ee.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},ee.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ee.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,ee.contains(t,i)?(typeof i.getBoundingClientRect!==Se&&(r=i.getBoundingClientRect()),n=q(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ee.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ee.nodeName(e[0],"html")||(i=e.offset()),i.top+=ee.css(e[0],"borderTopWidth",!0),i.left+=ee.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ee.css(n,"marginTop",!0),left:t.left-i.left-ee.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||At;e&&!ee.nodeName(e,"html")&&"static"===ee.css(e,"position");)e=e.offsetParent;return e||At})}}),ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;ee.fn[e]=function(r){return ve(this,function(e,r,o){var s=q(e);return void 0===o?s?s[n]:e[r]:void(s?s.scrollTo(i?t.pageXOffset:o,i?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),ee.each(["top","left"],function(e,t){ee.cssHooks[t]=_(J.pixelPosition,function(e,n){return n?(n=k(e,t),Be.test(n)?ee(e).position()[t]+"px":n):void 0})}),ee.each({Height:"height",Width:"width"},function(e,t){ee.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ee.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return ve(this,function(t,n,i){var r;return ee.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?ee.css(t,n,s):ee.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),ee.fn.size=function(){return this.length},ee.fn.andSelf=ee.fn.addBack,"function"==typeof e&&e.amd&&System.register("github:components/jquery@2.1.4/jquery",[],!1,function(e,t,n){return function(){return ee}.call(this)});var Nt=t.jQuery,Rt=t.$;return ee.noConflict=function(e){return t.$===ee&&(t.$=Rt),e&&t.jQuery===ee&&(t.jQuery=Nt),ee},typeof n===Se&&(t.jQuery=t.$=ee),ee})}(),System.register("npm:core-js@0.9.10/library/modules/$.collection-strong",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.ctx","npm:core-js@0.9.10/library/modules/$.uid","npm:core-js@0.9.10/library/modules/$.assert","npm:core-js@0.9.10/library/modules/$.for-of","npm:core-js@0.9.10/library/modules/$.iter","npm:core-js@0.9.10/library/modules/$.mix","npm:core-js@0.9.10/library/modules/$.iter-define"],!0,function(require,e,t){function n(e,t){if(!p(e))return("string"==typeof e?"S":"P")+e;if(g(e))return"F";if(!h(e,v)){if(!t)return"E";m(e,v,++_)}return"O"+e[v]}function i(e,t){var i,r=n(t);if("F"!=r)return e[y][r];for(i=e[w];i;i=i.n)if(i.k==t)return i}var r=System.global,o=r.define;r.define=void 0;var s=require("npm:core-js@0.9.10/library/modules/$"),a=require("npm:core-js@0.9.10/library/modules/$.ctx"),l=require("npm:core-js@0.9.10/library/modules/$.uid").safe,c=require("npm:core-js@0.9.10/library/modules/$.assert"),u=require("npm:core-js@0.9.10/library/modules/$.for-of"),d=require("npm:core-js@0.9.10/library/modules/$.iter").step,h=s.has,f=s.set,p=s.isObject,m=s.hide,g=Object.isFrozen||s.core.Object.isFrozen,v=l("id"),y=l("O1"),b=l("last"),w=l("first"),x=l("iter"),k=s.DESC?l("size"):"size",_=0;return t.exports={getConstructor:function(e,t,n){function r(){var i=c.inst(this,r,e),o=arguments[0];f(i,y,s.create(null)),f(i,k,0),f(i,b,void 0),f(i,w,void 0),void 0!=o&&u(o,t,i[n],i)}return require("npm:core-js@0.9.10/library/modules/$.mix")(r.prototype,{clear:function(){for(var e=this,t=e[y],n=e[w];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e[w]=e[b]=void 0,e[k]=0},"delete":function(e){var t=this,n=i(t,e);if(n){var r=n.n,o=n.p;delete t[y][n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),t[w]==n&&(t[w]=r),t[b]==n&&(t[b]=o),t[k]--}return!!n},forEach:function(e){for(var t,n=a(e,arguments[1],3);t=t?t.n:this[w];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!i(this,e)}}),s.DESC&&s.setDesc(r.prototype,"size",{get:function(){return c.def(this[k])}}),r},def:function(e,t,r){var o,s,a=i(e,t);return a?a.v=r:(e[b]=a={i:s=n(t,!0),k:t,v:r,p:o=e[b],n:void 0,r:!1},e[w]||(e[w]=a),o&&(o.n=a),e[k]++,"F"!=s&&(e[y][s]=a)),e},getEntry:i,setIter:function(e,t,n){require("npm:core-js@0.9.10/library/modules/$.iter-define")(e,t,function(e,t){f(this,x,{o:e,k:t})},function(){for(var e=this[x],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[w])?"keys"==t?d(0,n.k):"values"==t?d(0,n.v):d(0,[n.k,n.v]):(e.o=void 0,d(1))},n?"entries":"values",!n,!0)}},r.define=o,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.collection",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.def","npm:core-js@0.9.10/library/modules/$.iter","npm:core-js@0.9.10/library/modules/$.for-of","npm:core-js@0.9.10/library/modules/$.species","npm:core-js@0.9.10/library/modules/$.assert","npm:core-js@0.9.10/library/modules/$.redef","npm:core-js@0.9.10/library/modules/$.mix","npm:core-js@0.9.10/library/modules/$.iter-detect","npm:core-js@0.9.10/library/modules/$.cof"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$"),o=require("npm:core-js@0.9.10/library/modules/$.def"),s=require("npm:core-js@0.9.10/library/modules/$.iter").BUGGY,a=require("npm:core-js@0.9.10/library/modules/$.for-of"),l=require("npm:core-js@0.9.10/library/modules/$.species"),c=require("npm:core-js@0.9.10/library/modules/$.assert").inst;return t.exports=function(e,t,n,i,u){function d(e,t){if(r.FW){var n=m[e];require("npm:core-js@0.9.10/library/modules/$.redef")(m,e,function(e,i){var r=n.call(this,0===e?0:e,i);return t?this:r})}}var h=r.g[e],f=h,p=i?"set":"add",m=f&&f.prototype,g={};if(r.isFunction(f)&&(u||!s&&m.forEach&&m.entries)){var v,y=new f,b=y[p](u?{}:-0,1);require("npm:core-js@0.9.10/library/modules/$.iter-detect")(function(e){new f(e)})||(f=function(){c(this,f,e);var t=new h,n=arguments[0];return void 0!=n&&a(n,i,t[p],t),t},f.prototype=m,r.FW&&(m.constructor=f)),u||y.forEach(function(e,t){v=1/t===-(1/0)}),v&&(d("delete"),d("has"),i&&d("get")),(v||b!==y)&&d(p,!0)}else f=n.getConstructor(e,i,p),require("npm:core-js@0.9.10/library/modules/$.mix")(f.prototype,t);return require("npm:core-js@0.9.10/library/modules/$.cof").set(f,e),g[e]=f,o(o.G+o.W+o.F*(f!=h),g),l(f),l(r.core[e]),u||n.setIter(f,e,i),f},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.collection-to-json",["npm:core-js@0.9.10/library/modules/$.def","npm:core-js@0.9.10/library/modules/$.for-of"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.def"),o=require("npm:core-js@0.9.10/library/modules/$.for-of");return t.exports=function(e){r(r.P,e,{toJSON:function(){var e=[];return o(this,!1,e.push,e),e}})},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/es6.array.from",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.ctx","npm:core-js@0.9.10/library/modules/$.def","npm:core-js@0.9.10/library/modules/$.iter","npm:core-js@0.9.10/library/modules/$.iter-call","npm:core-js@0.9.10/library/modules/$.iter-detect"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$"),o=require("npm:core-js@0.9.10/library/modules/$.ctx"),s=require("npm:core-js@0.9.10/library/modules/$.def"),a=require("npm:core-js@0.9.10/library/modules/$.iter"),l=require("npm:core-js@0.9.10/library/modules/$.iter-call");return s(s.S+s.F*!require("npm:core-js@0.9.10/library/modules/$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,s,c=Object(r.assertDefined(e)),u=arguments[1],d=void 0!==u,h=d?o(u,arguments[2],2):void 0,f=0;if(a.is(c))for(s=a.get(c),n=new("function"==typeof this?this:Array);!(i=s.next()).done;f++)n[f]=d?l(s,h,[i.value,f],!0):i.value;else for(n=new("function"==typeof this?this:Array)(t=r.toLength(c.length));t>f;f++)n[f]=d?h(c[f],f):c[f];return n.length=f,n}}),n.define=i,t.exports}),System.register("npm:unorm@1.3.3/lib/unorm",[],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(e){"use strict";function n(e,t,n){var i=_[t];return i||(i=e(t,n),i.feature&&++C[t>>8&255]>h&&(_[t]=i)),i}function i(e,t,n){var i=65280&t,r=k.udata[i]||{},o=r[t];return o?new k(t,o):new k(t,d)}function r(e,t,n){return n?e(t,n):new k(t,null)}function o(e,t,n){var i;if(p>t||t>=p+v&&f>t||t>f+x)return e(t,n);if(t>=p&&p+v>t){var r={},o=(t-p)*y;for(i=0;y>i;++i)r[m+i]=f+b*(i+o);return new k(t,[,,r])}var s=t-f,a=s%b,l=[];if(0!==a)l[0]=[f+s-a,g+a];else for(l[0]=[p+Math.floor(s/w),m+Math.floor(s%w/b)],l[2]={},i=1;b>i;++i)l[2][g+i]=t+i;return new k(t,l)}function s(e,t,n){return 60>t||t>13311&&42607>t?new k(t,d):e(t,n)}function a(e){return L("NFD",e)}function l(e){return L("NFKD",e)}function c(e){return L("NFC",e)}function u(e){return L("NFKC",e)}for(var d=[null,0,{}],h=10,f=44032,p=4352,m=4449,g=4519,v=19,y=21,b=28,w=y*b,x=v*w,k=function(e,t){this.codepoint=e,this.feature=t},_={},C=[],$=0;255>=$;++$)C[$]=0;var S=[s,n,r,o,i];k.fromCharCode=S.reduceRight(function(e,t){return function(n,i){return t(e,n,i)}},null),k.isHighSurrogate=function(e){return e>=55296&&56319>=e},k.isLowSurrogate=function(e){return e>=56320&&57343>=e},k.prototype.prepFeature=function(){this.feature||(this.feature=k.fromCharCode(this.codepoint,!0).feature)},k.prototype.toString=function(){if(this.codepoint<65536)return String.fromCharCode(this.codepoint);var e=this.codepoint-65536;return String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320)},k.prototype.getDecomp=function(){return this.prepFeature(),this.feature[0]||null},k.prototype.isCompatibility=function(){return this.prepFeature(),!!this.feature[1]&&256&this.feature[1]},k.prototype.isExclude=function(){return this.prepFeature(),!!this.feature[1]&&512&this.feature[1]},k.prototype.getCanonicalClass=function(){return this.prepFeature(),this.feature[1]?255&this.feature[1]:0},k.prototype.getComposite=function(e){if(this.prepFeature(),!this.feature[2])return null;var t=this.feature[2][e.codepoint];return t?k.fromCharCode(t):null};var T=function(e){this.str=e,this.cursor=0};T.prototype.next=function(){if(this.str&&this.cursor<this.str.length){var e,t=this.str.charCodeAt(this.cursor++);return k.isHighSurrogate(t)&&this.cursor<this.str.length&&k.isLowSurrogate(e=this.str.charCodeAt(this.cursor))&&(t=1024*(t-55296)+(e-56320)+65536,++this.cursor),k.fromCharCode(t)}return this.str=null,null};var j=function(e,t){this.it=e,this.canonical=t,this.resBuf=[]};j.prototype.next=function(){function e(t,n){var i=n.getDecomp();if(!i||t&&n.isCompatibility())return[n];for(var r=[],o=0;o<i.length;++o)for(var s=e(t,k.fromCharCode(i[o])),a=0;a<s.length;++a)r.push(s[a]);return r}if(0===this.resBuf.length){var t=this.it.next();if(!t)return null;this.resBuf=e(this.canonical,t)}return this.resBuf.shift()};var D=function(e){this.it=e,this.resBuf=[]};D.prototype.next=function(){var e;if(0===this.resBuf.length)do{var t=this.it.next();if(!t)break;e=t.getCanonicalClass();var n=this.resBuf.length;if(0!==e)for(;n>0;--n){var i=this.resBuf[n-1],r=i.getCanonicalClass();if(e>=r)break}this.resBuf.splice(n,0,t)}while(0!==e);return this.resBuf.shift()};var M=function(e){this.it=e,this.procBuf=[],this.resBuf=[],this.lastClass=null};M.prototype.next=function(){for(;0===this.resBuf.length;){var e=this.it.next();if(!e){this.resBuf=this.procBuf,this.procBuf=[];break}if(0===this.procBuf.length)this.lastClass=e.getCanonicalClass(),this.procBuf.push(e);else{var t=this.procBuf[0],n=t.getComposite(e),i=e.getCanonicalClass();n&&(this.lastClass<i||0===this.lastClass)?this.procBuf[0]=n:(0===i&&(this.resBuf=this.procBuf,this.procBuf=[]),this.lastClass=i,this.procBuf.push(e))}}return this.resBuf.shift()};var O=function(e,t){switch(e){case"NFD":return new D(new j(new T(t),!0));case"NFKD":return new D(new j(new T(t),!1));case"NFC":return new M(new D(new j(new T(t),!0)));case"NFKC":return new M(new D(new j(new T(t),!1)))}throw e+" is invalid"},L=function(e,t){for(var n,i=O(e,t),r="";n=i.next();)r+=n.toString();return r};k.udata={0:{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]},256:{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]},512:{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],
523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256]},768:{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8e3,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256]},1024:{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]},1280:{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]},1536:{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1631:[,220],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]},1792:{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]},2048:{2070:[,230],2071:[,230],2072:[,230],2073:[,230],2075:[,230],2076:[,230],2077:[,230],2078:[,230],2079:[,230],2080:[,230],2081:[,230],2082:[,230],2083:[,230],2085:[,230],2086:[,230],2087:[,230],2089:[,230],2090:[,230],2091:[,230],2092:[,230],2093:[,230],2137:[,220],2138:[,220],2139:[,220],2276:[,230],2277:[,230],2278:[,220],2279:[,230],2280:[,230],2281:[,220],2282:[,230],2283:[,230],2284:[,230],2285:[,220],2286:[,220],2287:[,220],2288:[,27],2289:[,28],2290:[,29],2291:[,230],2292:[,230],2293:[,230],2294:[,220],2295:[,230],2296:[,230],2297:[,220],2298:[,220],2299:[,230],2300:[,230],2301:[,230],2302:[,230]},2304:{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]},2560:{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9]},2816:{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]},3072:{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]},3328:{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]},3584:{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]},3840:{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]},4096:{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256],69702:[,9],69785:[,,{69818:69786}],69786:[[69785,69818]],69787:[,,{69818:69788}],69788:[[69787,69818]],69797:[,,{69818:69803}],69803:[[69797,69818]],69817:[,9],69818:[,7]},4352:{69888:[,230],69889:[,230],69890:[,230],69934:[[69937,69927]],69935:[[69938,69927]],69937:[,,{69927:69934}],69938:[,,{69927:69935}],69939:[,9],69940:[,9],70080:[,9]},4864:{4957:[,230],4958:[,230],4959:[,230]},5632:{71350:[,9],71351:[,7]},5888:{5908:[,9],5940:[,9],6098:[,9],6109:[,230]},6144:{6313:[,228]},6400:{6457:[,222],6458:[,230],6459:[,220]},6656:{6679:[,230],6680:[,220],6752:[,9],6773:[,230],6774:[,230],6775:[,230],6776:[,230],6777:[,230],6778:[,230],6779:[,230],6780:[,230],6783:[,220]},6912:{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9],7083:[,9],7142:[,7],7154:[,9],7155:[,9]},7168:{7223:[,7],7376:[,230],7377:[,230],7378:[,230],7380:[,1],7381:[,220],7382:[,220],7383:[,220],7384:[,220],7385:[,220],7386:[,230],7387:[,230],7388:[,220],7389:[,220],7390:[,220],7391:[,220],7392:[,230],7394:[,1],7395:[,1],7396:[,1],7397:[,1],7398:[,1],7399:[,1],7400:[,1],7405:[,220],7412:[,230]},7424:{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7676:[,233],7677:[,220],7678:[,230],7679:[,220]},7680:{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]},7936:{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8e3:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8e3,768]],8003:[[8001,768]],8004:[[8e3,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]},8192:{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8341:[[104],256],8342:[[107],256],8343:[[108],256],8344:[[109],256],8345:[[110],256],8346:[[112],256],8347:[[115],256],8348:[[116],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]},8448:{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8528:[[49,8260,55],256],8529:[[49,8260,57],256],8530:[[49,8260,49,48],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8585:[[48,8260,51],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]},8704:{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]},8960:{9001:[[12296]],9002:[[12297]]},9216:{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],
9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]},10752:{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]},11264:{11388:[[106],256],11389:[[86],256],11503:[,230],11504:[,230],11505:[,230]},11520:{11631:[[11617],256],11647:[,9],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]},11776:{11935:[[27597],256],12019:[[40863],256]},12032:{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[3e4],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]},12288:{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]},12544:{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]},12800:{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12868:[[21839],256],12869:[[24188],256],12870:[[25991],256],12871:[[31631],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13e3:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]},13056:{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]},42496:{42607:[,230],42612:[,230],42613:[,230],42614:[,230],42615:[,230],42616:[,230],42617:[,230],42618:[,230],42619:[,230],42620:[,230],42621:[,230],42655:[,230],42736:[,230],42737:[,230]},42752:{42864:[[42863],256],43e3:[[294],256],43001:[[339],256]},43008:{43014:[,9],43204:[,9],43232:[,230],43233:[,230],43234:[,230],43235:[,230],43236:[,230],43237:[,230],43238:[,230],43239:[,230],43240:[,230],43241:[,230],43242:[,230],43243:[,230],43244:[,230],43245:[,230],43246:[,230],43247:[,230],43248:[,230],43249:[,230]},43264:{43307:[,220],43308:[,220],43309:[,220],43347:[,9],43443:[,7],43456:[,9]},43520:{43696:[,230],43698:[,230],43699:[,230],43700:[,220],43703:[,230],43704:[,230],43710:[,230],43711:[,230],43713:[,230],43766:[,9]},43776:{44013:[,9]},53504:{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]},53760:{119362:[,230],119363:[,230],119364:[,230]},54272:{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],12e4:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]},54528:{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],
120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]},54784:{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]},55040:{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]},60928:{126464:[[1575],256],126465:[[1576],256],126466:[[1580],256],126467:[[1583],256],126469:[[1608],256],126470:[[1586],256],126471:[[1581],256],126472:[[1591],256],126473:[[1610],256],126474:[[1603],256],126475:[[1604],256],126476:[[1605],256],126477:[[1606],256],126478:[[1587],256],126479:[[1593],256],126480:[[1601],256],126481:[[1589],256],126482:[[1602],256],126483:[[1585],256],126484:[[1588],256],126485:[[1578],256],126486:[[1579],256],126487:[[1582],256],126488:[[1584],256],126489:[[1590],256],126490:[[1592],256],126491:[[1594],256],126492:[[1646],256],126493:[[1722],256],126494:[[1697],256],126495:[[1647],256],126497:[[1576],256],126498:[[1580],256],126500:[[1607],256],126503:[[1581],256],126505:[[1610],256],126506:[[1603],256],126507:[[1604],256],126508:[[1605],256],126509:[[1606],256],126510:[[1587],256],126511:[[1593],256],126512:[[1601],256],126513:[[1589],256],126514:[[1602],256],126516:[[1588],256],126517:[[1578],256],126518:[[1579],256],126519:[[1582],256],126521:[[1590],256],126523:[[1594],256],126530:[[1580],256],126535:[[1581],256],126537:[[1610],256],126539:[[1604],256],126541:[[1606],256],126542:[[1587],256],126543:[[1593],256],126545:[[1589],256],126546:[[1602],256],126548:[[1588],256],126551:[[1582],256],126553:[[1590],256],126555:[[1594],256],126557:[[1722],256],126559:[[1647],256],126561:[[1576],256],126562:[[1580],256],126564:[[1607],256],126567:[[1581],256],126568:[[1591],256],126569:[[1610],256],126570:[[1603],256],126572:[[1605],256],126573:[[1606],256],126574:[[1587],256],126575:[[1593],256],126576:[[1601],256],126577:[[1589],256],126578:[[1602],256],126580:[[1588],256],126581:[[1578],256],126582:[[1579],256],126583:[[1582],256],126585:[[1590],256],126586:[[1592],256],126587:[[1594],256],126588:[[1646],256],126590:[[1697],256],126592:[[1575],256],126593:[[1576],256],126594:[[1580],256],126595:[[1583],256],126596:[[1607],256],126597:[[1608],256],126598:[[1586],256],126599:[[1581],256],126600:[[1591],256],126601:[[1610],256],126603:[[1604],256],126604:[[1605],256],126605:[[1606],256],126606:[[1587],256],126607:[[1593],256],126608:[[1601],256],126609:[[1589],256],126610:[[1602],256],126611:[[1585],256],126612:[[1588],256],126613:[[1578],256],126614:[[1579],256],126615:[[1582],256],126616:[[1584],256],126617:[[1590],256],126618:[[1592],256],126619:[[1594],256],126625:[[1576],256],126626:[[1580],256],126627:[[1583],256],126629:[[1608],256],126630:[[1586],256],126631:[[1581],256],126632:[[1591],256],126633:[[1610],256],126635:[[1604],256],126636:[[1605],256],126637:[[1606],256],126638:[[1587],256],126639:[[1593],256],126640:[[1601],256],126641:[[1589],256],126642:[[1602],256],126643:[[1585],256],126644:[[1588],256],126645:[[1578],256],126646:[[1579],256],126647:[[1582],256],126648:[[1584],256],126649:[[1590],256],126650:[[1592],256],126651:[[1594],256]},61696:{127232:[[48,46],256],127233:[[48,44],256],127234:[[49,44],256],127235:[[50,44],256],127236:[[51,44],256],127237:[[52,44],256],127238:[[53,44],256],127239:[[54,44],256],127240:[[55,44],256],127241:[[56,44],256],127242:[[57,44],256],127248:[[40,65,41],256],127249:[[40,66,41],256],127250:[[40,67,41],256],127251:[[40,68,41],256],127252:[[40,69,41],256],127253:[[40,70,41],256],127254:[[40,71,41],256],127255:[[40,72,41],256],127256:[[40,73,41],256],127257:[[40,74,41],256],127258:[[40,75,41],256],127259:[[40,76,41],256],127260:[[40,77,41],256],127261:[[40,78,41],256],127262:[[40,79,41],256],127263:[[40,80,41],256],127264:[[40,81,41],256],127265:[[40,82,41],256],127266:[[40,83,41],256],127267:[[40,84,41],256],127268:[[40,85,41],256],127269:[[40,86,41],256],127270:[[40,87,41],256],127271:[[40,88,41],256],127272:[[40,89,41],256],127273:[[40,90,41],256],127274:[[12308,83,12309],256],127275:[[67],256],127276:[[82],256],127277:[[67,68],256],127278:[[87,90],256],127280:[[65],256],127281:[[66],256],127282:[[67],256],127283:[[68],256],127284:[[69],256],127285:[[70],256],127286:[[71],256],127287:[[72],256],127288:[[73],256],127289:[[74],256],127290:[[75],256],127291:[[76],256],127292:[[77],256],127293:[[78],256],127294:[[79],256],127295:[[80],256],127296:[[81],256],127297:[[82],256],127298:[[83],256],127299:[[84],256],127300:[[85],256],127301:[[86],256],127302:[[87],256],127303:[[88],256],127304:[[89],256],127305:[[90],256],127306:[[72,86],256],127307:[[77,86],256],127308:[[83,68],256],127309:[[83,83],256],127310:[[80,80,86],256],127311:[[87,67],256],127338:[[77,67],256],127339:[[77,68],256],127376:[[68,74],256]},61952:{127488:[[12411,12363],256],127489:[[12467,12467],256],127490:[[12469],256],127504:[[25163],256],127505:[[23383],256],127506:[[21452],256],127507:[[12487],256],127508:[[20108],256],127509:[[22810],256],127510:[[35299],256],127511:[[22825],256],127512:[[20132],256],127513:[[26144],256],127514:[[28961],256],127515:[[26009],256],127516:[[21069],256],127517:[[24460],256],127518:[[20877],256],127519:[[26032],256],127520:[[21021],256],127521:[[32066],256],127522:[[29983],256],127523:[[36009],256],127524:[[22768],256],127525:[[21561],256],127526:[[28436],256],127527:[[25237],256],127528:[[25429],256],127529:[[19968],256],127530:[[19977],256],127531:[[36938],256],127532:[[24038],256],127533:[[20013],256],127534:[[21491],256],127535:[[25351],256],127536:[[36208],256],127537:[[25171],256],127538:[[31105],256],127539:[[31354],256],127540:[[21512],256],127541:[[28288],256],127542:[[26377],256],127543:[[26376],256],127544:[[30003],256],127545:[[21106],256],127546:[[21942],256],127552:[[12308,26412,12309],256],127553:[[12308,19977,12309],256],127554:[[12308,20108,12309],256],127555:[[12308,23433,12309],256],127556:[[12308,28857,12309],256],127557:[[12308,25171,12309],256],127558:[[12308,30423,12309],256],127559:[[12308,21213,12309],256],127560:[[12308,25943,12309],256],127568:[[24471],256],127569:[[21487],256]},63488:{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23e3]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]},63744:{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149e3]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32e3]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195e3:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]},64e3:{64e3:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64046:[[37086]],64047:[[38583]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64107:[[24693]],64108:[[148206]],64109:[[33304]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],
64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[4e4]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]},64256:{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]},64512:{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]},64768:{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]},65024:{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]},65280:{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}};var E={nfc:c,nfd:a,nfkc:u,nfkd:l};"object"==typeof t?t.exports=E:"function"==typeof define&&define.amd?define("unorm",function(){return E}):e.unorm=E,String.prototype.normalize||(String.prototype.normalize=function(e){var t=""+this;if(e=void 0===e?"NFC":e,"NFC"===e)return E.nfc(t);if("NFD"===e)return E.nfd(t);if("NFKC"===e)return E.nfkc(t);if("NFKD"===e)return E.nfkd(t);throw new RangeError("Invalid normalization form: "+e)})}(this),n.define=i,t.exports}),System.register("github:vitmalina/w2ui@1.4.3/dist/w2ui",[],!1,function(__require,__exports,__module){return System.get("@@global-helpers").prepareGlobal(__module.id,[]),function(){var w2ui=this.w2ui,w2obj=this.w2obj,w2utils=this.w2utils,w2popup=this.w2popup,w2alert=this.w2alert,w2confirm=this.w2confirm,w2ui=w2ui||{},w2obj=w2obj||{},w2utils=function(){function e(e){var t=/^[-+]?[0-9]+$/;return t.test(e)}function t(e){return"string"==typeof e&&(e=e.replace(w2utils.settings.decimalSymbol,".")),("number"==typeof e||"string"==typeof e&&""!==e)&&!isNaN(Number(e))}function n(e){var t=w2utils.settings,n=new RegExp("^"+(t.currencyPrefix?"\\"+t.currencyPrefix+"?":"")+"[-+]?[0-9]*[\\"+w2utils.settings.decimalSymbol+"]?[0-9]+"+(t.currencySuffix?"\\"+t.currencySuffix+"?":"")+"$","i");return"string"==typeof e&&(e=e.replace(new RegExp(t.groupSymbol,"g"),"")),"object"==typeof e||""===e?!1:n.test(e)}function i(e){var t=/^[a-fA-F0-9]+$/;return t.test(e)}function r(e){var t=/^[a-zA-Z0-9_-]+$/;return t.test(e)}function o(e){var t=/^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return t.test(e)}function s(t,n,i){if(!t)return!1;var r,o,s,a="Invalid Date";if(null==n&&(n=w2utils.settings.date_format),"function"==typeof t.getUTCFullYear&&"function"==typeof t.getUTCMonth&&"function"==typeof t.getUTCDate)s=t.getUTCFullYear(),r=t.getUTCMonth(),o=t.getUTCDate();else if("function"==typeof t.getFullYear&&"function"==typeof t.getMonth&&"function"==typeof t.getDate)s=t.getFullYear(),r=t.getMonth(),o=t.getDate();else{if(t=String(t),RegExp("mon","ig").test(n)){n=n.replace(/month/gi,"m").replace(/mon/gi,"m").replace(/dd/gi,"d").replace(/[, ]/gi,"/").replace(/\/\//g,"/").toLowerCase(),t=t.replace(/[, ]/gi,"/").replace(/\/\//g,"/").toLowerCase();for(var l=0,c=w2utils.settings.fullmonths.length;c>l;l++){var u=w2utils.settings.fullmonths[l];t=t.replace(RegExp(u,"ig"),parseInt(l)+1).replace(RegExp(u.substr(0,3),"ig"),parseInt(l)+1)}}var d=t.replace(/-/g,"/").replace(/\./g,"/").toLowerCase().split("/"),h=n.replace(/-/g,"/").replace(/\./g,"/").toLowerCase();"mm/dd/yyyy"===h&&(r=d[0],o=d[1],s=d[2]),"m/d/yyyy"===h&&(r=d[0],o=d[1],s=d[2]),"dd/mm/yyyy"===h&&(r=d[1],o=d[0],s=d[2]),"d/m/yyyy"===h&&(r=d[1],o=d[0],s=d[2]),"yyyy/dd/mm"===h&&(r=d[2],o=d[1],s=d[0]),"yyyy/d/m"===h&&(r=d[2],o=d[1],s=d[0]),"yyyy/mm/dd"===h&&(r=d[1],o=d[2],s=d[0]),"yyyy/m/d"===h&&(r=d[1],o=d[2],s=d[0]),"mm/dd/yy"===h&&(r=d[0],o=d[1],s=d[2]),"m/d/yy"===h&&(r=d[0],o=d[1],s=parseInt(d[2])+1900),"dd/mm/yy"===h&&(r=d[1],o=d[0],s=parseInt(d[2])+1900),"d/m/yy"===h&&(r=d[1],o=d[0],s=parseInt(d[2])+1900),"yy/dd/mm"===h&&(r=d[2],o=d[1],s=parseInt(d[0])+1900),"yy/d/m"===h&&(r=d[2],o=d[1],s=parseInt(d[0])+1900),"yy/mm/dd"===h&&(r=d[1],o=d[2],s=parseInt(d[0])+1900),"yy/m/d"===h&&(r=d[1],o=d[2],s=parseInt(d[0])+1900)}return e(s)&&e(r)&&e(o)?(s=+s,r=+r,o=+o,a=new Date(s,r-1,o),null==r?!1:"Invalid Date"==String(a)?!1:a.getMonth()+1!==r||a.getDate()!==o||a.getFullYear()!==s?!1:i===!0?a:!0):!1}function a(e,t){if(null==e)return!1;var n,i;e=String(e),e=e.toUpperCase(),i=e.indexOf("PM")>=0;var r=i||e.indexOf("AM")>=0;n=r?12:24,e=e.replace("AM","").replace("PM",""),e=$.trim(e);var o=e.split(":"),s=parseInt(o[0]||0),a=parseInt(o[1]||0);return r&&1===o.length||2===o.length?""===o[0]||0>s||s>n||!this.isInt(o[0])||o[0].length>2?!1:2===o.length&&(""===o[1]||0>a||a>59||!this.isInt(o[1])||2!==o[1].length)?!1:r||n!==s||0===a?r&&1===o.length&&0===s?!1:t===!0?(i&&(s+=12),{hours:s,minutes:a}):!0:!1:!1}function l(e){if(""===e||null==e)return"";var t=new Date(e);if(w2utils.isInt(e)&&(t=new Date(Number(e))),"Invalid Date"==String(t))return"";var n=new Date,i=(n.getTime()-t.getTime())/1e3,r="",o="";return 0>i?(r='<span style="color: #aaa">future</span>',o=""):60>i?(r=Math.floor(i),o="sec",0>i&&(r=0,o="sec")):3600>i?(r=Math.floor(i/60),o="min"):86400>i?(r=Math.floor(i/60/60),o="hour"):2592e3>i?(r=Math.floor(i/24/60/60),o="day"):31557600>i?(r=Math.floor(i/365.25/24/60/60*10)/10,o="month"):i>=31557600&&(r=Math.floor(i/365.25/24/60/60*10)/10,o="year"),r+" "+o+(r>1?"s":"")}function c(e){if(""===e||null==e)return"";var t=new Date(e);if(w2utils.isInt(e)&&(t=new Date(Number(e))),"Invalid Date"==String(t))return"";var n=w2utils.settings.shortmonths,i=new Date,r=new Date;r.setTime(r.getTime()-864e5);var o=n[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear(),s=n[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear(),a=n[r.getMonth()]+" "+r.getDate()+", "+r.getFullYear(),l=t.getHours()-(t.getHours()>12?12:0)+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+" "+(t.getHours()>=12?"pm":"am"),c=t.getHours()-(t.getHours()>12?12:0)+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()+" "+(t.getHours()>=12?"pm":"am"),u=o;return o===s&&(u=l),o===a&&(u=w2utils.lang("Yesterday")),'<span title="'+o+" "+c+'">'+u+"</span>"}function u(e){if(!w2utils.isFloat(e)||""===e)return"";if(e=parseFloat(e),0===e)return 0;var t=["Bt","KB","MB","GB","TB"],n=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return(Math.floor(e/Math.pow(1024,n)*10)/10).toFixed(0===n?0:1)+" "+t[n]}function d(e,t,n){var i="";return null==t&&(t=w2utils.settings.groupSymbol||","),null==n&&(n=w2utils.settings.decimalSymbol||"."),(w2utils.isFloat(e)||w2utils.isInt(e)||w2utils.isMoney(e))&&(O=String(e).split("."),i=String(O[0]).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t),null!=O[1]&&(i+=w2utils.settings.decimalSymbol+O[1])),i}function h(e,t){w2utils.settings.shortmonths,w2utils.settings.fullmonths;if(t||(t=this.settings.date_format),""===e||null==e||"object"==typeof e&&!e.getMonth)return"";var n=new Date(e);if(w2utils.isInt(e)&&(n=new Date(Number(e))),"Invalid Date"==String(n))return"";var i=n.getFullYear(),r=n.getMonth(),o=n.getDate();return t.toLowerCase().replace("month",w2utils.settings.fullmonths[r]).replace("mon",w2utils.settings.shortmonths[r]).replace(/yyyy/g,i).replace(/yyy/g,i).replace(/yy/g,i>2e3?100+parseInt(String(i).substr(2)):String(i).substr(2)).replace(/(^|[^a-z$])y/g,"$1"+i).replace(/mm/g,(10>r+1?"0":"")+(r+1)).replace(/dd/g,(10>o?"0":"")+o).replace(/th/g,1==o?"st":"th").replace(/th/g,2==o?"nd":"th").replace(/th/g,3==o?"rd":"th").replace(/(^|[^a-z$])m/g,"$1"+(r+1)).replace(/(^|[^a-z$])d/g,"$1"+o);
}function f(e,t){w2utils.settings.shortmonths,w2utils.settings.fullmonths;if(t||(t=this.settings.time_format),""===e||null==e||"object"==typeof e&&!e.getMonth)return"";var n=new Date(e);if(w2utils.isInt(e)&&(n=new Date(Number(e))),w2utils.isTime(e)){var i=w2utils.isTime(e,!0);n=new Date,n.setHours(i.hours),n.setMinutes(i.minutes)}if("Invalid Date"==String(n))return"";var r="am",o=n.getHours(),s=n.getHours(),a=n.getMinutes(),l=n.getSeconds();return 10>a&&(a="0"+a),10>l&&(l="0"+l),(-1!==t.indexOf("am")||-1!==t.indexOf("pm"))&&(o>=12&&(r="pm"),o>12&&(o-=12)),t.toLowerCase().replace("am",r).replace("pm",r).replace("hhh",10>o?"0"+o:o).replace("hh24",10>s?"0"+s:s).replace("h24",s).replace("hh",o).replace("mm",a).replace("mi",a).replace("ss",l).replace(/(^|[^a-z$])h/g,"$1"+o).replace(/(^|[^a-z$])m/g,"$1"+a).replace(/(^|[^a-z$])s/g,"$1"+l)}function p(e,t){var n;return""===e||null==e||"object"==typeof e&&!e.getMonth?"":(n="string"!=typeof t?[this.settings.date_format,this.settings.time_format]:t.split("|"),this.formatDate(e,n[0])+" "+this.formatTime(e,n[1]))}function m(e){if(null===e)return e;switch(typeof e){case"number":break;case"string":e=$.trim(String(e).replace(/(<([^>]+)>)/gi,""));break;case"object":for(var t in e)e[t]=this.stripTags(e[t])}return e}function g(e){if(null===e)return e;switch(typeof e){case"number":break;case"string":e=String(e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");break;case"object":for(var t in e)e[t]=this.encodeTags(e[t])}return e}function v(e){return""===e||null==e?"":String(e).replace(/([;&,\.\+\*\~'`:"\!\^#$%@\[\]\(\)=<>\|\/? {}\\])/g,"\\$1")}function y(e){function t(e){for(var e=String(e).replace(/\r\n/g,"\n"),t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}var n,i,r,o,s,a,l,c="",u=0,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(e=t(e);u<e.length;)n=e.charCodeAt(u++),i=e.charCodeAt(u++),r=e.charCodeAt(u++),o=n>>2,s=(3&n)<<4|i>>4,a=(15&i)<<2|r>>6,l=63&r,isNaN(i)?a=l=64:isNaN(r)&&(l=64),c=c+d.charAt(o)+d.charAt(s)+d.charAt(a)+d.charAt(l);return c}function b(e){function t(e){for(var t,n,i="",r=0,o=0;r<e.length;)o=e.charCodeAt(r),128>o?(i+=String.fromCharCode(o),r++):o>191&&224>o?(t=e.charCodeAt(r+1),i+=String.fromCharCode((31&o)<<6|63&t),r+=2):(t=e.charCodeAt(r+1),n=e.charCodeAt(r+2),i+=String.fromCharCode((15&o)<<12|(63&t)<<6|63&n),r+=3);return i}var n,i,r,o,s,a,l,c="",u=0,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)o=d.indexOf(e.charAt(u++)),s=d.indexOf(e.charAt(u++)),a=d.indexOf(e.charAt(u++)),l=d.indexOf(e.charAt(u++)),n=o<<2|s>>4,i=(15&s)<<4|a>>2,r=(3&a)<<6|l,c+=String.fromCharCode(n),64!==a&&(c+=String.fromCharCode(i)),64!==l&&(c+=String.fromCharCode(r));return c=t(c)}function w(e,t,n,i){function r(e,t,n){var i=!!window.webkitURL;return i||"undefined"==typeof n||(t=n),";"+e+": "+t+"; -webkit-"+e+": "+t+"; -moz-"+e+": "+t+"; -ms-"+e+": "+t+"; -o-"+e+": "+t+";"}var o=$(e).width(),s=$(e).height(),a=.5;if(!e||!t)return void console.log("ERROR: Cannot do transition when one of the divs is null");switch(e.parentNode.style.cssText+=r("perspective","700px")+"; overflow: hidden;",e.style.cssText+="; position: absolute; z-index: 1019; "+r("backface-visibility","hidden"),t.style.cssText+="; position: absolute; z-index: 1020; "+r("backface-visibility","hidden"),n){case"slide-left":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d("+o+"px, 0, 0)","translate("+o+"px, 0)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+";"+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),e.style.cssText+=r("transition",a+"s")+";"+r("transform","translate3d(-"+o+"px, 0, 0)","translate(-"+o+"px, 0)")},1);break;case"slide-right":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d(-"+o+"px, 0, 0)","translate(-"+o+"px, 0)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0px, 0, 0)","translate(0px, 0)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d("+o+"px, 0, 0)","translate("+o+"px, 0)")},1);break;case"slide-down":e.style.cssText+="overflow: hidden; z-index: 1; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; z-index: 0; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0, "+s+"px, 0)","translate(0, "+s+"px)")},1);break;case"slide-up":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, "+s+"px, 0)","translate(0, "+s+"px)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")},1);break;case"flip-left":e.style.cssText+="overflow: hidden; "+r("transform","rotateY(0deg)"),t.style.cssText+="overflow: hidden; "+r("transform","rotateY(-180deg)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateY(0deg)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateY(180deg)")},1);break;case"flip-right":e.style.cssText+="overflow: hidden; "+r("transform","rotateY(0deg)"),t.style.cssText+="overflow: hidden; "+r("transform","rotateY(180deg)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateY(0deg)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateY(-180deg)")},1);break;case"flip-down":e.style.cssText+="overflow: hidden; "+r("transform","rotateX(0deg)"),t.style.cssText+="overflow: hidden; "+r("transform","rotateX(180deg)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateX(0deg)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateX(-180deg)")},1);break;case"flip-up":e.style.cssText+="overflow: hidden; "+r("transform","rotateX(0deg)"),t.style.cssText+="overflow: hidden; "+r("transform","rotateX(-180deg)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateX(0deg)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateX(180deg)")},1);break;case"pop-in":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")+"; "+r("transform","scale(.8)")+"; opacity: 0;",$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","scale(1)")+"; opacity: 1;",e.style.cssText+=r("transition",a+"s")+";"},1);break;case"pop-out":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")+"; "+r("transform","scale(1)")+"; opacity: 1;",t.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")+"; opacity: 0;",$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; opacity: 1;",e.style.cssText+=r("transition",a+"s")+"; "+r("transform","scale(1.7)")+"; opacity: 0;"},1);break;default:e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")+"; opacity: 0;",$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; opacity: 1;",e.style.cssText+=r("transition",a+"s")},1)}setTimeout(function(){"slide-down"===n&&($(e).css("z-index","1019"),$(t).css("z-index","1020")),t&&$(t).css({opacity:"1","-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"","-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"","-webkit-backface-visibility":"","-moz-backface-visibility":"","-ms-backface-visibility":"","-o-backface-visibility":""}),e&&($(e).css({opacity:"1","-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"","-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"","-webkit-backface-visibility":"","-moz-backface-visibility":"","-ms-backface-visibility":"","-o-backface-visibility":""}),e.parentNode&&$(e.parentNode).css({"-webkit-perspective":"","-moz-perspective":"","-ms-perspective":"","-o-perspective":""})),"function"==typeof i&&i()},1e3*a)}function x(e,t,n){var i={};"object"==typeof t?i=t:(i.msg=t,i.spinner=n),i.msg||0===i.msg||(i.msg=""),w2utils.unlock(e),$(e).prepend('<div class="w2ui-lock"></div><div class="w2ui-lock-msg"></div>');var r=$(e).find(".w2ui-lock"),o=$(e).find(".w2ui-lock-msg");i.msg||o.css({"background-color":"transparent",border:"0px"}),i.spinner===!0&&(i.msg='<div class="w2ui-spinner" '+(i.msg?"":'style="width: 35px; height: 35px"')+"></div>"+i.msg),null!=i.opacity&&r.css("opacity",i.opacity),"function"==typeof r.fadeIn?(r.fadeIn(200),o.html(i.msg).fadeIn(200)):(r.show(),o.html(i.msg).show(0)),$().w2tag()}function k(e){$(e).find(".w2ui-lock").remove(),$(e).find(".w2ui-lock-msg").remove()}function _(e,t){var n=$(e),i={left:parseInt(n.css("border-left-width"))||0,right:parseInt(n.css("border-right-width"))||0,top:parseInt(n.css("border-top-width"))||0,bottom:parseInt(n.css("border-bottom-width"))||0},r={left:parseInt(n.css("margin-left"))||0,right:parseInt(n.css("margin-right"))||0,top:parseInt(n.css("margin-top"))||0,bottom:parseInt(n.css("margin-bottom"))||0},o={left:parseInt(n.css("padding-left"))||0,right:parseInt(n.css("padding-right"))||0,top:parseInt(n.css("padding-top"))||0,bottom:parseInt(n.css("padding-bottom"))||0};switch(t){case"top":return i.top+r.top+o.top;case"bottom":return i.bottom+r.bottom+o.bottom;case"left":return i.left+r.left+o.left;case"right":return i.right+r.right+o.right;case"width":return i.left+i.right+r.left+r.right+o.left+o.right+parseInt(n.width());case"height":return i.top+i.bottom+r.top+r.bottom+o.top+o.bottom+parseInt(n.height());case"+width":return i.left+i.right+r.left+r.right+o.left+o.right;case"+height":return i.top+i.bottom+r.top+r.bottom+o.top+o.bottom}return 0}function C(e){var t=this.settings.phrases[e];return null==t?e:t}function S(e){e||(e="en-us"),5===e.length&&(e="locale/"+e+".json"),$.ajax({url:e,type:"GET",dataType:"JSON",async:!1,cache:!1,success:function(e,t,n){w2utils.settings=$.extend(!0,w2utils.settings,e);var i=w2obj.grid.prototype;for(var r in i.buttons)i.buttons[r].caption=w2utils.lang(i.buttons[r].caption),i.buttons[r].hint=w2utils.lang(i.buttons[r].hint);i.msgDelete=w2utils.lang(i.msgDelete),i.msgNotJSON=w2utils.lang(i.msgNotJSON),i.msgRefresh=w2utils.lang(i.msgRefresh)},error:function(t,n,i){console.log("ERROR: Cannot load locale "+e)}})}function T(){if(O.scrollBarSize)return O.scrollBarSize;var e='<div id="_scrollbar_width" style="position: absolute; top: -300px; width: 100px; height: 100px; overflow-y: scroll;">    <div style="height: 120px">1</div></div>';return $("body").append(e),O.scrollBarSize=100-$("#_scrollbar_width > div").width(),$("#_scrollbar_width").remove(),String(navigator.userAgent).indexOf("MSIE")>=0&&(O.scrollBarSize=O.scrollBarSize/2),O.scrollBarSize}function j(e,t){return e&&"undefined"!=typeof e.name?"undefined"!=typeof w2ui[e.name]?(console.log('ERROR: The parameter "name" is not unique. There are other objects already created with the same name (obj: '+e.name+")."),!1):w2utils.isAlphaNumeric(e.name)?!0:(console.log('ERROR: The parameter "name" has to be alpha-numeric (a-z, 0-9, dash and underscore). '),!1):(console.log('ERROR: The parameter "name" is required but not supplied in $().'+t+"()."),!1)}function D(e,t,n,i){$.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)if(t[r].id===e)return console.log('ERROR: The parameter "id='+e+'" is not unique within the current '+n+". (obj: "+i+")"),!1;return!0}function M(e){var t=[],n=e.replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,i,r,o,s){return t.push({name:r,optional:!!s}),n=n||"",""+(s?"":n)+"(?:"+(s?n:"")+(i||"")+(o||i&&"([^/.]+?)"||"([^/]+?)")+")"+(s||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)");return{path:new RegExp("^"+n+"$","i"),keys:t}}var O={},L={version:"1.4.3",settings:{locale:"en-us",date_format:"m/d/yyyy",date_display:"Mon d, yyyy",time_format:"hh:mi pm",currencyPrefix:"$",currencySuffix:"",currencyPrecision:2,groupSymbol:",",decimalSymbol:".",shortmonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullmonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortdays:["M","T","W","T","F","S","S"],fulldays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dataType:"HTTP",phrases:{}},isInt:e,isFloat:t,isMoney:n,isHex:i,isAlphaNumeric:r,isEmail:o,isDate:s,isTime:a,age:l,date:c,size:u,formatNumber:d,formatDate:h,formatTime:f,formatDateTime:p,stripTags:m,encodeTags:g,escapeId:v,base64encode:y,base64decode:b,transition:w,lock:x,unlock:k,lang:C,locale:S,getSize:_,scrollBarSize:T,checkName:j,checkUniqueId:D,parseRoute:M,isIOS:-1!=navigator.userAgent.toLowerCase().indexOf("iphone")||-1!=navigator.userAgent.toLowerCase().indexOf("ipod")||-1!=navigator.userAgent.toLowerCase().indexOf("ipad")?!0:!1,isIE:-1!=navigator.userAgent.toLowerCase().indexOf("msie")||-1!=navigator.userAgent.toLowerCase().indexOf("trident")?!0:!1};return L}();w2utils.event={on:function(e,t){return $.isPlainObject(e)||(e={type:e}),e=$.extend({type:null,execute:"before",target:null,onComplete:null},e),e.type?t?($.isArray(this.handlers)||(this.handlers=[]),void this.handlers.push({event:e,handler:t})):void console.log("ERROR: You must specify event handler function when calling .on() method of "+this.name):void console.log("ERROR: You must specify event type when calling .on() method of "+this.name)},off:function(e,t){if($.isPlainObject(e)||(e={type:e}),e=$.extend({},{type:null,execute:"before",target:null,onComplete:null},e),!e.type)return void console.log("ERROR: You must specify event type when calling .off() method of "+this.name);t||(t=null);for(var n=[],i=0,r=this.handlers.length;r>i;i++){var o=this.handlers[i];(o.event.type!==e.type&&"*"!==e.type||o.event.target!==e.target&&null!==e.target||o.handler!==t&&null!==t)&&n.push(o)}this.handlers=n},trigger:function(e){var e=$.extend({type:null,phase:"before",target:null},e,{isStopped:!1,isCancelled:!1,preventDefault:function(){this.isCancelled=!0},stopPropagation:function(){this.isStopped=!0}});"before"===e.phase&&(e.onComplete=null);var t,n,i;null==e.target&&(e.target=null),$.isArray(this.handlers)||(this.handlers=[]);for(var r=this.handlers.length-1;r>=0;r--){var o=this.handlers[r];if(!(o.event.type!==e.type&&"*"!==o.event.type||o.event.target!==e.target&&null!==o.event.target||o.event.execute!==e.phase&&"*"!==o.event.execute&&"*"!==o.event.phase)&&(e=$.extend({},o.event,e),t=[],i=RegExp(/\((.*?)\)/).exec(o.handler),i&&(t=i[1].split(/\s*,\s*/)),2===t.length?o.handler.call(this,e.target,e):o.handler.call(this,e),e.isStopped===!0||e.stop===!0))return e}var s="on"+e.type.substr(0,1).toUpperCase()+e.type.substr(1);return"before"===e.phase&&"function"==typeof this[s]&&(n=this[s],t=[],i=RegExp(/\((.*?)\)/).exec(n),i&&(t=i[1].split(/\s*,\s*/)),2===t.length?n.call(this,e.target,e):n.call(this,e),e.isStopped===!0||e.stop===!0)?e:null!=e.object&&"before"===e.phase&&"function"==typeof e.object[s]&&(n=e.object[s],t=[],i=RegExp(/\((.*?)\)/).exec(n),i&&(t=i[1].split(/\s*,\s*/)),2===t.length?n.call(this,e.target,e):n.call(this,e),e.isStopped===!0||e.stop===!0)?e:("after"===e.phase&&"function"==typeof e.onComplete&&e.onComplete.call(this,e),e)}},w2utils.keyboard=function(e){function t(){$(document).on("keydown",n),$(document).on("mousedown",i)}function n(e){var t=e.target.tagName;-1===$.inArray(t,["INPUT","SELECT","TEXTAREA"])&&"true"!==$(e.target).prop("contenteditable")&&s&&w2ui[s]&&"function"==typeof w2ui[s].keydown&&w2ui[s].keydown.call(w2ui[s],e)}function i(e){var t=(e.target.tagName,$(e.target).parents(".w2ui-reset"));if(t.length>0){var n=t.attr("name");w2ui[n]&&w2ui[n].keyboard&&(s=n)}}function r(e){return"undefined"!=typeof e&&(s=e),s}function o(){s=null}var s=null;return e.active=r,e.clear=o,t(),e}({}),function(){$.fn.w2render=function(e){$(this).length>0&&("string"==typeof e&&w2ui[e]&&w2ui[e].render($(this)[0]),"object"==typeof e&&e.render($(this)[0]))},$.fn.w2destroy=function(e){!e&&this.length>0&&(e=this.attr("name")),"string"==typeof e&&w2ui[e]&&w2ui[e].destroy(),"object"==typeof e&&e.destroy()},$.fn.w2marker=function(e){return""===e||null==e?$(this).each(function(e,t){t.innerHTML=t.innerHTML.replace(/\<span class=\"w2ui\-marker\"\>(.*)\<\/span\>/gi,"$1")}):$(this).each(function(t,n){function i(e){return'<span class="w2ui-marker">'+e+"</span>"}"string"==typeof e&&(e=[e]),n.innerHTML=n.innerHTML.replace(/\<span class=\"w2ui\-marker\"\>(.*)\<\/span\>/gi,"$1");for(var r in e){var o=e[r];"string"!=typeof o&&(o=String(o)),o=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").replace(/&/g,"&amp;").replace(/</g,"&gt;").replace(/>/g,"&lt;");var s=new RegExp(o+"(?!([^<]+)?>)","gi");n.innerHTML=n.innerHTML.replace(s,i)}})},$.fn.w2tag=function(e,t){return $.isPlainObject(t)||(t={}),$.isPlainObject(t.css)||(t.css={}),"undefined"==typeof t["class"]&&(t["class"]=""),0===$(this).length?void $(".w2ui-tag").each(function(e,t){var n=$(t).data("options");null==n&&(n={}),$($(t).data("taged-el")).removeClass(n["class"]),clearInterval($(t).data("timer")),$(t).remove()}):$(this).each(function(n,i){function r(){$tag=$("#w2ui-tag-"+s),$tag.length<=0||(clearInterval($tag.data("timer")),$tag.remove(),$(i).off("keypress",r).removeClass(t["class"]),$(i).length>0&&($(i)[0].style.cssText=l),"function"==typeof t.onHide&&t.onHide())}var o=i.id,s=w2utils.escapeId(i.id);if(""===e||null==e)$("#w2ui-tag-"+s).css("opacity",0),setTimeout(function(){clearInterval($("#w2ui-tag-"+s).data("timer")),$("#w2ui-tag-"+s).remove()},300);else{clearInterval($("#w2ui-tag-"+s).data("timer")),$("#w2ui-tag-"+s).remove(),$("body").append('<div id="w2ui-tag-'+o+'" class="w2ui-tag '+($(i).parents(".w2ui-popup").length>0?"w2ui-tag-popup":"")+'" style=""></div>');var a=setInterval(function(){return 0===$(i).length||0===$(i).offset().left&&0===$(i).offset().top?(clearInterval($("#w2ui-tag-"+s).data("timer")),void r()):void($("#w2ui-tag-"+s).data("position")!==$(i).offset().left+i.offsetWidth+"x"+$(i).offset().top&&$("#w2ui-tag-"+s).css({"-webkit-transition":".2s","-moz-transition":".2s","-ms-transition":".2s","-o-transition":".2s",left:$(i).offset().left+i.offsetWidth+"px",top:$(i).offset().top+"px"}).data("position",$(i).offset().left+i.offsetWidth+"x"+$(i).offset().top))},100);setTimeout(function(){$(i).offset()&&($("#w2ui-tag-"+s).css({opacity:"1",left:$(i).offset().left+i.offsetWidth+"px",top:$(i).offset().top+"px"}).html('<div style="margin-top: -2px 0px 0px -2px; white-space: nowrap;"> <div class="w2ui-tag-body">'+e+"</div> </div>").data("text",e).data("taged-el",i).data("options",t).data("position",$(i).offset().left+i.offsetWidth+"x"+$(i).offset().top).data("timer",a),$(i).off("keypress",r).on("keypress",r).off("change",r).on("change",r).css(t.css).addClass(t["class"]),"function"==typeof t.onShow&&t.onShow())},1);var l="";$(i).length>0&&(l=$(i)[0].style.cssText)}})},$.fn.w2overlay=function(e,t){function n(){var e=$("#w2ui-overlay"+s);if(e.data("element")===o[0]&&0!==e.length){var t=$(o).offset().left+"x"+$(o).offset().top;e.data("position")!==t?i():setTimeout(n,250)}}function i(){var e=$("#w2ui-overlay"+s);if(e.data("keepOpen")===!0)return void e.removeData("keepOpen");var n;"function"==typeof t.onHide&&(n=t.onHide()),n!==!1&&(e.remove(),$(document).off("click",i),clearInterval(e.data("timer")))}function r(){var e=$("#w2ui-overlay"+s),n=e.find(" > div");if(e.length>0){n.height("auto").width("auto");var i=!1,a=!1,l=n.height(),c=n.width();switch(t.width&&t.width<c&&(c=t.width),30>c&&(c=30),t.tmp.contentHeight&&(l=t.tmp.contentHeight,n.height(l),setTimeout(function(){n.height()>n.find("div.menu > table").height()&&n.find("div.menu").css("overflow-y","hidden")},1),setTimeout(function(){n.find("div.menu").css("overflow-y","auto")},10)),t.tmp.contentWidth&&(c=t.tmp.contentWidth,n.width(c),setTimeout(function(){n.width()>n.find("div.menu > table").width()&&n.find("div.menu").css("overflow-x","hidden")},1),setTimeout(function(){n.find("div.menu").css("overflow-y","auto")},10)),t.align){case"both":t.left=17,0===t.width&&(t.width=w2utils.getSize($(o),"width"));break;case"left":t.left=17;break;case"right":t.tipLeft=c-45,t.left=w2utils.getSize($(o),"width")-c+10}var u=(c-17)/2,d=t.left,h=t.width,f=t.tipLeft;h=30!==c||h?t.width?t.width:"auto":30,25>u&&(d=25-u,f=Math.floor(u)),e.css({top:o.offset().top+w2utils.getSize(o,"height")+t.top+7+"px",left:(o.offset().left>25?o.offset().left:25)+d+"px","min-width":h,"min-height":t.height?t.height:"auto"});var p=window.innerHeight+$(document).scrollTop()-n.offset().top-7,m=window.innerWidth+$(document).scrollLeft()-n.offset().left-7;p>-50&&210>p||t.openAbove===!0?(p=n.offset().top-$(document).scrollTop()-7,t.maxHeight&&p>t.maxHeight&&(p=t.maxHeight),l>p&&(a=!0,n.height(p).width(c).css({"overflow-y":"auto"}),l=p),e.css("top",$(o).offset().top-l-24+t.top+"px"),e.find(">style").html("#w2ui-overlay"+s+":before { display: none; margin-left: "+parseInt(f)+"px; }#w2ui-overlay"+s+":after { display: block; margin-left: "+parseInt(f)+"px; }")):(t.maxHeight&&p>t.maxHeight&&(p=t.maxHeight),l>p&&(a=!0,n.height(p).width(c).css({"overflow-y":"auto"})),e.find(">style").html("#w2ui-overlay"+s+":before { display: block; margin-left: "+parseInt(f)+"px; }#w2ui-overlay"+s+":after { display: none; margin-left: "+parseInt(f)+"px; }")),c=n.width(),m=window.innerWidth+$(document).scrollLeft()-n.offset().left-7,t.maxWidth&&m>t.maxWidth&&(m=t.maxWidth),c>m&&"both"!==t.align&&(t.align="right",setTimeout(function(){r()},1)),a&&i&&n.width(c+w2utils.scrollBarSize()+2)}}var o=this,s="",a={name:null,html:"",align:"none",left:0,top:0,tipLeft:30,width:0,height:0,maxWidth:null,maxHeight:null,style:"","class":"",onShow:null,onHide:null,openAbove:!1,tmp:{}};1==arguments.length&&(t="object"==typeof e?e:{html:e}),2==arguments.length&&(t.html=e),$.isPlainObject(t)||(t={}),t=$.extend({},a,t),t.name&&(s="-"+t.name);var l;if(0===this.length||""===t.html||null==t.html)return $("#w2ui-overlay"+s).length>0?(l=$("#w2ui-overlay"+s)[0].hide,"function"==typeof l&&l()):$("#w2ui-overlay"+s).remove(),$(this);$("#w2ui-overlay"+s).length>0&&(l=$("#w2ui-overlay"+s)[0].hide,$(document).off("click",l),"function"==typeof l&&l()),$("body").append('<div id="w2ui-overlay'+s+'" style="display: none"        class="w2ui-reset w2ui-overlay '+($(this).parents(".w2ui-popup, .w2ui-overlay-popup").length>0?"w2ui-overlay-popup":"")+'">    <style></style>    <div style="'+t.style+'" class="'+t["class"]+'"></div></div>');var c=$("#w2ui-overlay"+s),u=c.find(" > div");u.html(t.html);var d=u.css("background-color");return null!=d&&"rgba(0, 0, 0, 0)"!==d&&"transparent"!==d&&c.css("background-color",d),c.data("element",o.length>0?o[0]:null).data("options",t).data("position",$(o).offset().left+"x"+$(o).offset().top).fadeIn("fast").on("mousedown",function(e){$("#w2ui-overlay"+s).data("keepOpen",!0),-1===["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()}),c[0].hide=i,c[0].resize=r,r(),setTimeout(function(){r(),$(document).off("click",i).on("click",i),"function"==typeof t.onShow&&t.onShow()},10),n(),$(this)},$.fn.w2menu=function(e,t){function n(){setTimeout(function(){$("#w2ui-overlay"+a+" tr.w2ui-selected").removeClass("w2ui-selected");var e=$("#w2ui-overlay"+a+" tr[index="+t.index+"]"),n=$("#w2ui-overlay"+a+" div.menu").scrollTop();if(e.addClass("w2ui-selected"),t.tmp&&(t.tmp.contentHeight=$("#w2ui-overlay"+a+" table").height()+(t.search?50:10)),t.tmp&&(t.tmp.contentWidth=$("#w2ui-overlay"+a+" table").width()),$("#w2ui-overlay"+a).length>0&&$("#w2ui-overlay"+a)[0].resize(),e.length>0){var i=e[0].offsetTop-5,r=$("#w2ui-overlay"+a+" div.menu"),o=r.height();$("#w2ui-overlay"+a+" div.menu").scrollTop(n),(n>i||i+e.height()>n+o)&&$("#w2ui-overlay"+a+" div.menu").animate({scrollTop:i-(o-2*e.height())/2},200,"linear")}},1)}function i(e){var i=this.value,r=e.keyCode,o=!1;switch(r){case 13:$("#w2ui-overlay"+a).remove(),$.fn.w2menuHandler(e,t.index);break;case 9:case 27:$("#w2ui-overlay"+a).remove(),$.fn.w2menuHandler(e,-1);break;case 38:for(t.index=w2utils.isInt(t.index)?parseInt(t.index):0,t.index--;t.index>0&&t.items[t.index].hidden;)t.index--;if(0===t.index&&t.items[t.index].hidden)for(;t.items[t.index]&&t.items[t.index].hidden;)t.index++;t.index<0&&(t.index=0),o=!0;break;case 40:for(t.index=w2utils.isInt(t.index)?parseInt(t.index):0,t.index++;t.index<t.items.length-1&&t.items[t.index].hidden;)t.index++;if(t.index===t.items.length-1&&t.items[t.index].hidden)for(;t.items[t.index]&&t.items[t.index].hidden;)t.index--;t.index>=t.items.length&&(t.index=t.items.length-1),o=!0}if(!o){var l=0;for(var c in t.items){var u=t.items[c],d="",h="";-1!==["is","begins with"].indexOf(t.match)&&(d="^"),-1!==["is","ends with"].indexOf(t.match)&&(h="$");try{var f=new RegExp(d+i+h,"i");f.test(u.text)||"..."===u.text?u.hidden=!1:u.hidden=!0}catch(p){}"enum"===s.type&&-1!==$.inArray(u.id,ids)&&(u.hidden=!0),u.hidden!==!0&&l++}for(t.index=0;t.index<t.items.length-1&&t.items[t.index].hidden;)t.index++;0>=l&&(t.index=-1)}$(s).w2menu("refresh",t),n()}function r(){if(t.spinner)return'<table class="w2ui-drop-menu"><tr><td style="padding: 5px 10px 10px 10px; text-align: center">    <div class="w2ui-spinner" style="width: 18px; height: 18px; position: relative; top: 5px;"></div>     <div style="display: inline-block; padding: 3px; color: #999;">'+w2utils.lang("Loading...")+"</div></td></tr></table>";for(var e=0,n='<table cellspacing="0" cellpadding="0" class="w2ui-drop-menu">',i=null,r=null,o=0;o<t.items.length;o++){var s=t.items[o];if("string"==typeof s?s={id:s,text:s}:(null!=s.text&&null==s.id&&(s.id=s.text),null==s.text&&null!=s.id&&(s.text=s.id),null!=s.caption&&(s.text=s.caption),i=s.img,r=s.icon,null==i&&(i=null),null==r&&(r=null)),s.hidden!==!0){var l="",c=s.text;if("function"==typeof t.render&&(c=t.render(s,t)),i&&(l='<td class="menu-icon"><div class="w2ui-tb-image w2ui-icon '+i+'"></div></td>'),r&&(l='<td class="menu-icon" align="center"><span class="w2ui-icon '+r+'"></span></td>'),"undefined"==typeof c||""===c||/^-+$/.test(c))n+='<tr><td colspan="2" style="padding: 6px; pointer-events: none"><div style="border-top: 1px solid silver;"></div></td></tr>';else{var u=e%2===0?"w2ui-item-even":"w2ui-item-odd";t.altRows!==!0&&(u="");var d=1;""==l&&d++,null==s.count&&d++,n+='<tr index="'+o+'" style="'+(s.style?s.style:"")+'"         class="'+u+" "+(t.index===o?"w2ui-selected":"")+" "+(s.disabled===!0?"w2ui-disabled":"")+"\"        onmousedown=\"$(this).parent().find('tr').removeClass('w2ui-selected'); $(this).addClass('w2ui-selected');\"        onclick=\"event.stopPropagation();                if ("+(s.disabled===!0?"true":"false")+") return;               $('#w2ui-overlay"+a+"').remove();                $.fn.w2menuHandler(event, '"+o+"');\">"+l+'   <td class="menu-text" colspan="'+d+'">'+c+'</td>   <td class="menu-count">'+(null!=s.count?"<span>"+s.count+"</span>":"")+"</td></tr>",e++}}t.items[o]=s}return 0===e&&(n+='<tr><td style="padding: 13px; color: #999; text-align: center">'+t.msgNoItems+"</div></td></tr>"),n+="</table>"}var o={index:null,items:[],render:null,msgNoItems:"No items",onSelect:null,tmp:{}},s=this,a="";if("refresh"!==e){1===arguments.length?t=e:t.items=e,"object"!=typeof t&&(t={}),t=$.extend({},o,t),$.fn.w2menuOptions=t,t.name&&(a="-"+t.name),"function"==typeof t.select&&"function"!=typeof t.onSelect&&(t.onSelect=t.select),"function"==typeof t.onRender&&"function"!=typeof t.render&&(t.render=t.onRender),$.fn.w2menuHandler=function(e,n){"function"==typeof t.onSelect&&setTimeout(function(){t.onSelect({index:n,item:t.items[n],originalEvent:e})},10)};var l="";if(t.search){l+='<div style="position: absolute; top: 0px; height: 40px; left: 0px; right: 0px; border-bottom: 1px solid silver; background-color: #ECECEC; padding: 8px 5px;">    <div class="w2ui-icon icon-search" style="position: absolute; margin-top: 4px; margin-left: 6px; width: 11px; background-position: left !important;"></div>    <input id="menu-search" type="text" style="width: 100%; outline: none; padding-left: 20px;" onclick="event.stopPropagation();"></div>',t.style+=";background-color: #ECECEC",t.index=0;for(var c in t.items)t.items[c].hidden=!1}l+='<div class="menu" style="position: absolute; top: '+(t.search?40:0)+'px; bottom: 0px; width: 100%; overflow: auto;">'+r()+"</div>";var u=$(this).w2overlay(l,t);return setTimeout(function(){if($("#w2ui-overlay"+a+" #menu-search").on("keyup",i).on("keydown",function(e){9===e.keyCode&&(e.stopPropagation(),e.preventDefault())}),t.search){if(-1!=["text","password"].indexOf($(s)[0].type)||"texarea"==$(s)[0].tagName)return;$("#w2ui-overlay"+a+" #menu-search").focus()}},200),n(),u}if($("#w2ui-overlay"+a).length>0){t=$.extend($.fn.w2menuOptions,t);var d=$("#w2ui-overlay"+a+" div.menu").scrollTop();$("#w2ui-overlay"+a+" div.menu").html(r()),$("#w2ui-overlay"+a+" div.menu").scrollTop(d),n()}else $(this).w2menu(t)}}(),function(){var w2grid=function(e){this.name=null,this.box=null,this.header="",this.url="",this.routeData={},this.columns=[],this.columnGroups=[],this.records=[],this.summary=[],this.searches=[],this.searchData=[],this.sortData=[],this.postData={},this.toolbar={},this.show={header:!1,toolbar:!1,footer:!1,columnHeaders:!0,lineNumbers:!1,expandColumn:!1,selectColumn:!1,emptyRecords:!0,toolbarReload:!0,toolbarColumns:!0,toolbarSearch:!0,toolbarAdd:!1,toolbarEdit:!1,toolbarDelete:!1,toolbarSave:!1,selectionBorder:!0,recordTitles:!0,skipRecords:!0},this.autoLoad=!0,this.fixedBody=!0,this.recordHeight=24,this.keyboard=!0,this.selectType="row",this.multiSearch=!0,this.multiSelect=!0,this.multiSort=!0,this.reorderColumns=!1,this.reorderRows=!1,this.markSearch=!0,this.total=0,this.limit=100,this.offset=0,this.style="",this.ranges=[],this.menu=[],this.method=null,this.recid=null,this.parser=null,this.onAdd=null,this.onEdit=null,this.onRequest=null,this.onLoad=null,this.onDelete=null,this.onDeleted=null,this.onSubmit=null,this.onSave=null,this.onSelect=null,this.onUnselect=null,this.onClick=null,this.onDblClick=null,this.onContextMenu=null,this.onMenuClick=null,this.onColumnClick=null,this.onColumnResize=null,this.onSort=null,this.onSearch=null,this.onChange=null,this.onRestore=null,this.onExpand=null,this.onCollapse=null,this.onError=null,this.onKeydown=null,this.onToolbar=null,this.onColumnOnOff=null,this.onCopy=null,this.onPaste=null,this.onSelectionExtend=null,this.onEditField=null,this.onRender=null,this.onRefresh=null,this.onReload=null,this.onResize=null,this.onDestroy=null,this.onStateSave=null,this.onStateRestore=null,this.last={field:"all",caption:w2utils.lang("All Fields"),logic:"OR",search:"",searchIds:[],selection:{indexes:[],columns:{}},multi:!1,scrollTop:0,scrollLeft:0,sortData:null,sortCount:0,xhr:null,range_start:null,range_end:null,sel_ind:null,sel_col:null,sel_type:null,edit_col:null},$.extend(!0,this,w2obj.grid,e);
};$.fn.w2grid=function(e){if("object"==typeof e||!e){if(!w2utils.checkName(e,"w2grid"))return;var t=e.columns,n=e.columnGroups,i=e.records,r=e.searches,o=e.searchData,s=e.sortData,a=e.postData,l=e.toolbar,c=new w2grid(e);$.extend(c,{postData:{},records:[],columns:[],searches:[],toolbar:{},sortData:[],searchData:[],handlers:[]}),null!=c.onExpand&&(c.show.expandColumn=!0),$.extend(!0,c.toolbar,l);for(var u in t)c.columns[u]=$.extend(!0,{},t[u]);for(var u in n)c.columnGroups[u]=$.extend(!0,{},n[u]);for(var u in r)c.searches[u]=$.extend(!0,{},r[u]);for(var u in o)c.searchData[u]=$.extend(!0,{},o[u]);for(var u in s)c.sortData[u]=$.extend(!0,{},s[u]);c.postData=$.extend(!0,{},a);for(var d in i){if(null==i[d].recid||"undefined"==typeof i[d].recid)return void console.log("ERROR: Cannot add records without recid. (obj: "+c.name+")");c.records[d]=$.extend(!0,{},i[d])}for(var h in c.columns){var f=c.columns[h];if("undefined"!=typeof f.searchable&&null==c.getSearch(f.field)){var p=f.searchable,m="";f.searchable===!0&&(p="text",m='size="20"'),c.addSearch({field:f.field,caption:f.caption,type:p,attr:m})}}return c.initToolbar(),0!==$(this).length&&c.render($(this)[0]),w2ui[c.name]=c,c}if(w2ui[$(this).attr("name")]){var g=w2ui[$(this).attr("name")];return g[e].apply(g,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+e+" does not exist on jQuery.w2grid")},w2grid.prototype={msgDelete:w2utils.lang("Are you sure you want to delete selected records?"),msgNotJSON:w2utils.lang("Returned data is not in valid JSON format."),msgAJAXerror:w2utils.lang("AJAX error. See console for more details."),msgRefresh:w2utils.lang("Refreshing..."),buttons:{reload:{type:"button",id:"w2ui-reload",icon:"w2ui-icon-reload",hint:w2utils.lang("Reload data in the list")},columns:{type:"drop",id:"w2ui-column-on-off",icon:"w2ui-icon-columns",hint:w2utils.lang("Show/hide columns"),arrow:!1,html:""},search:{type:"html",id:"w2ui-search",html:'<div class="w2ui-icon icon-search-down w2ui-search-down" title="Select Search Field" onclick="var obj = w2ui[$(this).parents(\'div.w2ui-grid\').attr(\'name\')]; obj.searchShowFields();"></div>'},"search-go":{type:"check",id:"w2ui-search-advanced",caption:w2utils.lang("Search..."),hint:w2utils.lang("Open Search Fields")},add:{type:"button",id:"w2ui-add",caption:w2utils.lang("Add New"),hint:w2utils.lang("Add new record"),icon:"w2ui-icon-plus"},edit:{type:"button",id:"w2ui-edit",caption:w2utils.lang("Edit"),hint:w2utils.lang("Edit selected record"),icon:"w2ui-icon-pencil",disabled:!0},"delete":{type:"button",id:"w2ui-delete",caption:w2utils.lang("Delete"),hint:w2utils.lang("Delete selected records"),icon:"w2ui-icon-cross",disabled:!0},save:{type:"button",id:"w2ui-save",caption:w2utils.lang("Save"),hint:w2utils.lang("Save changed records"),icon:"w2ui-icon-check"}},add:function(e){$.isArray(e)||(e=[e]);var t=0;for(var n in e)this.recid&&"undefined"==typeof e[n].recid&&(e[n].recid=e[n][this.recid]),null!=e[n].recid&&"undefined"!=typeof e[n].recid?(this.records.push(e[n]),t++):console.log("ERROR: Cannot add record without recid. (obj: "+this.name+")");var i="object"!=typeof this.url?this.url:this.url.get;return i||(this.total=this.records.length,this.localSort(),this.localSearch()),this.refresh(),t},find:function(e,t){("undefined"==typeof e||null==e)&&(e={});var n=[],i=!1;for(var r in e)-1!=String(r).indexOf(".")&&(i=!0);for(var o=0;o<this.records.length;o++){var s=!0;for(var r in e){var a=this.records[o][r];i&&-1!=String(r).indexOf(".")&&(a=this.parseField(this.records[o],r)),e[r]!=a&&(s=!1)}s&&t!==!0&&n.push(this.records[o].recid),s&&t===!0&&n.push(o)}return n},set:function(e,t,n){if("object"==typeof e&&(n=t,t=e,e=null),null==e){for(var i in this.records)$.extend(!0,this.records[i],t);n!==!0&&this.refresh()}else{var r=this.get(e,!0);if(null==r)return!1;var o=this.records[r]&&this.records[r].recid==e?!1:!0;o?$.extend(!0,this.summary[r],t):$.extend(!0,this.records[r],t),n!==!0&&this.refreshRow(e)}return!0},get:function(e,t){for(var n=0;n<this.records.length;n++)if(this.records[n].recid==e)return t===!0?n:this.records[n];for(var n=0;n<this.summary.length;n++)if(this.summary[n].recid==e)return t===!0?n:this.summary[n];return null},remove:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.records.length-1;n>=0;n--)this.records[n].recid==arguments[t]&&(this.records.splice(n,1),e++);var i="object"!=typeof this.url?this.url:this.url.get;return i||(this.localSort(),this.localSearch()),this.refresh(),e},addColumn:function(e,t){var n=0;1==arguments.length?(t=e,e=this.columns.length):("string"==typeof e&&(e=this.getColumn(e,!0)),null===e&&(e=this.columns.length)),$.isArray(t)||(t=[t]);for(var i in t)this.columns.splice(e,0,t[i]),e++,n++;return this.refresh(),n},removeColumn:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.columns.length-1;n>=0;n--)this.columns[n].field==arguments[t]&&(this.columns.splice(n,1),e++);return this.refresh(),e},getColumn:function(e,t){for(var n=0;n<this.columns.length;n++)if(this.columns[n].field==e)return t===!0?n:this.columns[n];return null},toggleColumn:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.columns.length-1;n>=0;n--){var i=this.columns[n];i.field==arguments[t]&&(i.hidden=!i.hidden,e++)}return this.refresh(),e},showColumn:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.columns.length-1;n>=0;n--){var i=this.columns[n];i.gridMinWidth&&delete i.gridMinWidth,i.field==arguments[t]&&i.hidden!==!1&&(i.hidden=!1,e++)}return this.refresh(),e},hideColumn:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.columns.length-1;n>=0;n--){var i=this.columns[n];i.field==arguments[t]&&i.hidden!==!0&&(i.hidden=!0,e++)}return this.refresh(),e},addSearch:function(e,t){var n=0;1==arguments.length?(t=e,e=this.searches.length):("string"==typeof e&&(e=this.getSearch(e,!0)),null===e&&(e=this.searches.length)),$.isArray(t)||(t=[t]);for(var i in t)this.searches.splice(e,0,t[i]),e++,n++;return this.searchClose(),n},removeSearch:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.searches.length-1;n>=0;n--)this.searches[n].field==arguments[t]&&(this.searches.splice(n,1),e++);return this.searchClose(),e},getSearch:function(e,t){for(var n=0;n<this.searches.length;n++)if(this.searches[n].field==e)return t===!0?n:this.searches[n];return null},toggleSearch:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.searches.length-1;n>=0;n--)this.searches[n].field==arguments[t]&&(this.searches[n].hidden=!this.searches[n].hidden,e++);return this.searchClose(),e},showSearch:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.searches.length-1;n>=0;n--)this.searches[n].field==arguments[t]&&this.searches[n].hidden!==!1&&(this.searches[n].hidden=!1,e++);return this.searchClose(),e},hideSearch:function(){for(var e=0,t=0;t<arguments.length;t++)for(var n=this.searches.length-1;n>=0;n--)this.searches[n].field==arguments[t]&&this.searches[n].hidden!==!0&&(this.searches[n].hidden=!0,e++);return this.searchClose(),e},getSearchData:function(e){for(var t in this.searchData)if(this.searchData[t].field==e)return this.searchData[t];return null},localSort:function(e){var t="object"!=typeof this.url?this.url:this.url.get;if(t)return void console.log("ERROR: grid.localSort can only be used on local data source, grid.url should be empty.");if(!$.isEmptyObject(this.sortData)){var n=(new Date).getTime(),i=this;i.prepareData();for(var r in this.sortData){var o=this.getColumn(this.sortData[r].field);if(!o)return;"string"==typeof o.render&&(-1!=["date","age"].indexOf(o.render.split(":")[0])&&(this.sortData[r].field_=o.field+"_"),-1!=["time"].indexOf(o.render.split(":")[0])&&(this.sortData[r].field_=o.field+"_"))}return this.records.sort(function(e,t){var n=0;for(var r in i.sortData){var o=i.sortData[r].field;i.sortData[r].field_&&(o=i.sortData[r].field_);var s=e[o],a=t[o];if(-1!=String(o).indexOf(".")&&(s=i.parseField(e,o),a=i.parseField(t,o)),"string"==typeof s&&(s=$.trim(s.toLowerCase())),"string"==typeof a&&(a=$.trim(a.toLowerCase())),s>a&&(n="asc"==i.sortData[r].direction?1:-1),a>s&&(n="asc"==i.sortData[r].direction?-1:1),"object"!=typeof s&&"object"==typeof a&&(n=-1),"object"!=typeof a&&"object"==typeof s&&(n=1),null==s&&null!=a&&(n=1),null!=s&&null==a&&(n=-1),0!=n)break}return n}),n=(new Date).getTime()-n,e!==!0&&setTimeout(function(){i.status(w2utils.lang("Sorting took")+" "+n/1e3+" "+w2utils.lang("sec"))},10),n}},localSearch:function(e){var t="object"!=typeof this.url?this.url:this.url.get;if(t)return void console.log("ERROR: grid.localSearch can only be used on local data source, grid.url should be empty.");var n=(new Date).getTime(),i=this;if(this.total=this.records.length,this.last.searchIds=[],this.prepareData(),this.searchData.length>0&&!t){this.total=0;for(var r in this.records){var o=this.records[r],s=0;for(var a in this.searchData){var l=this.searchData[a],c=this.getSearch(l.field);if(null!=l){null==c&&(c={field:l.field,type:l.type});var u=String(i.parseField(o,c.field)).toLowerCase();if("undefined"!=typeof l.value)if($.isArray(l.value))var d=l.value[0],h=l.value[1];else var d=String(l.value).toLowerCase();switch(l.operator){case"is":if(o[c.field]==l.value&&s++,"date"==c.type){var u=w2utils.formatDate(o[c.field+"_"],"yyyy-mm-dd"),d=w2utils.formatDate(d,"yyyy-mm-dd");u==d&&s++}if("time"==c.type){var u=w2utils.formatTime(o[c.field+"_"],"h24:mi"),d=w2utils.formatTime(d,"h24:mi");u==d&&s++}break;case"between":if(-1!=["int","float","money","currency","percent"].indexOf(c.type)&&parseFloat(o[c.field])>=parseFloat(d)&&parseFloat(o[c.field])<=parseFloat(h)&&s++,"date"==c.type){var u=o[c.field+"_"],d=w2utils.isDate(d,w2utils.settings.date_format,!0),h=w2utils.isDate(h,w2utils.settings.date_format,!0);null!=h&&(h=new Date(h.getTime()+864e5)),u>=d&&h>u&&s++}if("time"==c.type){var u=o[c.field+"_"],d=w2utils.isTime(d,!0),h=w2utils.isTime(h,!0);d=(new Date).setHours(d.hours,d.minutes,d.seconds?d.seconds:0,0),h=(new Date).setHours(h.hours,h.minutes,h.seconds?h.seconds:0,0),u>=d&&h>u&&s++}break;case"in":var f=l.value;l.svalue&&(f=l.svalue),-1!==f.indexOf(u)&&s++;break;case"not in":var f=l.value;l.svalue&&(f=l.svalue),-1==f.indexOf(u)&&s++;break;case"begins":case"begins with":0==u.indexOf(d)&&s++;break;case"contains":u.indexOf(d)>=0&&s++;break;case"ends":case"ends with":u.indexOf(d)>=0&&u.indexOf(d)==u.length-d.length&&s++}}}("OR"==this.last.logic&&0!=s||"AND"==this.last.logic&&s==this.searchData.length)&&this.last.searchIds.push(parseInt(r))}this.total=this.last.searchIds.length}return n=(new Date).getTime()-n,e!==!0&&setTimeout(function(){i.status(w2utils.lang("Search took")+" "+n/1e3+" "+w2utils.lang("sec"))},10),n},getRangeData:function(e,t){var n=this.get(e[0].recid,!0),i=this.get(e[1].recid,!0),r=e[0].column,o=e[1].column,s=[];if(r==o)for(var a=n;i>=a;a++){var l=this.records[a],c=l[this.columns[r].field]||null;t!==!0?s.push(c):s.push({data:c,column:r,index:a,record:l})}else if(n==i)for(var l=this.records[n],u=r;o>=u;u++){var c=l[this.columns[u].field]||null;t!==!0?s.push(c):s.push({data:c,column:u,index:n,record:l})}else for(var a=n;i>=a;a++){var l=this.records[a];s.push([]);for(var u=r;o>=u;u++){var c=l[this.columns[u].field];t!==!0?s[s.length-1].push(c):s[s.length-1].push({data:c,column:u,index:a,record:l})}}return s},addRange:function(e){var t=0;if("row"==this.selectType)return t;$.isArray(e)||(e=[e]);for(var n in e){if("object"!=typeof e[n]&&(e[n]={name:"selection"}),"selection"==e[n].name){if(this.show.selectionBorder===!1)continue;var i=this.getSelection();if(0==i.length){this.removeRange(e[n].name);continue}var r=i[0],o=i[i.length-1];$("#grid_"+this.name+"_rec_"+r.recid+" td[col="+r.column+"]"),$("#grid_"+this.name+"_rec_"+o.recid+" td[col="+o.column+"]")}else{var r=e[n].range[0],o=e[n].range[1];$("#grid_"+this.name+"_rec_"+r.recid+" td[col="+r.column+"]"),$("#grid_"+this.name+"_rec_"+o.recid+" td[col="+o.column+"]")}if(r){var s={name:e[n].name,range:[{recid:r.recid,column:r.column},{recid:o.recid,column:o.column}],style:e[n].style||""},a=!1;for(var l in this.ranges)if(this.ranges[l].name==e[n].name){a=n;break}a!==!1?this.ranges[a]=s:this.ranges.push(s),t++}}return this.refreshRanges(),t},removeRange:function(){for(var e=0,t=0;t<arguments.length;t++){var n=arguments[t];$("#grid_"+this.name+"_"+n).remove();for(var i=this.ranges.length-1;i>=0;i--)this.ranges[i].name==n&&(this.ranges.splice(i,1),e++)}return e},refreshRanges:function(){function e(e){var r=i.getSelection();i.last.move={type:"expand",x:e.screenX,y:e.screenY,divX:0,divY:0,recid:r[0].recid,column:r[0].column,originalRange:[{recid:r[0].recid,column:r[0].column},{recid:r[r.length-1].recid,column:r[r.length-1].column}],newRange:[{recid:r[0].recid,column:r[0].column},{recid:r[r.length-1].recid,column:r[r.length-1].column}]},$(document).off("mousemove",t).on("mousemove",t),$(document).off("mouseup",n).on("mouseup",n)}function t(e){var t=i.last.move;if(t&&"expand"==t.type){t.divX=e.screenX-t.x,t.divY=e.screenY-t.y;var n,r,o=e.originalEvent.target;if("TD"!=o.tagName&&(o=$(o).parents("td")[0]),"undefined"!=typeof $(o).attr("col")&&(r=parseInt($(o).attr("col"))),o=$(o).parents("tr")[0],n=$(o).attr("recid"),t.newRange[1].recid!=n||t.newRange[1].column!=r){var s=$.extend({},t.newRange);return t.newRange=[{recid:t.recid,column:t.column},{recid:n,column:r}],h=i.trigger($.extend(h,{originalRange:t.originalRange,newRange:t.newRange})),h.isCancelled===!0?(t.newRange=s,void(h.newRange=s)):(i.removeRange("grid-selection-expand"),void i.addRange({name:"grid-selection-expand",range:h.newRange,style:"background-color: rgba(100,100,100,0.1); border: 2px dotted rgba(100,100,100,0.5);"}))}}}function n(e){i.removeRange("grid-selection-expand"),delete i.last.move,$(document).off("mousemove",t),$(document).off("mouseup",n),i.trigger($.extend(h,{phase:"after"}))}var i=this,r=(new Date).getTime(),o=$("#grid_"+this.name+"_records");for(var s in this.ranges){var a=this.ranges[s],l=a.range[0],c=a.range[1],u=$("#grid_"+this.name+"_rec_"+l.recid+" td[col="+l.column+"]"),d=$("#grid_"+this.name+"_rec_"+c.recid+" td[col="+c.column+"]");0==$("#grid_"+this.name+"_"+a.name).length?o.append('<div id="grid_'+this.name+"_"+a.name+'" class="w2ui-selection" style="'+a.style+'">'+("selection"==a.name?'<div id="grid_'+this.name+'_resizer" class="w2ui-selection-resizer"></div>':"")+"</div>"):$("#grid_"+this.name+"_"+a.name).attr("style",a.style),u.length>0&&d.length>0&&$("#grid_"+this.name+"_"+a.name).css({left:u.position().left-1+o.scrollLeft()+"px",top:u.position().top-1+o.scrollTop()+"px",width:d.position().left-u.position().left+d.width()+3+"px",height:d.position().top-u.position().top+d.height()+3+"px"})}$(this.box).find("#grid_"+this.name+"_resizer").off("mousedown").on("mousedown",e);var h={phase:"before",type:"selectionExtend",target:i.name,originalRange:null,newRange:null};return(new Date).getTime()-r},select:function(){var e=0,t=this.last.selection;this.multiSelect||this.selectNone();for(var n=0;n<arguments.length;n++){var i="object"==typeof arguments[n]?arguments[n].recid:arguments[n],r=this.get(i);if(null!=r){var o=this.get(i,!0),s=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(i));if("row"==this.selectType){if(t.indexes.indexOf(o)>=0)continue;var a=this.trigger({phase:"before",type:"select",target:this.name,recid:i,index:o});if(a.isCancelled===!0)continue;t.indexes.push(o),t.indexes.sort(function(e,t){return e-t}),s.addClass("w2ui-selected").data("selected","yes"),s.find(".w2ui-grid-select-check").prop("checked",!0),e++}else{var l=arguments[n].column;if(!w2utils.isInt(l)){var c=[];for(var u in this.columns)this.columns[u].hidden||c.push({recid:i,column:parseInt(u)});return this.multiSelect||(c=c.splice(0,1)),this.select.apply(this,c)}var d=t.columns[o]||[];if($.isArray(d)&&-1!=d.indexOf(l))continue;var a=this.trigger({phase:"before",type:"select",target:this.name,recid:i,index:o,column:l});if(a.isCancelled===!0)continue;-1==t.indexes.indexOf(o)&&(t.indexes.push(o),t.indexes.sort(function(e,t){return e-t})),d.push(l),d.sort(function(e,t){return e-t}),s.find(" > td[col="+l+"]").addClass("w2ui-selected"),e++,s.data("selected","yes"),s.find(".w2ui-grid-select-check").prop("checked",!0),t.columns[o]=d}this.trigger($.extend(a,{phase:"after"}))}}return t.indexes.length==this.records.length||0!==this.searchData.length&&t.indexes.length==this.last.searchIds.length?$("#grid_"+this.name+"_check_all").prop("checked",!0):$("#grid_"+this.name+"_check_all").prop("checked",!1),this.status(),this.addRange("selection"),e},unselect:function(){for(var e=0,t=this.last.selection,n=0;n<arguments.length;n++){var i="object"==typeof arguments[n]?arguments[n].recid:arguments[n],r=this.get(i);if(null!=r){var o=this.get(r.recid,!0),s=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(i));if("row"==this.selectType){if(-1==t.indexes.indexOf(o))continue;var a=this.trigger({phase:"before",type:"unselect",target:this.name,recid:i,index:o});if(a.isCancelled===!0)continue;t.indexes.splice(t.indexes.indexOf(o),1),s.removeClass("w2ui-selected").removeData("selected"),0!=s.length&&(s[0].style.cssText="height: "+this.recordHeight+"px; "+s.attr("custom_style")),s.find(".w2ui-grid-select-check").prop("checked",!1),e++}else{var l=arguments[n].column;if(!w2utils.isInt(l)){var c=[];for(var u in this.columns)this.columns[u].hidden||c.push({recid:i,column:parseInt(u)});return this.unselect.apply(this,c)}var d=t.columns[o];if(!$.isArray(d)||-1==d.indexOf(l))continue;var a=this.trigger({phase:"before",type:"unselect",target:this.name,recid:i,column:l});if(a.isCancelled===!0)continue;d.splice(d.indexOf(l),1),$("#grid_"+this.name+"_rec_"+w2utils.escapeId(i)+" > td[col="+l+"]").removeClass("w2ui-selected"),e++,0==d.length&&(delete t.columns[o],t.indexes.splice(t.indexes.indexOf(o),1),s.removeData("selected"),s.find(".w2ui-grid-select-check").prop("checked",!1))}this.trigger($.extend(a,{phase:"after"}))}}return t.indexes.length==this.records.length||0!==this.searchData.length&&t.indexes.length==this.last.searchIds.length?$("#grid_"+this.name+"_check_all").prop("checked",!0):$("#grid_"+this.name+"_check_all").prop("checked",!1),this.status(),this.addRange("selection"),e},selectAll:function(){if(this.multiSelect!==!1){var e=this.trigger({phase:"before",type:"select",target:this.name,all:!0});if(e.isCancelled!==!0){var t="object"!=typeof this.url?this.url:this.url.get,n=this.last.selection,i=[];for(var r in this.columns)i.push(parseInt(r));if(n.indexes=[],t||0===this.searchData.length){var o=this.records.length;0==this.searchData.length||this.url||(o=this.last.searchIds.length);for(var s=0;o>s;s++)n.indexes.push(s),"row"!=this.selectType&&(n.columns[s]=i.slice())}else for(var s=0;s<this.last.searchIds.length;s++)n.indexes.push(this.last.searchIds[s]),"row"!=this.selectType&&(n.columns[this.last.searchIds[s]]=i.slice());this.refresh();var n=this.getSelection();1==n.length?this.toolbar.enable("w2ui-edit"):this.toolbar.disable("w2ui-edit"),n.length>=1?this.toolbar.enable("w2ui-delete"):this.toolbar.disable("w2ui-delete"),this.addRange("selection"),this.trigger($.extend(e,{phase:"after"}))}}},selectNone:function(){var e=this.trigger({phase:"before",type:"unselect",target:this.name,all:!0});if(e.isCancelled!==!0){var t=this.last.selection;for(var n in t.indexes){var i=t.indexes[n],r=this.records[i],o=r?r.recid:null,s=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(o));if(s.removeClass("w2ui-selected").removeData("selected"),s.find(".w2ui-grid-select-check").prop("checked",!1),"row"!=this.selectType){var a=t.columns[i];for(var l in a)s.find(" > td[col="+a[l]+"]").removeClass("w2ui-selected")}}t.indexes=[],t.columns={},this.toolbar.disable("w2ui-edit","w2ui-delete"),this.removeRange("selection"),$("#grid_"+this.name+"_check_all").prop("checked",!1),this.trigger($.extend(e,{phase:"after"}))}},getSelection:function(e){var t=[],n=this.last.selection;if("row"==this.selectType){for(var i in n.indexes)this.records[n.indexes[i]]&&(e===!0?t.push(n.indexes[i]):t.push(this.records[n.indexes[i]].recid));return t}for(var i in n.indexes){var r=n.columns[n.indexes[i]];if(this.records[n.indexes[i]])for(var o in r)t.push({recid:this.records[n.indexes[i]].recid,index:parseInt(n.indexes[i]),column:r[o]})}return t},search:function(e,t){var n="object"!=typeof this.url?this.url:this.url.get,i=[],r=this.last.multi,o=this.last.logic,s=this.last.field,a=this.last.search;if(0==arguments.length){a="";for(var l in this.searches){var c=this.searches[l],u=$("#grid_"+this.name+"_operator_"+l).val(),d=$("#grid_"+this.name+"_field_"+l),h=$("#grid_"+this.name+"_field2_"+l),f=d.val(),p=h.val(),m=null;if(-1!=["int","float","money","currency","percent"].indexOf(c.type)){var g=d.data("w2field"),v=h.data("w2field");g&&(f=g.clean(f)),v&&(p=v.clean(p))}if(-1!=["list","enum"].indexOf(c.type))if(f=d.data("selected")||{},$.isArray(f)){m=[];for(var y in f)m.push(w2utils.isFloat(f[y].id)?parseFloat(f[y].id):String(f[y].id).toLowerCase()),delete f[y].hidden}else f=f.id||"";if(""!=f&&null!=f||"undefined"!=typeof p&&""!=p){var b={field:c.field,type:c.type,operator:u};"between"==u?$.extend(b,{value:[f,p]}):"in"==u&&"string"==typeof f?$.extend(b,{value:f.split(",")}):"not in"==u&&"string"==typeof f?$.extend(b,{value:f.split(",")}):$.extend(b,{value:f}),m&&$.extend(b,{svalue:m});try{"date"==c.type&&"between"==u&&(b.value[0]=f,b.value[1]=p),"date"==c.type&&"is"==u&&(b.value=f)}catch(w){}i.push(b)}}i.length>0&&!n?(r=!0,o="AND"):(r=!0,o="AND")}if("string"==typeof e&&(s=e,a=t,r=!1,o="OR","undefined"!=typeof t))if("all"==e.toLowerCase())if(this.searches.length>0)for(var l in this.searches){var c=this.searches[l];if("text"==c.type||"alphanumeric"==c.type&&w2utils.isAlphaNumeric(t)||"int"==c.type&&w2utils.isInt(t)||"float"==c.type&&w2utils.isFloat(t)||"percent"==c.type&&w2utils.isFloat(t)||"hex"==c.type&&w2utils.isHex(t)||"currency"==c.type&&w2utils.isMoney(t)||"money"==c.type&&w2utils.isMoney(t)||"date"==c.type&&w2utils.isDate(t)){var b={field:c.field,type:c.type,operator:"text"==c.type?"contains":"is",value:t};i.push(b)}if(-1!=["int","float","money","currency","percent"].indexOf(c.type)&&-1!=String(t).indexOf("-")){var x=String(t).split("-"),b={field:c.field,type:c.type,operator:"between",value:[x[0],x[1]]};i.push(b)}}else for(var k in this.columns){var b={field:this.columns[k].field,type:"text",operator:"contains",value:t};i.push(b)}else{var _=$("#grid_"+this.name+"_search_all"),c=this.getSearch(e);if(null==c&&(c={field:e,type:"text"}),c.field==e&&(this.last.caption=c.caption),"list"==c.type){var b=_.data("selected");b&&!$.isEmptyObject(b)&&(t=b.id)}if(""!=t){var C="contains",S=t;if(-1!=["date","time","list"].indexOf(c.type)&&(C="is"),"int"==c.type&&""!=t){if(C="is",-1!=String(t).indexOf("-")){var b=t.split("-");2==b.length&&(C="between",S=[parseInt(b[0]),parseInt(b[1])])}if(-1!=String(t).indexOf(",")){var b=t.split(",");C="in",S=[];for(var x in b)S.push(b[x])}}var b={field:c.field,type:c.type,operator:C,value:S};i.push(b)}}if($.isArray(e)){var T="AND";"string"==typeof t&&(T=t.toUpperCase(),"OR"!=T&&"AND"!=T&&(T="AND")),a="",r=!0,o=T;for(var j in e){var D=e[j],c=this.getSearch(D.field);null==c&&(c={type:"text",operator:"contains"}),i.push($.extend(!0,{},c,D))}}var M=this.trigger({phase:"before",type:"search",target:this.name,searchData:i,searchField:e?e:"multi",searchValue:t?t:"multi"});M.isCancelled!==!0&&(this.searchData=M.searchData,this.last.field=s,this.last.search=a,this.last.multi=r,this.last.logic=o,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.searchClose(),this.set({expanded:!1},!0),n?(this.last.xhr_offset=0,this.reload()):(this.localSearch(),this.refresh()),this.trigger($.extend(M,{phase:"after"})))},searchOpen:function(){if(this.box&&0!=this.searches.length){var e=this;$("#tb_"+this.name+"_toolbar_item_w2ui-search-advanced").w2overlay(this.getSearchesHTML(),{name:"searches-"+this.name,left:-10,"class":"w2ui-grid-searches",onShow:function(){"OR"==e.last.logic&&(e.searchData=[]),e.initSearches(),$("#w2ui-overlay-searches-"+this.name+" .w2ui-grid-searches").data("grid-name",e.name);var t=$("#w2ui-overlay-searches-"+this.name+" .w2ui-grid-searches *[rel=search]");t.length>0&&t[0].focus()}})}},searchClose:function(){this.box&&0!=this.searches.length&&(this.toolbar&&this.toolbar.uncheck("w2ui-search-advanced"),$("#w2ui-overlay-searches-"+this.name+" .w2ui-grid-searches").length>0&&$().w2overlay("",{name:"searches-"+this.name}))},searchShowFields:function(){for(var e=$("#grid_"+this.name+"_search_all"),t='<div class="w2ui-select-field"><table>',n=-1;n<this.searches.length;n++){var i=this.searches[n];if(-1==n){if(!this.multiSearch)continue;i={field:"all",caption:w2utils.lang("All Fields")}}else if(this.searches[n].hidden===!0)continue;t+="<tr "+(w2utils.isIOS?"onTouchStart":"onClick")+"=\"w2ui['"+this.name+"'].initAllField('"+i.field+'\')">    <td><input type="radio" tabIndex="-1" '+(i.field==this.last.field?"checked":"")+"></td>    <td>"+i.caption+"</td></tr>"}t+="</table></div>",setTimeout(function(){$(e).w2overlay(t,{left:-10})},1)},initAllField:function(e,t){var n=$("#grid_"+this.name+"_search_all"),i=this.getSearch(e);if("all"==e)i={field:"all",caption:w2utils.lang("All Fields")},n.w2field("clear"),n.change().focus();else{var r=i.type;-1!=["enum","select"].indexOf(r)&&(r="list"),n.w2field(r,$.extend({},i.options,{suffix:"",autoFormat:!1,selected:t})),-1!=["list","enum"].indexOf(i.type)&&(this.last.search="",this.last.item="",n.val("")),setTimeout(function(){n.focus()},1)}""!=this.last.search?this.search(i.field,this.last.search):(this.last.field=i.field,this.last.caption=i.caption),n.attr("placeholder",i.caption),$().w2overlay()},searchReset:function(e){var t=this.trigger({phase:"before",type:"search",target:this.name,searchData:[]});t.isCancelled!==!0&&(this.searchData=[],this.last.search="",this.last.logic="OR",this.last.multi=!1,this.last.xhr_offset=0,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.searchClose(),$("#grid_"+this.name+"_search_all").val(""),e||this.reload(),this.trigger($.extend(t,{phase:"after"})))},clear:function(e){this.records=[],this.summary=[],this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.last.range_start=null,this.last.range_end=null,this.last.xhr_offset=0,e||this.refresh()},reset:function(e){this.offset=0,this.total=0,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.last.range_start=null,this.last.range_end=null,this.last.xhr_offset=0,this.searchReset(e),null!=this.last.sortData&&(this.sortData=this.last.sortData),this.set({expanded:!1},!0),e||this.refresh()},skip:function(e){var t="object"!=typeof this.url?this.url:this.url.get;t?(this.offset=parseInt(e),this.offset>this.total&&(this.offset=this.total-this.limit),(this.offset<0||!w2utils.isInt(this.offset))&&(this.offset=0),this.records=[],this.last.xhr_offset=0,this.last.pull_more=!0,this.last.scrollTop=0,this.last.scrollLeft=0,$("#grid_"+this.name+"_records").prop("scrollTop",0),this.reload()):console.log("ERROR: grid.skip() can only be called when you have remote data source.")},load:function(e,t){return"undefined"==typeof e?void console.log('ERROR: You need to provide url argument when calling .load() method of "'+this.name+'" object.'):void this.request("get-records",{},e,t)},reload:function(e){var t="object"!=typeof this.url?this.url:this.url.get;t?(this.clear(!0),this.request("get-records",{},null,e)):(this.last.scrollTop=0,this.last.scrollLeft=0,this.last.range_start=null,this.last.range_end=null,this.localSearch(),this.refresh(),"function"==typeof e&&e({status:"success"}))},request:function(e,t,n,i){if("undefined"==typeof t&&(t={}),("undefined"==typeof n||""==n||null==n)&&(n=this.url),""!=n&&null!=n){var r={};if(w2utils.isInt(this.offset)||(this.offset=0),w2utils.isInt(this.last.xhr_offset)||(this.last.xhr_offset=0),r.cmd=e,r.selected=this.getSelection(),r.limit=this.limit,r.offset=parseInt(this.offset)+this.last.xhr_offset,r.search=this.searchData,r.searchLogic=this.last.logic,r.sort=this.sortData,0==this.searchData.length&&(delete r.search,delete r.searchLogic),0==this.sortData.length&&delete r.sort,$.extend(r,this.postData),$.extend(r,t),"get-records"==e){var o=this.trigger({phase:"before",type:"request",target:this.name,url:n,postData:r});if(o.isCancelled===!0)return void("function"==typeof i&&i({status:"error",message:"Request aborted."}))}else var o={url:n,postData:r};var s=this;if(0==this.last.xhr_offset)this.lock(this.msgRefresh,!0);else{var a=$("#grid_"+this.name+"_rec_more");this.autoLoad===!0?a.show().find("td").html('<div><div style="width: 20px; height: 20px;" class="w2ui-spinner"></div></div>'):a.find("td").html("<div>"+w2utils.lang("Load")+" "+s.limit+" "+w2utils.lang("More")+"...</div>")}if(this.last.xhr)try{this.last.xhr.abort()}catch(l){}var n="object"!=typeof o.url?o.url:o.url.get;if("save-records"==r.cmd&&"object"==typeof o.url&&(n=o.url.save),"delete-records"==r.cmd&&"object"==typeof o.url&&(n=o.url.remove),!$.isEmptyObject(s.routeData)){var c=w2utils.parseRoute(n);if(c.keys.length>0)for(var u=0;u<c.keys.length;u++)null!=s.routeData[c.keys[u].name]&&(n=n.replace(new RegExp(":"+c.keys[u].name,"g"),s.routeData[c.keys[u].name]))}var d={type:"POST",url:n,data:o.postData,dataType:"text"};"HTTP"==w2utils.settings.dataType&&(d.data="object"==typeof d.data?String($.param(d.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]"):d.data),"RESTFULL"==w2utils.settings.dataType&&(d.type="GET","save-records"==r.cmd&&(d.type="PUT"),"delete-records"==r.cmd&&(d.type="DELETE"),d.data="object"==typeof d.data?String($.param(d.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]"):d.data),"JSON"==w2utils.settings.dataType&&(d.type="POST",d.data=JSON.stringify(d.data),d.contentType="application/json"),this.method&&(d.type=this.method),this.last.xhr_cmd=r.cmd,this.last.xhr_start=(new Date).getTime(),this.last.xhr=$.ajax(d).done(function(t,n,r){s.requestComplete(n,e,i)}).fail(function(t,n,r){var o={status:n,error:r,rawResponseText:t.responseText},a=s.trigger({phase:"before",type:"error",error:o,xhr:t});if(a.isCancelled!==!0){if("abort"!=n){var l;try{l=$.parseJSON(t.responseText)}catch(c){}console.log("ERROR: Server communication failed.","\n   EXPECTED:",{status:"success",total:5,records:[{recid:1,field:"value"}]},"\n         OR:",{status:"error",message:"error message"},"\n   RECEIVED:","object"==typeof l?l:t.responseText),s.requestComplete("error",e,i)}s.trigger($.extend(a,{phase:"after"}))}}),"get-records"==e&&this.trigger($.extend(o,{phase:"after"}))}},requestComplete:function(status,cmd,callBack){var obj=this;this.unlock(),setTimeout(function(){obj.status(w2utils.lang("Server Response")+" "+((new Date).getTime()-obj.last.xhr_start)/1e3+" "+w2utils.lang("sec"))},10),this.last.pull_more=!1,this.last.pull_refresh=!0;var event_name="load";"save-records"==this.last.xhr_cmd&&(event_name="save"),"delete-records"==this.last.xhr_cmd&&(event_name="deleted");var eventData=this.trigger({phase:"before",target:this.name,type:event_name,xhr:this.last.xhr,status:status});if(eventData.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));var data,responseText=this.last.xhr.responseText;if("error"!=status){if("undefined"!=typeof responseText&&""!=responseText){if("object"==typeof responseText)data=responseText;else if("function"==typeof obj.parser)data=obj.parser(responseText),"object"!=typeof data&&console.log("ERROR: Your parser did not return proper object");else try{eval("data = "+responseText)}catch(e){}if(obj.recid)for(var r in data.records)data.records[r].recid=data.records[r][obj.recid];if("undefined"==typeof data&&(data={status:"error",message:this.msgNotJSON,responseText:responseText}),"error"==data.status)obj.error(data.message);else{if("get-records"==cmd)if(0==this.last.xhr_offset)this.records=[],
this.summary=[],delete data.status,$.extend(!0,this,data);else{var records=data.records;delete data.records,delete data.status,$.extend(!0,this,data);for(var r in records)this.records.push(records[r])}if("delete-records"==cmd)return void this.reset()}}}else data={status:"error",message:this.msgAJAXerror,responseText:responseText},obj.error(this.msgAJAXerror);var url="object"!=typeof this.url?this.url:this.url.get;url||(this.localSort(),this.localSearch()),this.total=parseInt(this.total),this.trigger($.extend(eventData,{phase:"after"})),0==this.last.xhr_offset?this.refresh():this.scroll(),"function"==typeof callBack&&callBack(data)},error:function(e){var t=this.trigger({target:this.name,type:"error",message:e,xhr:this.last.xhr});return t.isCancelled===!0?void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."})):(w2alert(e,"Error"),void this.trigger($.extend(t,{phase:"after"})))},getChanges:function(){var e=[];for(var t in this.records){var n=this.records[t];"undefined"!=typeof n.changes&&e.push($.extend(!0,{recid:n.recid},n.changes))}return e},mergeChanges:function(){var changes=this.getChanges();for(var c in changes){var record=this.get(changes[c].recid);for(var s in changes[c])if("recid"!=s){try{eval("record."+s+" = changes[c][s]")}catch(e){}delete record.changes}}this.refresh()},save:function(){var e=this,t=this.getChanges(),n=this.trigger({phase:"before",target:this.name,type:"submit",changes:t});if(n.isCancelled!==!0){var i="object"!=typeof this.url?this.url:this.url.save;i?this.request("save-records",{changes:n.changes},null,function(t){"error"!==t.status&&e.mergeChanges(),e.trigger($.extend(n,{phase:"after"}))}):(this.mergeChanges(),this.trigger($.extend(n,{phase:"after"})))}},editField:function(e,t,n,i){var r=this,o=r.get(e,!0),s=r.records[o],a=r.columns[t],l=a?a.editable:null;if(s&&a&&l&&s.editable!==!1){if(-1!=["enum","file"].indexOf(l.type))return void console.log('ERROR: input types "enum" and "file" are not supported in inline editing.');var c=r.trigger({phase:"before",type:"editField",target:r.name,recid:e,column:t,value:n,index:o,originalEvent:i});if(c.isCancelled!==!0&&(n=c.value,this.selectNone(),this.select({recid:e,column:t}),this.last.edit_col=t,-1==["checkbox","check"].indexOf(l.type))){var u=$("#grid_"+r.name+"_rec_"+w2utils.escapeId(e)),d=u.find("[col="+t+"] > div");"undefined"==typeof l.inTag&&(l.inTag=""),"undefined"==typeof l.outTag&&(l.outTag=""),"undefined"==typeof l.style&&(l.style=""),"undefined"==typeof l.items&&(l.items=[]);var h=s.changes&&"undefined"!=typeof s.changes[a.field]?w2utils.stripTags(s.changes[a.field]):w2utils.stripTags(s[a.field]);(null==h||"undefined"==typeof h)&&(h=""),"undefined"!=typeof n&&null!=n&&(h=n);var f="undefined"!=typeof a.style?a.style+";":"";if("string"==typeof a.render&&-1!=["number","int","float","money","percent"].indexOf(a.render.split(":")[0])&&(f+="text-align: right;"),l.items.length>0&&!$.isPlainObject(l.items[0])&&(l.items=w2obj.field.prototype.normMenu(l.items)),"select"==l.type){var p="";for(var m in l.items)p+='<option value="'+l.items[m].id+'" '+(l.items[m].id==h?"selected":"")+">"+l.items[m].text+"</option>";d.addClass("w2ui-editable").html('<select id="grid_'+r.name+"_edit_"+e+"_"+t+'" column="'+t+'"     style="width: 100%; '+f+l.style+'" field="'+a.field+'" recid="'+e+'"     '+l.inTag+">"+p+"</select>"+l.outTag),d.find("select").focus().on("change",function(e){delete r.last.move}).on("blur",function(e){r.editChange.call(r,this,o,t,e)})}else{d.addClass("w2ui-editable").html('<input id="grid_'+r.name+"_edit_"+e+"_"+t+'"     type="text" style="font-family: inherit; font-size: inherit; outline: none; '+f+l.style+'" field="'+a.field+'" recid="'+e+'"     column="'+t+'" '+l.inTag+">"+l.outTag),null==n&&d.find("input").val("object"!=h?h:"");var g=d.find("input").get(0);$(g).w2field(l.type,$.extend(l,{selected:h})),setTimeout(function(){var e=g;"list"==l.type&&(e=$($(g).data("w2field").helpers.focus).find("input"),"object"!=typeof h&&""!=h&&e.val(h).css({opacity:1}).prev().css({opacity:1})),$(e).on("blur",function(e){r.editChange.call(r,g,o,t,e)})},10),null!=n&&$(g).val("object"!=h?h:"")}setTimeout(function(){d.find("input, select").on("click",function(e){e.stopPropagation()}).on("keydown",function(n){var i=!1;switch(n.keyCode){case 9:i=!0;var l=e,c=n.shiftKey?r.prevCell(t,!0):r.nextCell(t,!0);if(null==c){var u=n.shiftKey?r.prevRow(o):r.nextRow(o);if(null!=u&&u!=o){l=r.records[u].recid;for(var d in r.columns){var u=r.columns[d].editable;if("undefined"!=typeof u&&-1==["checkbox","check"].indexOf(u.type)&&(c=parseInt(d),!n.shiftKey))break}}}l===!1&&(l=e),null==c&&(c=t),this.blur(),setTimeout(function(){"row"!=r.selectType?(r.selectNone(),r.select({recid:l,column:c})):r.editField(l,c,null,n)},1);break;case 13:this.blur();var h=n.shiftKey?r.prevRow(o):r.nextRow(o);null!=h&&h!=o&&setTimeout(function(){"row"!=r.selectType?(r.selectNone(),r.select({recid:r.records[h].recid,column:t})):r.editField(r.records[h].recid,t,null,n)},100);break;case 38:if(!n.shiftKey)break;i=!0;var h=r.prevRow(o);h!=o&&(this.blur(),setTimeout(function(){"row"!=r.selectType?(r.selectNone(),r.select({recid:r.records[h].recid,column:t})):r.editField(r.records[h].recid,t,null,n)},1));break;case 40:if(!n.shiftKey)break;i=!0;var h=r.nextRow(o);null!=h&&h!=o&&(this.blur(),setTimeout(function(){"row"!=r.selectType?(r.selectNone(),r.select({recid:r.records[h].recid,column:t})):r.editField(r.records[h].recid,t,null,n)},1));break;case 27:var f=r.parseField(s,a.field);s.changes&&"undefined"!=typeof s.changes[a.field]&&(f=s.changes[a.field]),this.value="undefined"!=typeof f?f:"",this.blur(),setTimeout(function(){r.select({recid:e,column:t})},1)}i&&n.preventDefault&&n.preventDefault()});var i=d.find("input").focus();null!=n?i[0].setSelectionRange(i.val().length,i.val().length):i.select()},1),r.trigger($.extend(c,{phase:"after"}))}}},editChange:function(e,t,n,i){var r=0>t;t=0>t?-t-1:t;var o=r?this.summary:this.records,s=o[t],a=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(s.recid)),l=this.columns[n],c=e.value,u=this.parseField(s,l.field),d=$(e).data("w2field");d&&(c=d.clean(c),"list"==d.type&&""!=c&&(c=$(e).data("selected"))),"checkbox"==e.type&&(s.editable===!1&&(e.checked=!e.checked),c=e.checked);for(var h={phase:"before",type:"change",target:this.name,input_id:e.id,recid:s.recid,index:t,column:n,value_new:c,value_previous:s.changes&&s.changes.hasOwnProperty(l.field)?s.changes[l.field]:u,value_original:u};;){if(c=h.value_new,"object"!=typeof c&&String(u)!=String(c)||"object"==typeof c&&("object"!=typeof u||c.id!=u.id)){if(h=this.trigger($.extend(h,{type:"change",phase:"before"})),h.isCancelled!==!0){if(c!==h.value_new)continue;s.changes=s.changes||{},s.changes[l.field]=h.value_new,this.trigger($.extend(h,{phase:"after"}))}}else if(h=this.trigger($.extend(h,{type:"restore",phase:"before"})),h.isCancelled!==!0){if(c!==h.value_new)continue;s.changes&&delete s.changes[l.field],$.isEmptyObject(s.changes)&&delete s.changes,this.trigger($.extend(h,{phase:"after"}))}break}var f=this.getCellHTML(t,n,r);r||(s.changes&&"undefined"!=typeof s.changes[l.field]?$(a).find("[col="+n+"]").addClass("w2ui-changed").html(f):$(a).find("[col="+n+"]").removeClass("w2ui-changed").html(f))},"delete":function(e){var t=this,n=this.trigger({phase:"before",target:this.name,type:"delete",force:e});if(n.isCancelled!==!0){e=n.force;var i=this.getSelection();if(0!=i.length){if(""!=this.msgDelete&&!e)return void w2confirm({title:w2utils.lang("Delete Confirmation"),msg:t.msgDelete,btn_yes:{"class":"btn-red"},callBack:function(e){"Yes"==e&&w2ui[t.name]["delete"](!0)}});var r="object"!=typeof this.url?this.url:this.url.remove;if(r)this.request("delete-records");else if(this.selectNone(),"object"!=typeof i[0])this.remove.apply(this,i);else{for(var o in i){var s=this.columns[i[o].column].field,a=this.get(i[o].recid,!0);null!=a&&"recid"!=s&&(this.records[a][s]="",this.records[a].changes&&delete this.records[a].changes[s])}this.refresh()}this.trigger($.extend(n,{phase:"after"}))}}},click:function(e,t){var n=(new Date).getTime(),i=null;if(!(1==this.last.cancelClick||t&&t.altKey)){if("object"==typeof e&&(i=e.column,e=e.recid),"undefined"==typeof t&&(t={}),n-parseInt(this.last.click_time)<350&&this.last.click_recid==e&&"click"==t.type)return void this.dblClick(e,t);if(this.last.click_time=n,this.last.click_recid=e,null==i&&t.target){var r=t.target;"TD"!=r.tagName&&(r=$(r).parents("td")[0]),"undefined"!=typeof $(r).attr("col")&&(i=parseInt($(r).attr("col")))}var o=this.trigger({phase:"before",target:this.name,type:"click",recid:e,column:i,originalEvent:t});if(o.isCancelled!==!0){var s=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(e)).parents("tr");if(s.length>0&&-1!=String(s.attr("id")).indexOf("expanded_row")){var a=s.parents(".w2ui-grid").attr("name");w2ui[a].selectNone(),s.parents(".w2ui-grid").find(".w2ui-expanded-row .w2ui-grid").each(function(e,t){var n=$(t).attr("name");w2ui[n]&&w2ui[n].selectNone()})}$(this.box).find(".w2ui-expanded-row .w2ui-grid").each(function(e,t){var n=$(t).attr("name");w2ui[n]&&w2ui[n].selectNone()});var l=this,c=this.getSelection();$("#grid_"+this.name+"_check_all").prop("checked",!1);var u=this.get(e,!0),d=(this.records[u],[]);if(l.last.sel_ind=u,l.last.sel_col=i,l.last.sel_recid=e,l.last.sel_type="click",t.shiftKey&&c.length>0&&l.multiSelect){if(c[0].recid){var h=this.get(c[0].recid,!0),f=this.get(e,!0);if(i>c[0].column)var p=c[0].column,m=i;else var p=i,m=c[0].column;for(var g=p;m>=g;g++)d.push(g)}else var h=this.get(c[0],!0),f=this.get(e,!0);var v=[];if(h>f){var r=h;h=f,f=r}for(var y="object"!=typeof this.url?this.url:this.url.get,b=h;f>=b;b++)if(!(this.searchData.length>0)||y||-1!=$.inArray(b,this.last.searchIds))if("row"==this.selectType)v.push(this.records[b].recid);else for(var w in d)v.push({recid:this.records[b].recid,column:d[w]});this.select.apply(this,v)}else{var x=this.last.selection,k=-1!=x.indexes.indexOf(u)?!0:!1;(t.ctrlKey||t.shiftKey||t.metaKey)&&this.multiSelect||this.showSelectColumn?("row"!=this.selectType&&-1==$.inArray(i,x.columns[u])&&(k=!1),k===!0?this.unselect({recid:e,column:i}):this.select({recid:e,column:i})):("row"!=this.selectType&&-1==$.inArray(i,x.columns[u])&&(k=!1),c.length>300?this.selectNone():this.unselect.apply(this,c),k===!0?this.unselect({recid:e,column:i}):this.select({recid:e,column:i}))}this.status(),l.initResize(),this.trigger($.extend(o,{phase:"after"}))}}},columnClick:function(e,t){var n=this.trigger({phase:"before",type:"columnClick",target:this.name,field:e,originalEvent:t});if(n.isCancelled!==!0){var i=this.getColumn(e);i&&i.sortable&&this.sort(e,null,t&&(t.ctrlKey||t.metaKey)?!0:!1),this.trigger($.extend(n,{phase:"after"}))}},keydown:function(e){function t(){$("#_tmp_copy_data").remove(),$(document).off("keyup",t)}function n(){var e=Math.floor((a[0].scrollTop+a.height()/2.1)/r.recordHeight);r.records[e]||(e=0),r.select({recid:r.records[e].recid,column:0})}function i(){if("click"!=r.last.sel_type)return!1;if("row"!=r.selectType){if(r.last.sel_type="key",l.length>1){for(var e in l)if(l[e].recid==r.last.sel_recid&&l[e].column==r.last.sel_col){l.splice(e,1);break}return r.unselect.apply(r,l),!0}return!1}return r.last.sel_type="key",l.length>1?(l.splice(l.indexOf(r.records[r.last.sel_ind].recid),1),r.unselect.apply(r,l),!0):!1}var r=this;if(r.keyboard===!0){var o=r.trigger({phase:"before",type:"keydown",target:r.name,originalEvent:e});if(o.isCancelled!==!0){var s=!1,a=$("#grid_"+r.name+"_records"),l=r.getSelection();0==l.length&&(s=!0);var c=l[0]||null,u=[],d=l[l.length-1];if("object"==typeof c&&null!=c){c=l[0].recid,u=[];for(var h=0;;){if(!l[h]||l[h].recid!=c)break;u.push(l[h].column),h++}d=l[l.length-1].recid}var f=r.get(c,!0),p=r.get(d,!0),m=r.get(c),g=$("#grid_"+r.name+"_rec_"+(null!==f?w2utils.escapeId(r.records[f].recid):"none")),v=!1,y=e.keyCode,b=e.shiftKey;switch(9==y&&(y=e.shiftKey?37:39,b=!1,v=!0),y){case 8:case 46:this.show.toolbarDelete&&r["delete"](),v=!0,e.stopPropagation();break;case 27:r.selectNone(),l.length>0&&"object"==typeof l[0]&&r.select({recid:l[0].recid,column:l[0].column}),v=!0;break;case 65:if(!e.metaKey&&!e.ctrlKey)break;r.selectAll(),v=!0;break;case 70:if(!e.metaKey&&!e.ctrlKey)break;$("#grid_"+r.name+"_search_all").focus(),v=!0;break;case 13:if("row"==this.selectType&&r.show.expandColumn===!0){if(g.length<=0)break;r.toggle(c,e),v=!0}else{for(var w in this.columns)if(this.columns[w].editable){u.push(parseInt(w));break}"row"==this.selectType&&this.last.edit_col&&(u=[this.last.edit_col]),u.length>0&&(r.editField(c,u[0],null,e),v=!0)}break;case 37:if(s)break;var x=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(r.records[f].recid)).parents("tr");if(x.length>0&&-1!=String(x.attr("id")).indexOf("expanded_row")){var c=x.prev().attr("recid"),k=x.parents(".w2ui-grid").attr("name");r.selectNone(),w2utils.keyboard.active(k),w2ui[k].set(c,{expanded:!1}),w2ui[k].collapse(c),w2ui[k].click(c),v=!0;break}if("row"==this.selectType){if(g.length<=0||m.expanded!==!0)break;r.set(c,{expanded:!1},!0),r.collapse(c,e)}else{var _=r.prevCell(u[0]);if(null!=_)if(b&&r.multiSelect){if(i())return;var C=[],S=[],T=[];if(0==u.indexOf(this.last.sel_col)&&u.length>1)for(var j in l)-1==C.indexOf(l[j].recid)&&C.push(l[j].recid),T.push({recid:l[j].recid,column:u[u.length-1]});else for(var j in l)-1==C.indexOf(l[j].recid)&&C.push(l[j].recid),S.push({recid:l[j].recid,column:_});r.unselect.apply(r,T),r.select.apply(r,S)}else e.shiftKey=!1,r.click({recid:c,column:_},e);else if(!b)for(var D=1;D<l.length;D++)r.unselect(l[D])}v=!0;break;case 39:if(s)break;if("row"==this.selectType){if(g.length<=0||m.expanded===!0||r.show.expandColumn!==!0)break;r.expand(c,e)}else{var M=r.nextCell(u[u.length-1]);if(null!==M)if(b&&39==y&&r.multiSelect){if(i())return;var C=[],S=[],T=[];if(u.indexOf(this.last.sel_col)==u.length-1&&u.length>1)for(var j in l)-1==C.indexOf(l[j].recid)&&C.push(l[j].recid),T.push({recid:l[j].recid,column:u[0]});else for(var j in l)-1==C.indexOf(l[j].recid)&&C.push(l[j].recid),S.push({recid:l[j].recid,column:M});r.unselect.apply(r,T),r.select.apply(r,S)}else r.click({recid:c,column:M},e);else if(!b)for(var D=0;D<l.length-1;D++)r.unselect(l[D])}v=!0;break;case 38:if(s&&n(),g.length<=0)break;var _=r.prevRow(f);if(null!=_){if(r.records[_].expanded){var O=$("#grid_"+r.name+"_rec_"+w2utils.escapeId(r.records[_].recid)+"_expanded_row").find(".w2ui-grid");if(O.length>0&&w2ui[O.attr("name")]){r.selectNone();var k=O.attr("name"),L=w2ui[k].records;w2utils.keyboard.active(k),w2ui[k].click(L[L.length-1].recid),v=!0;break}}if(b&&r.multiSelect){if(i())return;if("row"==r.selectType)r.last.sel_ind>_&&r.last.sel_ind!=p?r.unselect(r.records[p].recid):r.select(r.records[_].recid);else if(r.last.sel_ind>_&&r.last.sel_ind!=p){_=p;var C=[];for(var w in u)C.push({recid:r.records[_].recid,column:u[w]});r.unselect.apply(r,C)}else{var C=[];for(var w in u)C.push({recid:r.records[_].recid,column:u[w]});r.select.apply(r,C)}}else l.length>300?this.selectNone():this.unselect.apply(this,l),r.click({recid:r.records[_].recid,column:u[0]},e);r.scrollIntoView(_),e.preventDefault&&e.preventDefault()}else{if(!b)for(var D=1;D<l.length;D++)r.unselect(l[D]);var x=$("#grid_"+r.name+"_rec_"+w2utils.escapeId(r.records[f].recid)).parents("tr");if(x.length>0&&-1!=String(x.attr("id")).indexOf("expanded_row")){var c=x.prev().attr("recid"),k=x.parents(".w2ui-grid").attr("name");r.selectNone(),w2utils.keyboard.active(k),w2ui[k].click(c),v=!0;break}}break;case 40:if(s&&n(),g.length<=0)break;if(r.records[p].expanded){var O=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(r.records[p].recid)+"_expanded_row").find(".w2ui-grid");if(O.length>0&&w2ui[O.attr("name")]){r.selectNone();var k=O.attr("name"),L=w2ui[k].records;w2utils.keyboard.active(k),w2ui[k].click(L[0].recid),v=!0;break}}var M=r.nextRow(p);if(null!=M){if(b&&r.multiSelect){if(i())return;if("row"==r.selectType)this.last.sel_ind<M&&this.last.sel_ind!=f?r.unselect(r.records[f].recid):r.select(r.records[M].recid);else if(this.last.sel_ind<M&&this.last.sel_ind!=f){M=f;var C=[];for(var w in u)C.push({recid:r.records[M].recid,column:u[w]});r.unselect.apply(r,C)}else{var C=[];for(var w in u)C.push({recid:r.records[M].recid,column:u[w]});r.select.apply(r,C)}}else l.length>300?this.selectNone():this.unselect.apply(this,l),r.click({recid:r.records[M].recid,column:u[0]},e);r.scrollIntoView(M),v=!0}else{if(!b)for(var D=0;D<l.length-1;D++)r.unselect(l[D]);var x=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(r.records[p].recid)).parents("tr");if(x.length>0&&-1!=String(x.attr("id")).indexOf("expanded_row")){var c=x.next().attr("recid"),k=x.parents(".w2ui-grid").attr("name");r.selectNone(),w2utils.keyboard.active(k),w2ui[k].click(c),v=!0;break}}break;case 17:case 91:if(s)break;var E=r.copy();$("body").append('<textarea id="_tmp_copy_data"    onpaste="var obj = this; setTimeout(function () { w2ui[\''+r.name+"'].paste(obj.value); }, 1);\"    onkeydown=\"w2ui['"+r.name+'\'].keydown(event)"   style="position: absolute; top: -100px; height: 1px; width: 1px">'+E+"</textarea>"),$("#_tmp_copy_data").focus().select(),$(document).on("keyup",t);break;case 88:if(s)break;(e.ctrlKey||e.metaKey)&&setTimeout(function(){r["delete"](!0)},100)}for(var C=[187,189,32],j=48;90>=j;j++)C.push(j);if(-1!=C.indexOf(y)&&!e.ctrlKey&&!e.metaKey&&!v){0==u.length&&u.push(0);var C=String.fromCharCode(y);187==y&&(C="="),189==y&&(C="-"),b||(C=C.toLowerCase()),r.editField(c,u[0],C,e),v=!0}v&&e.preventDefault&&e.preventDefault(),r.trigger($.extend(o,{phase:"after"}))}}},scrollIntoView:function(e){var t=this.records.length;if(0==this.searchData.length||this.url||(t=this.last.searchIds.length),"undefined"==typeof e){var n=this.getSelection();if(0==n.length)return;e=this.get(n[0],!0)}var i=$("#grid_"+this.name+"_records");if(0!=t){var r=this.last.searchIds.length;if(!(i.height()>this.recordHeight*(r>0?r:t))){r>0&&(e=this.last.searchIds.indexOf(e));var o=Math.floor(i[0].scrollTop/this.recordHeight),s=o+Math.floor(i.height()/this.recordHeight);e==o&&i.animate({scrollTop:i.scrollTop()-i.height()/1.3},250,"linear"),e==s&&i.animate({scrollTop:i.scrollTop()+i.height()/1.3},250,"linear"),(o>e||e>s)&&i.animate({scrollTop:(e-1)*this.recordHeight})}}},dblClick:function(e,t){var n=null;if("object"==typeof e&&(n=e.column,e=e.recid),"undefined"==typeof t&&(t={}),null==n&&t.target){var i=t.target;"TD"!=i.tagName&&(i=$(i).parents("td")[0]),n=parseInt($(i).attr("col"))}var r=this.trigger({phase:"before",target:this.name,type:"dblClick",recid:e,column:n,originalEvent:t});if(r.isCancelled!==!0){this.selectNone();var o=this.columns[n];o&&$.isPlainObject(o.editable)?this.editField(e,n,null,t):this.select({recid:e,column:n}),this.trigger($.extend(r,{phase:"after"}))}},contextMenu:function(e,t){var n=this;"text"!=n.last.userSelect&&("undefined"==typeof t&&(t={offsetX:0,offsetY:0,target:$("#grid_"+n.name+"_rec_"+e)[0]}),"undefined"==typeof t.offsetX&&(t.offsetX=t.layerX-t.target.offsetLeft,t.offsetY=t.layerY-t.target.offsetTop),w2utils.isFloat(e)&&(e=parseFloat(e)),-1==this.getSelection().indexOf(e)&&n.click(e),setTimeout(function(){var i=n.trigger({phase:"before",type:"contextMenu",target:n.name,originalEvent:t,recid:e});i.isCancelled!==!0&&(n.menu.length>0&&$(n.box).find(t.target).w2menu(n.menu,{left:t.offsetX,onSelect:function(t){n.menuClick(e,parseInt(t.index),t.originalEvent)}}),n.trigger($.extend(i,{phase:"after"})))},150),t.preventDefault&&t.preventDefault())},menuClick:function(e,t,n){var i=this,r=i.trigger({phase:"before",type:"menuClick",target:i.name,originalEvent:n,recid:e,menuIndex:t,menuItem:i.menu[t]});r.isCancelled!==!0&&i.trigger($.extend(r,{phase:"after"}))},toggle:function(e){var t=this.get(e);return t.expanded===!0?this.collapse(e):this.expand(e)},expand:function(e){function t(){var t=$("#grid_"+i.name+"_rec_"+r+"_expanded"),n=$("#grid_"+i.name+"_rec_"+r+"_expanded_row .w2ui-expanded1 > div");t.height()<5||(t.css("opacity",1),n.show().css("opacity",1),$("#grid_"+i.name+"_cell_"+i.get(e,!0)+"_expand div").html("-"))}var n=this.get(e),i=this,r=w2utils.escapeId(e);if($("#grid_"+this.name+"_rec_"+r+"_expanded_row").length>0)return!1;if("none"==n.expanded)return!1;var o=1+(this.show.selectColumn?1:0),s="";$("#grid_"+this.name+"_rec_"+r).after('<tr id="grid_'+this.name+"_rec_"+e+'_expanded_row" class="w2ui-expanded-row '+s+'">'+(this.show.lineNumbers?'<td class="w2ui-col-number"></td>':"")+'    <td class="w2ui-grid-data w2ui-expanded1" colspan="'+o+'"><div style="display: none"></div></td>    <td colspan="100" class="w2ui-expanded2">        <div id="grid_'+this.name+"_rec_"+e+'_expanded" style="opacity: 0"></div>    </td></tr>');var a=this.trigger({phase:"before",type:"expand",target:this.name,recid:e,box_id:"grid_"+this.name+"_rec_"+e+"_expanded",ready:t});return a.isCancelled===!0?void $("#grid_"+this.name+"_rec_"+r+"_expanded_row").remove():($("#grid_"+this.name+"_rec_"+r).attr("expanded","yes").addClass("w2ui-expanded"),$("#grid_"+this.name+"_rec_"+r+"_expanded_row").show(),$("#grid_"+this.name+"_cell_"+this.get(e,!0)+"_expand div").html('<div class="w2ui-spinner" style="width: 16px; height: 16px; margin: -2px 2px;"></div>'),n.expanded=!0,setTimeout(t,300),this.trigger($.extend(a,{phase:"after"})),this.resizeRecords(),!0)},collapse:function(e){var t=this.get(e),n=this,i=w2utils.escapeId(e);if(0==$("#grid_"+this.name+"_rec_"+i+"_expanded_row").length)return!1;var r=this.trigger({phase:"before",type:"collapse",target:this.name,recid:e,box_id:"grid_"+this.name+"_rec_"+i+"_expanded"});return r.isCancelled!==!0?($("#grid_"+this.name+"_rec_"+i).removeAttr("expanded").removeClass("w2ui-expanded"),$("#grid_"+this.name+"_rec_"+i+"_expanded").css("opacity",0),$("#grid_"+this.name+"_cell_"+this.get(e,!0)+"_expand div").html("+"),setTimeout(function(){$("#grid_"+n.name+"_rec_"+i+"_expanded").height("0px"),setTimeout(function(){$("#grid_"+n.name+"_rec_"+i+"_expanded_row").remove(),delete t.expanded,n.trigger($.extend(r,{phase:"after"})),n.resizeRecords()},300)},200),!0):void 0},sort:function(e,t,n){var i=this.trigger({phase:"before",type:"sort",target:this.name,field:e,direction:t,multiField:n});if(i.isCancelled!==!0){if("undefined"!=typeof e){var r=this.sortData.length;for(var o in this.sortData)if(this.sortData[o].field==e){r=o;break}if("undefined"==typeof t||null==t)if("undefined"==typeof this.sortData[r])t="asc";else switch(String(this.sortData[r].direction)){case"asc":t="desc";break;case"desc":t="asc";break;default:t="asc"}this.multiSort===!1&&(this.sortData=[],r=0),1!=n&&(this.sortData=[],r=0),"undefined"==typeof this.sortData[r]&&(this.sortData[r]={}),this.sortData[r].field=e,this.sortData[r].direction=t}else this.sortData=[];this.selectNone();var s="object"!=typeof this.url?this.url:this.url.get;s?(this.trigger($.extend(i,{phase:"after"})),this.last.xhr_offset=0,this.reload()):(this.localSort(),this.searchData.length>0&&this.localSearch(!0),this.trigger($.extend(i,{phase:"after"})),this.refresh())}},copy:function(){var e=this.getSelection();if(0==e.length)return"";var t="";if("object"==typeof e[0]){var n=e[0].column,i=e[0].column,r=[];for(var o in e)e[o].column<n&&(n=e[o].column),e[o].column>i&&(i=e[o].column),-1==r.indexOf(e[o].index)&&r.push(e[o].index);r.sort();for(var s in r){for(var a=r[s],l=n;i>=l;l++){var c=this.columns[l];c.hidden!==!0&&(t+=w2utils.stripTags(this.getCellHTML(a,l))+"	")}t=t.substr(0,t.length-1),t+="\n"}}else{for(var l in this.columns){var c=this.columns[l];c.hidden!==!0&&(t+='"'+w2utils.stripTags(c.caption?c.caption:c.field)+'"	')}t=t.substr(0,t.length-1),t+="\n";for(var o in e){var a=this.get(e[o],!0);for(var l in this.columns){var c=this.columns[l];c.hidden!==!0&&(t+='"'+w2utils.stripTags(this.getCellHTML(a,l))+'"	')}t=t.substr(0,t.length-1),t+="\n"}}t=t.substr(0,t.length-1);var u=this.trigger({phase:"before",type:"copy",target:this.name,text:t});return u.isCancelled===!0?"":(t=u.text,this.trigger($.extend(u,{phase:"after"})),t)},paste:function(e){var t=this.getSelection(),n=this.get(t[0].recid,!0),i=t[0].column,r=this.trigger({phase:"before",type:"paste",target:this.name,text:e,index:n,column:i});if(r.isCancelled!==!0){if(e=r.text,"row"==this.selectType||0==t.length)return console.log("ERROR: You can paste only if grid.selectType = 'cell' and when at least one cell selected."),void this.trigger($.extend(r,{phase:"after"}));var o=[],e=e.split("\n");for(var s in e){var a=e[s].split("	"),l=0,c=this.records[n],u=[];for(var d in a)if(this.columns[i+l]){var h=this.columns[i+l].field;c.changes=c.changes||{},c.changes[h]=a[d],u.push(i+l),l++}for(var f in u)o.push({recid:c.recid,column:u[f]});n++}this.selectNone(),this.select.apply(this,o),this.refresh(),this.trigger($.extend(r,{phase:"after"}))}},resize:function(){var e=this,t=(new Date).getTime();if(this.box&&$(this.box).attr("name")==this.name){$(this.box).find("> div").css("width",$(this.box).width()).css("height",$(this.box).height());var n=this.trigger({phase:"before",type:"resize",target:this.name});if(n.isCancelled!==!0)return e.resizeBoxes(),e.resizeRecords(),this.trigger($.extend(n,{phase:"after"})),(new Date).getTime()-t}},refreshCell:function(e,t){var n=this.get(e,!0),i=this.records[n]&&this.records[n].recid==e?!1:!0,r=this.getColumn(t,!0),o=i?this.summary[n]:this.records[n],s=this.columns[r],a=$("#grid_"+this.name+"_rec_"+e+" [col="+r+"]");a.html(this.getCellHTML(n,r,i)),o.changes&&"undefined"!=typeof o.changes[s.field]?a.addClass("w2ui-changed"):a.removeClass("w2ui-changed")},refreshRow:function(e){var t=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(e));if(0!=t.length){var n=this.get(e,!0),i=t.attr("line"),r=this.records[n]&&this.records[n].recid==e?!1:!0,o="object"!=typeof this.url?this.url:this.url.get;if(this.searchData.length>0&&!o)for(var s in this.last.searchIds)this.last.searchIds[s]==n&&(n=s);$(t).replaceWith(this.getRecordHTML(n,i,r)),r&&this.resize()}},refresh:function(){var e=this,t=(new Date).getTime(),n="object"!=typeof this.url?this.url:this.url.get;if(this.total<=0&&!n&&0==this.searchData.length&&(this.total=this.records.length),this.toolbar.disable("w2ui-edit","w2ui-delete"),this.box){var i=this.trigger({phase:"before",target:this.name,type:"refresh"});if(i.isCancelled!==!0){if(this.show.header?$("#grid_"+this.name+"_header").html(this.header+"&nbsp;").show():$("#grid_"+this.name+"_header").hide(),this.show.toolbar){if(this.toolbar&&this.toolbar.get("w2ui-column-on-off")&&this.toolbar.get("w2ui-column-on-off").checked);else if($("#grid_"+this.name+"_toolbar").show(),"object"==typeof this.toolbar){var r=this.toolbar.items;for(var o in r)"w2ui-search"!=r[o].id&&"break"!=r[o].type&&this.toolbar.refresh(r[o].id)}}else $("#grid_"+this.name+"_toolbar").hide();this.searchClose();var s=$("#grid_"+e.name+"_search_all");!this.multiSearch&&"all"==this.last.field&&this.searches.length>0&&(this.last.field=this.searches[0].field,this.last.caption=this.searches[0].caption);for(var a in this.searches)this.searches[a].field==this.last.field&&(this.last.caption=this.searches[a].caption);if(this.last.multi?s.attr("placeholder","["+w2utils.lang("Multiple Fields")+"]"):s.attr("placeholder",this.last.caption),s.val()!=this.last.search){var l=this.last.search,r=s.data("w2field");r&&(l=r.format(l)),s.val(l)}var r=this.find({summary:!0},!0);if(r.length>0){for(var o in r)this.summary.push(this.records[r[o]]);for(var o=r.length-1;o>=0;o--)this.records.splice(r[o],1);this.total=this.total-r.length}var c=e.find({expanded:!0},!0);for(var u in c)e.records[c[u]].expanded=!1;var d="";d+='<div id="grid_'+this.name+'_records" class="w2ui-grid-records"    onscroll="var obj = w2ui[\''+this.name+"'];         obj.last.scrollTop = this.scrollTop;         obj.last.scrollLeft = this.scrollLeft;         $('#grid_"+this.name+"_columns')[0].scrollLeft = this.scrollLeft;        $('#grid_"+this.name+"_summary')[0].scrollLeft = this.scrollLeft;        obj.scroll(event);\">"+this.getRecordsHTML()+'</div><div id="grid_'+this.name+'_columns" class="w2ui-grid-columns">    <table>'+this.getColumnsHTML()+"</table></div>",$("#grid_"+this.name+"_body").html(d),this.summary.length>0?$("#grid_"+this.name+"_summary").html(this.getSummaryHTML()).show():$("#grid_"+this.name+"_summary").hide(),this.show.footer?$("#grid_"+this.name+"_footer").html(this.getFooterHTML()).show():$("#grid_"+this.name+"_footer").hide(),this.searchData.length>0?$("#grid_"+this.name+"_searchClear").show():$("#grid_"+this.name+"_searchClear").hide();var h=this.last.selection;return h.indexes.length==this.records.length||0!==this.searchData.length&&h.indexes.length==this.last.searchIds.length?$("#grid_"+this.name+"_check_all").prop("checked",!0):$("#grid_"+this.name+"_check_all").prop("checked",!1),this.status(),setTimeout(function(){var t=$.trim($("#grid_"+e.name+"_search_all").val());""!=t&&$(e.box).find(".w2ui-grid-data > div").w2marker(t)},50),this.trigger($.extend(i,{phase:"after"})),e.resize(),e.addRange("selection"),setTimeout(function(){e.resize(),e.scroll()},1),e.reorderColumns&&!e.last.columnDrag?e.last.columnDrag=e.initColumnDrag():!e.reorderColumns&&e.last.columnDrag&&e.last.columnDrag.remove(),(new Date).getTime()-t}}},render:function(e){function t(e){if(1==e.which&&("text"==r.last.userSelect&&(delete r.last.userSelect,$(r.box).find(".w2ui-grid-body").css("user-select","none").css("-webkit-user-select","none").css("-moz-user-select","none").css("-ms-user-select","none"),$(this.box).on("selectstart",function(){return!1})),!($(e.target).parents().hasClass("w2ui-head")||$(e.target).hasClass("w2ui-head")||r.last.move&&"expand"==r.last.move.type))){if(e.altKey)$(r.box).off("selectstart"),$(r.box).find(".w2ui-grid-body").css("user-select","text").css("-webkit-user-select","text").css("-moz-user-select","text").css("-ms-user-select","text"),r.selectNone(),r.last.move={type:"text-select"},r.last.userSelect="text";else{if(!r.multiSelect)return;r.last.move={x:e.screenX,y:e.screenY,divX:0,divY:0,recid:$(e.target).parents("tr").attr("recid"),column:"TD"==e.target.tagName?$(e.target).attr("col"):$(e.target).parents("td").attr("col"),type:"select",ghost:!1,start:!0}}$(document).on("mousemove",n),$(document).on("mouseup",i)}}function n(e){var t=r.last.move;if(t&&"select"==t.type&&(t.divX=e.screenX-t.x,t.divY=e.screenY-t.y,!(Math.abs(t.divX)<=1&&Math.abs(t.divY)<=1))){if(r.last.cancelClick=!0,1==r.reorderRows){if(!t.ghost){var n=$("#grid_"+r.name+"_rec_"+t.recid),i=n.parents("table").find("tr:first-child").clone();t.offsetY=e.offsetY,t.from=t.recid,t.pos=n.position(),t.ghost=$(n).clone(!0),t.ghost.removeAttr("id"),n.find("td:first-child").replaceWith('<td colspan="1000" style="height: '+r.recordHeight+'px; background-color: #ddd"></td>');var o=$(r.box).find(".w2ui-grid-records");o.append('<table id="grid_'+r.name+'_ghost" style="position: absolute; z-index: 999999; opacity: 0.8; border-bottom: 2px dashed #aaa; border-top: 2px dashed #aaa; pointer-events: none;"></table>'),$("#grid_"+r.name+"_ghost").append(i).append(t.ghost)}var s=$(e.target).parents("tr").attr("recid");if(s!=t.from){var a=$("#grid_"+r.name+"_rec_"+t.recid),l=$("#grid_"+r.name+"_rec_"+s);e.screenY-t.lastY<0?a.after(l):l.after(a),t.lastY=e.screenY,t.to=s}var c=$("#grid_"+r.name+"_ghost"),o=$(r.box).find(".w2ui-grid-records");return void c.css({top:t.pos.top+t.divY+o.scrollTop(),left:t.pos.left})}t.start&&t.recid&&(r.selectNone(),t.start=!1);var u=[],s="TR"==e.target.tagName?$(e.target).attr("recid"):$(e.target).parents("tr").attr("recid");if("undefined"!=typeof s){var d=r.get(t.recid,!0);if(null!==d){var h=r.get(s,!0);if(null!==h){var f=parseInt(t.column),p=parseInt("TD"==e.target.tagName?$(e.target).attr("col"):$(e.target).parents("td").attr("col"));if(d>h){var i=d;d=h,h=i}var i="ind1:"+d+",ind2;"+h+",col1:"+f+",col2:"+p;if(t.range!=i){t.range=i;for(var m=d;h>=m;m++)if(!(r.last.searchIds.length>0&&-1==r.last.searchIds.indexOf(m)))if("row"!=r.selectType){if(f>p){var i=f;f=p,p=i}for(var i=[],g=f;p>=g;g++)r.columns[g].hidden||u.push({recid:r.records[m].recid,column:parseInt(g)})}else u.push(r.records[m].recid);
if("row"!=r.selectType){var v=r.getSelection(),i=[];for(var y in u){var b=!1;for(var w in v)u[y].recid==v[w].recid&&u[y].column==v[w].column&&(b=!0);b||i.push({recid:u[y].recid,column:u[y].column})}r.select.apply(r,i);var i=[];for(var w in v){var b=!1;for(var y in u)u[y].recid==v[w].recid&&u[y].column==v[w].column&&(b=!0);b||i.push({recid:v[w].recid,column:v[w].column})}r.unselect.apply(r,i)}else if(r.multiSelect){var v=r.getSelection();for(var y in u)-1==v.indexOf(u[y])&&r.select(u[y]);for(var w in v)-1==u.indexOf(v[w])&&r.unselect(v[w])}}}}}}}function i(e){var t=r.last.move;if(setTimeout(function(){delete r.last.cancelClick},1),!$(e.target).parents().hasClass(".w2ui-head")&&!$(e.target).hasClass(".w2ui-head")){if(t&&"select"==t.type&&1==r.reorderRows){var o=r.get(t.from,!0),s=r.records[o];r.records.splice(o,1);var a=r.get(t.to,!0);o>a?r.records.splice(a,0,s):r.records.splice(a+1,0,s),$("#grid_"+r.name+"_ghost").remove(),r.refresh()}delete r.last.move,$(document).off("mousemove",n),$(document).off("mouseup",i)}}var r=this,o=(new Date).getTime();if("undefined"!=typeof e&&null!=e&&($(this.box).find("#grid_"+this.name+"_body").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-grid").html(""),this.box=e),this.box){null==this.last.sortData&&(this.last.sortData=this.sortData);var s=this.trigger({phase:"before",target:this.name,type:"render",box:e});if(s.isCancelled!==!0){if($(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-grid").html('<div>    <div id="grid_'+this.name+'_header" class="w2ui-grid-header"></div>    <div id="grid_'+this.name+'_toolbar" class="w2ui-grid-toolbar"></div>    <div id="grid_'+this.name+'_body" class="w2ui-grid-body"></div>    <div id="grid_'+this.name+'_summary" class="w2ui-grid-body w2ui-grid-summary"></div>    <div id="grid_'+this.name+'_footer" class="w2ui-grid-footer"></div></div>'),"row"!=this.selectType&&$(this.box).addClass("w2ui-ss"),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.initToolbar(),null!=this.toolbar&&this.toolbar.render($("#grid_"+this.name+"_toolbar")[0]),this.last.field&&"all"!=this.last.field){var a=this.searchData;this.initAllField(this.last.field,1==a.length?a[0].value:null)}return $("#grid_"+this.name+"_footer").html(this.getFooterHTML()),this.last.state||(this.last.state=this.stateSave(!0)),this.stateRestore(),this.url&&this.refresh(),this.reload(),$(this.box).on("mousedown",t),$(this.box).on("selectstart",function(){return!1}),this.trigger($.extend(s,{phase:"after"})),0==$(".w2ui-layout").length&&(this.tmp_resize=function(e){w2ui[r.name].resize()},$(window).off("resize",this.tmp_resize).on("resize",this.tmp_resize)),(new Date).getTime()-o}}},destroy:function(){var e=this.trigger({phase:"before",target:this.name,type:"destroy"});e.isCancelled!==!0&&($(window).off("resize",this.tmp_resize),"object"==typeof this.toolbar&&this.toolbar.destroy&&this.toolbar.destroy(),$(this.box).find("#grid_"+this.name+"_body").length>0&&$(this.box).removeAttr("name").off("selectstart").removeClass("w2ui-reset w2ui-grid").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})))},initColumnOnOff:function(){if(this.show.toolbarColumns){var e=this,t='<div class="w2ui-col-on-off"><table><tr><td style="width: 30px">    <input id="grid_'+this.name+'_column_ln_check" type="checkbox" tabIndex="-1" '+(e.show.lineNumbers?"checked":"")+"        onclick=\"w2ui['"+e.name+"'].columnOnOff(this, event, 'line-numbers');\"></td><td onclick=\"w2ui['"+e.name+"'].columnOnOff(this, event, 'line-numbers'); $('#w2ui-overlay')[0].hide();\">    <label for=\"grid_"+this.name+'_column_ln_check">'+w2utils.lang("Line #")+"</label></td></tr>";for(var n in this.columns){var i=this.columns[n],r=this.columns[n].caption;i.hideable!==!1&&(!r&&this.columns[n].hint&&(r=this.columns[n].hint),r||(r="- column "+(parseInt(n)+1)+" -"),t+='<tr><td style="width: 30px">    <input id="grid_'+this.name+"_column_"+n+'_check" type="checkbox" tabIndex="-1" '+(i.hidden?"":"checked")+"        onclick=\"w2ui['"+e.name+"'].columnOnOff(this, event, '"+i.field+'\');"></td><td>    <label for="grid_'+this.name+"_column_"+n+'_check">'+r+"</label></td></tr>")}t+='<tr><td colspan="2"><div style="border-top: 1px solid #ddd;"></div></td></tr>';var o="object"!=typeof this.url?this.url:this.url.get;o&&e.show.skipRecords&&(t+='<tr><td colspan="2" style="padding: 0px">    <div style="cursor: pointer; padding: 2px 8px; cursor: default">'+w2utils.lang("Skip")+'        <input type="text" style="width: 45px" value="'+this.offset+'"             onkeypress="if (event.keyCode == 13) {                w2ui[\''+e.name+"'].skip(this.value);                $('#w2ui-overlay')[0].hide();             }\"> "+w2utils.lang("Records")+"    </div></td></tr>"),t+='<tr><td colspan="2" onclick="w2ui[\''+e.name+"'].stateSave(); $('#w2ui-overlay')[0].hide();\">    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">"+w2utils.lang("Save Grid State")+'</div></td></tr><tr><td colspan="2" onclick="w2ui[\''+e.name+"'].stateReset(); $('#w2ui-overlay')[0].hide();\">    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">"+w2utils.lang("Restore Default State")+"</div></td></tr>",t+="</table></div>",this.toolbar.get("w2ui-column-on-off").html=t}},initColumnDrag:function(e){function t(){c.pressed=!1,clearTimeout(c.timeout)}function n(e){c.timeout&&clearTimeout(c.timeout);var t=this;c.pressed=!0,c.timeout=setTimeout(function(){if(c.pressed){var n,o,s,a,u,d=["w2ui-col-number","w2ui-col-expand","w2ui-col-select"],h=["w2ui-head-last"],f=d.concat(h),p=".w2ui-col-number, .w2ui-col-expand, .w2ui-col-select",m=".w2ui-head.w2ui-col-number, .w2ui-head.w2ui-col-expand, .w2ui-head.w2ui-col-select";if($(e.originalEvent.target).parents().hasClass("w2ui-head")){for(var g=0,v=f.length;v>g;g++)if($(e.originalEvent.target).parents().hasClass(f[g]))return;if(c.numberPreColumnsPresent=$(l.box).find(m).length,c.columnHead=a=$(e.originalEvent.target).parents(".w2ui-head"),u=parseInt(a.attr("col"),10),n=l.trigger({type:"columnDragStart",phase:"before",originalEvent:e,origColumnNumber:u,target:a[0]}),n.isCancelled===!0)return!1;o=c.columns=$(l.box).find(".w2ui-head:not(.w2ui-head-last)"),$(document).on("mouseup",r),$(document).on("mousemove",i),c.originalPos=parseInt($(e.originalEvent.target).parent(".w2ui-head").attr("col"),10),c.ghost=$(t).clone(!0),$(c.ghost).find('[col]:not([col="'+c.originalPos+'"]), .w2ui-toolbar, .w2ui-grid-header').remove(),$(c.ghost).find(p).remove(),$(c.ghost).find(".w2ui-grid-body").css({top:0}),s=$(c.ghost).find('[col="'+c.originalPos+'"]'),$(document.body).append(c.ghost),$(c.ghost).css({width:0,height:0,margin:0,position:"fixed",zIndex:999999,opacity:0}).addClass(".w2ui-grid-ghost").animate({width:s.width(),height:$(l.box).find(".w2ui-grid-body:first").height(),left:e.pageX,top:e.pageY,opacity:.8},0),c.offsets=[];for(var g=0,v=o.length;v>g;g++)c.offsets.push($(o[g]).offset().left);l.trigger($.extend(n,{phase:"after"}))}}},150)}function i(e){if(c.pressed){var t=e.originalEvent.pageX,n=e.originalEvent.pageY,i=c.offsets,r=$(".w2ui-head:not(.w2ui-head-last)").width();c.targetInt=Math.max(c.numberPreColumnsPresent,s(t,i,r)),o(c.targetInt),a(t,n)}}function r(e){c.pressed=!1;var t,n,o,s,a,u=$(".w2ui-grid-ghost");return t=l.trigger({type:"columnDragEnd",phase:"before",originalEvent:e,target:c.columnHead[0]}),t.isCancelled===!0?!1:(o=l.columns[c.originalPos],s=l.columns,a=$(c.columns[Math.min(c.lastInt,c.columns.length-1)]),n=c.lastInt<c.columns.length?parseInt(a.attr("col")):s.length,n!==c.originalPos+1&&n!==c.originalPos&&a&&a.length?($(c.ghost).animate({top:$(l.box).offset().top,left:a.offset().left,width:0,height:0,opacity:.2},300,function(){$(this).remove(),u.remove()}),s.splice(n,0,$.extend({},o)),s.splice(s.indexOf(o),1)):($(c.ghost).remove(),u.remove()),$(document).off("mouseup",r),$(document).off("mousemove",i),c.marker&&c.marker.remove(),c={},l.refresh(),void l.trigger($.extend(t,{phase:"after",targetColumnNumber:n-1})))}function o(e){c.marker||c.markerLeft||(c.marker=$('<div class="col-intersection-marker"><div class="top-marker"></div><div class="bottom-marker"></div></div>'),c.markerLeft=$('<div class="col-intersection-marker"><div class="top-marker"></div><div class="bottom-marker"></div></div>')),c.lastInt&&c.lastInt===e||(c.lastInt=e,c.marker.remove(),c.markerLeft.remove(),$(".w2ui-head").removeClass("w2ui-col-intersection"),e>=c.columns.length?($(c.columns[c.columns.length-1]).children("div:last").append(c.marker.addClass("right").removeClass("left")),$(c.columns[c.columns.length-1]).addClass("w2ui-col-intersection")):e<=c.numberPreColumnsPresent?($(c.columns[c.numberPreColumnsPresent]).prepend(c.marker.addClass("left").removeClass("right")).css({position:"relative"}),$(c.columns[c.numberPreColumnsPresent]).prev().addClass("w2ui-col-intersection")):($(c.columns[e]).children("div:last").prepend(c.marker.addClass("left").removeClass("right")),$(c.columns[e]).prev().children("div:last").append(c.markerLeft.addClass("right").removeClass("left")).css({position:"relative"}),$(c.columns[e-1]).addClass("w2ui-col-intersection")))}function s(e,t,n){if(e<=t[0])return 0;if(e>=t[t.length-1]+n)return t.length;for(var i=0,r=t.length;r>i;i++){var o=t[i],s=t[i+1]||t[i]+n,a=(s-t[i])/2+t[i];if(e>o&&a>=e)return i;if(e>a&&s>=e)return i+1}return intersection}function a(e,t){$(c.ghost).css({left:e-10,top:t-10})}if(this.columnGroups&&this.columnGroups.length)throw"Draggable columns are not currently supported with column groups.";var l=this,c={};return c.lastInt=null,c.pressed=!1,c.timeout=null,c.columnHead=null,$(l.box).on("mousedown",n),$(l.box).on("mouseup",t),{remove:function(){$(l.box).off("mousedown",n),$(l.box).off("mouseup",t),$(l.box).find(".w2ui-head").removeAttr("draggable"),l.last.columnDrag=!1}}},columnOnOff:function(e,t,n){var i=this.trigger({phase:"before",target:this.name,type:"columnOnOff",checkbox:e,field:n,originalEvent:t});if(i.isCancelled!==!0){var r=this;for(var o in this.records)this.records[o].expanded===!0&&(this.records[o].expanded=!1);var s=!0;if("line-numbers"==n)this.show.lineNumbers=!this.show.lineNumbers,this.refresh();else{var a=this.getColumn(n);a.hidden?($(e).prop("checked",!0),this.showColumn(a.field)):($(e).prop("checked",!1),this.hideColumn(a.field)),s=!1}s&&setTimeout(function(){$().w2overlay("",{name:"searches-"+this.name}),r.toolbar.uncheck("column-on-off")},100),this.trigger($.extend(i,{phase:"after"}))}},initToolbar:function(){if("undefined"==typeof this.toolbar.render){var e=this.toolbar.items;if(this.toolbar.items=[],this.toolbar=$().w2toolbar($.extend(!0,{},this.toolbar,{name:this.name+"_toolbar",owner:this})),this.show.toolbarReload&&this.toolbar.items.push($.extend(!0,{},this.buttons.reload)),this.show.toolbarColumns&&this.toolbar.items.push($.extend(!0,{},this.buttons.columns)),(this.show.toolbarReload||this.show.toolbarColumn)&&this.toolbar.items.push({type:"break",id:"w2ui-break0"}),this.show.toolbarSearch){var t='<div class="w2ui-toolbar-search"><table cellpadding="0" cellspacing="0"><tr>    <td>'+this.buttons.search.html+'</td>    <td>        <input id="grid_'+this.name+'_search_all" class="w2ui-search-all"             placeholder="'+this.last.caption+'" value="'+this.last.search+"\"            onkeydown=\"if (event.keyCode == 13 && w2utils.isIE) this.onchange();\"            onchange=\"                var val = this.value;                 var fld = $(this).data('w2field');                 var dat = $(this).data('selected');                 if (fld) val = fld.clean(val);                if (dat != null && $.isPlainObject(dat)) val = dat.id;                w2ui['"+this.name+"'].search(w2ui['"+this.name+'\'].last.field, val);             ">    </td>    <td>        <div title="'+w2utils.lang("Clear Search")+'" class="w2ui-search-clear" id="grid_'+this.name+'_searchClear"               onclick="var obj = w2ui[\''+this.name+"']; obj.searchReset();\"         >&nbsp;&nbsp;</div>    </td></tr></table></div>";this.toolbar.items.push({type:"html",id:"w2ui-search",html:t}),this.multiSearch&&this.searches.length>0&&this.toolbar.items.push($.extend(!0,{},this.buttons["search-go"]))}this.show.toolbarSearch&&(this.show.toolbarAdd||this.show.toolbarEdit||this.show.toolbarDelete||this.show.toolbarSave)&&this.toolbar.items.push({type:"break",id:"w2ui-break1"}),this.show.toolbarAdd&&this.toolbar.items.push($.extend(!0,{},this.buttons.add)),this.show.toolbarEdit&&this.toolbar.items.push($.extend(!0,{},this.buttons.edit)),this.show.toolbarDelete&&this.toolbar.items.push($.extend(!0,{},this.buttons["delete"])),this.show.toolbarSave&&((this.show.toolbarAdd||this.show.toolbarDelete||this.show.toolbarEdit)&&this.toolbar.items.push({type:"break",id:"w2ui-break2"}),this.toolbar.items.push($.extend(!0,{},this.buttons.save)));for(var n in e)this.toolbar.items.push(e[n]);var i=this;this.toolbar.on("click",function(e){function t(){$("#w2ui-overlay-searches-"+i.name).data("keepOpen")!==!0&&(s.uncheck(r),$(document).off("click","body",t))}var n=i.trigger({phase:"before",type:"toolbar",target:e.target,originalEvent:e});if(n.isCancelled!==!0){var r=e.target;switch(r){case"w2ui-reload":var o=i.trigger({phase:"before",type:"reload",target:i.name});if(o.isCancelled===!0)return!1;i.reload(),i.trigger($.extend(o,{phase:"after"}));break;case"w2ui-column-on-off":i.initColumnOnOff(),i.initResize(),i.resize();break;case"w2ui-search-advanced":var s=this,a=this.get(r);a.checked?(i.searchClose(),setTimeout(function(){s.uncheck(r)},1)):(i.searchOpen(),e.originalEvent.stopPropagation(),$(document).on("click","body",t));break;case"w2ui-add":var n=i.trigger({phase:"before",target:i.name,type:"add",recid:null});i.trigger($.extend(n,{phase:"after"}));break;case"w2ui-edit":var l=i.getSelection(),c=null;1==l.length&&(c=l[0]);var n=i.trigger({phase:"before",target:i.name,type:"edit",recid:c});i.trigger($.extend(n,{phase:"after"}));break;case"w2ui-delete":i["delete"]();break;case"w2ui-save":i.save()}i.trigger($.extend(n,{phase:"after"}))}})}},initResize:function(){var e=this;$(this.box).find(".w2ui-resizer").off("click").on("click",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault&&e.preventDefault()}).off("mousedown").on("mousedown",function(t){t||(t=window.event),window.addEventListener||window.document.attachEvent("onselectstart",function(){return!1}),e.resizing=!0,e.last.tmp={x:t.screenX,y:t.screenY,gx:t.screenX,gy:t.screenY,col:parseInt($(this).attr("name"))},t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault&&t.preventDefault();for(var n in e.columns)e.columns[n].hidden||("undefined"==typeof e.columns[n].sizeOriginal&&(e.columns[n].sizeOriginal=e.columns[n].size),e.columns[n].size=e.columns[n].sizeCalculated);var i={phase:"before",type:"columnResize",target:e.name,column:e.last.tmp.col,field:e.columns[e.last.tmp.col].field};i=e.trigger($.extend(i,{resizeBy:0,originalEvent:t}));var r=function(t){if(1==e.resizing){if(t||(t=window.event),i=e.trigger($.extend(i,{resizeBy:t.screenX-e.last.tmp.gx,originalEvent:t})),i.isCancelled===!0)return void(i.isCancelled=!1);e.last.tmp.x=t.screenX-e.last.tmp.x,e.last.tmp.y=t.screenY-e.last.tmp.y,e.columns[e.last.tmp.col].size=parseInt(e.columns[e.last.tmp.col].size)+e.last.tmp.x+"px",e.resizeRecords(),e.last.tmp.x=t.screenX,e.last.tmp.y=t.screenY}},o=function(t){delete e.resizing,$(document).off("mousemove","body"),$(document).off("mouseup","body"),e.resizeRecords(),e.trigger($.extend(i,{phase:"after",originalEvent:t}))};$(document).on("mousemove","body",r),$(document).on("mouseup","body",o)}).each(function(e,t){var n=$(t).parent();$(t).css({height:"25px","margin-left":n.width()-3+"px"})})},resizeBoxes:function(){var e=($(this.box).find("> div"),$("#grid_"+this.name+"_header")),t=$("#grid_"+this.name+"_toolbar"),n=$("#grid_"+this.name+"_summary"),i=$("#grid_"+this.name+"_footer"),r=$("#grid_"+this.name+"_body");$("#grid_"+this.name+"_columns"),$("#grid_"+this.name+"_records");this.show.header&&e.css({top:"0px",left:"0px",right:"0px"}),this.show.toolbar&&t.css({top:0+(this.show.header?w2utils.getSize(e,"height"):0)+"px",left:"0px",right:"0px"}),this.show.footer&&i.css({bottom:"0px",left:"0px",right:"0px"}),this.summary.length>0&&n.css({bottom:0+(this.show.footer?w2utils.getSize(i,"height"):0)+"px",left:"0px",right:"0px"}),r.css({top:0+(this.show.header?w2utils.getSize(e,"height"):0)+(this.show.toolbar?w2utils.getSize(t,"height"):0)+"px",bottom:0+(this.show.footer?w2utils.getSize(i,"height"):0)+(this.summary.length>0?w2utils.getSize(n,"height"):0)+"px",left:"0px",right:"0px"})},resizeRecords:function(){var e=this;$(this.box).find(".w2ui-empty-record").remove();var t=$(this.box),n=$(this.box).find("> div"),i=$("#grid_"+this.name+"_header"),r=$("#grid_"+this.name+"_toolbar"),o=$("#grid_"+this.name+"_summary"),s=$("#grid_"+this.name+"_footer"),a=$("#grid_"+this.name+"_body"),l=$("#grid_"+this.name+"_columns"),c=$("#grid_"+this.name+"_records");if(this.fixedBody){var u=n.height()-(this.show.header?w2utils.getSize(i,"height"):0)-(this.show.toolbar?w2utils.getSize(r,"height"):0)-("none"!=o.css("display")?w2utils.getSize(o,"height"):0)-(this.show.footer?w2utils.getSize(s,"height"):0);a.css("height",u)}else{var u=w2utils.getSize(l,"height")+w2utils.getSize($("#grid_"+e.name+"_records table"),"height");e.height=u+w2utils.getSize(n,"+height")+(e.show.header?w2utils.getSize(i,"height"):0)+(e.show.toolbar?w2utils.getSize(r,"height"):0)+("none"!=o.css("display")?w2utils.getSize(o,"height"):0)+(e.show.footer?w2utils.getSize(s,"height"):0),n.css("height",e.height),a.css("height",u),t.css("height",w2utils.getSize(n,"height")+w2utils.getSize(t,"+height"))}var d=this.records.length;0==this.searchData.length||this.url||(d=this.last.searchIds.length);var h=!1,f=!1;if(a.width()<$(c).find(">table").width()&&(h=!0),a.height()-l.height()<$(c).find(">table").height()+(h?w2utils.scrollBarSize():0)&&(f=!0),this.fixedBody||(f=!1),h||f?(l.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").css("width",w2utils.scrollBarSize()).show(),c.css({top:(this.columnGroups.length>0&&this.show.columns?1:0)+w2utils.getSize(l,"height")+"px","-webkit-overflow-scrolling":"touch","overflow-x":h?"auto":"hidden","overflow-y":f?"auto":"hidden"})):(l.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").hide(),c.css({top:(this.columnGroups.length>0&&this.show.columns?1:0)+w2utils.getSize(l,"height")+"px",overflow:"hidden"}),c.length>0&&(this.last.scrollTop=0,this.last.scrollLeft=0)),this.show.emptyRecords&&!f){var p=Math.floor(c.height()/this.recordHeight)+1;if(this.fixedBody)for(var m=d;p>=m;m++){var g="";g+='<tr class="'+(m%2?"w2ui-even":"w2ui-odd")+' w2ui-empty-record" style="height: '+this.recordHeight+'px">',this.show.lineNumbers&&(g+='<td class="w2ui-col-number"></td>'),this.show.selectColumn&&(g+='<td class="w2ui-grid-data w2ui-col-select"></td>'),this.show.expandColumn&&(g+='<td class="w2ui-grid-data w2ui-col-expand"></td>');for(var v=0;this.columns.length>0;){var y=this.columns[v];if(y.hidden){if(v++,"undefined"==typeof this.columns[v])break}else if(g+='<td class="w2ui-grid-data" '+("undefined"!=typeof y.attr?y.attr:"")+' col="'+v+'"></td>',v++,"undefined"==typeof this.columns[v])break}g+='<td class="w2ui-grid-data-last"></td>',g+="</tr>",$("#grid_"+this.name+"_records > table").append(g)}}if(a.length>0){for(var b=parseInt(a.width())-(f?w2utils.scrollBarSize():0)-(this.show.lineNumbers?34:0)-(this.show.selectColumn?26:0)-(this.show.expandColumn?26:0),w=b,x=0,k=!1,_=0;_<this.columns.length;_++){var y=this.columns[_];y.gridMinWidth>0&&(y.gridMinWidth>w&&y.hidden!==!0&&(y.hidden=!0,k=!0),y.gridMinWidth<w&&y.hidden===!0&&(y.hidden=!1,k=!0))}if(k===!0)return void this.refresh();for(var _=0;_<this.columns.length;_++){var y=this.columns[_];y.hidden||("px"==String(y.size).substr(String(y.size).length-2).toLowerCase()?(b-=parseFloat(y.size),this.columns[_].sizeCalculated=y.size,this.columns[_].sizeType="px"):(x+=parseFloat(y.size),this.columns[_].sizeType="%",delete y.sizeCorrected))}if(100!=x&&x>0)for(var _=0;_<this.columns.length;_++){var y=this.columns[_];y.hidden||"%"==y.sizeType&&(y.sizeCorrected=Math.round(100*parseFloat(y.size)*100/x)/100+"%")}for(var _=0;_<this.columns.length;_++){var y=this.columns[_];y.hidden||"%"==y.sizeType&&("undefined"!=typeof this.columns[_].sizeCorrected?this.columns[_].sizeCalculated=Math.floor(b*parseFloat(y.sizeCorrected)/100)-1+"px":this.columns[_].sizeCalculated=Math.floor(b*parseFloat(y.size)/100)-1+"px")}}for(var C=0,_=0;_<this.columns.length;_++){var y=this.columns[_];y.hidden||("undefined"==typeof y.min&&(y.min=20),parseInt(y.sizeCalculated)<parseInt(y.min)&&(y.sizeCalculated=y.min+"px"),parseInt(y.sizeCalculated)>parseInt(y.max)&&(y.sizeCalculated=y.max+"px"),C+=parseInt(y.sizeCalculated))}var S=parseInt(w)-parseInt(C);if(S>0&&x>0)for(var _=0;;){var y=this.columns[_];if("undefined"!=typeof y)if(y.hidden||"px"==y.sizeType)_++;else{if(y.sizeCalculated=parseInt(y.sizeCalculated)+1+"px",S--,0==S)break;_++}else _=0}else S>0&&l.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").css("width",w2utils.scrollBarSize()).show();l.find("> table > tbody > tr:nth-child(1) td").each(function(t,n){var i=$(n).attr("col");"undefined"!=typeof i&&e.columns[i]&&$(n).css("width",e.columns[i].sizeCalculated),$(n).hasClass("w2ui-head-last")&&$(n).css("width",w2utils.scrollBarSize()+(S>0&&0==x?S:0)+"px")}),3==l.find("> table > tbody > tr").length&&l.find("> table > tbody > tr:nth-child(1) td").html("").css({height:"0px",border:"0px",padding:"0px",margin:"0px"}),c.find("> table > tbody > tr:nth-child(1) td").each(function(t,n){var i=$(n).attr("col");"undefined"!=typeof i&&e.columns[i]&&$(n).css("width",e.columns[i].sizeCalculated),$(n).hasClass("w2ui-grid-data-last")&&$(n).css("width",(S>0&&0==x?S:0)+"px")}),o.find("> table > tbody > tr:nth-child(1) td").each(function(t,n){var i=$(n).attr("col");"undefined"!=typeof i&&e.columns[i]&&$(n).css("width",e.columns[i].sizeCalculated),$(n).hasClass("w2ui-grid-data-last")&&$(n).css("width",w2utils.scrollBarSize()+(S>0&&0==x?S:0)+"px")}),this.initResize(),this.refreshRanges(),(this.last.scrollTop||this.last.scrollLeft)&&c.length>0&&(l.prop("scrollLeft",this.last.scrollLeft),c.prop("scrollTop",this.last.scrollTop),c.prop("scrollLeft",this.last.scrollLeft))},getSearchesHTML:function(){for(var e='<table cellspacing="0">',t=!1,n=0;n<this.searches.length;n++){var i=this.searches[n];if(i.type=String(i.type).toLowerCase(),!i.hidden){var r="";if(0==t&&(r='<button class="btn close-btn" onclick="obj = w2ui[\''+this.name+"']; if (obj) { obj.searchClose(); }\">X</button",t=!0),"undefined"==typeof i.inTag&&(i.inTag=""),"undefined"==typeof i.outTag&&(i.outTag=""),"undefined"==typeof i.type&&(i.type="text"),-1!=["text","alphanumeric","combo"].indexOf(i.type))var o='<select id="grid_'+this.name+"_operator_"+n+'" onclick="event.stopPropagation();">    <option value="is">'+w2utils.lang("is")+'</option>    <option value="begins">'+w2utils.lang("begins")+'</option>    <option value="contains">'+w2utils.lang("contains")+'</option>    <option value="ends">'+w2utils.lang("ends")+"</option></select>";if(-1!=["int","float","money","currency","percent","date","time"].indexOf(i.type))var o='<select id="grid_'+this.name+"_operator_"+n+'"         onchange="w2ui[\''+this.name+"'].initOperator(this, "+n+');" onclick="event.stopPropagation();">    <option value="is">'+w2utils.lang("is")+"</option>"+(-1!=["int"].indexOf(i.type)?'<option value="in">'+w2utils.lang("in")+"</option>":"")+(-1!=["int"].indexOf(i.type)?'<option value="not in">'+w2utils.lang("not in")+"</option>":"")+'<option value="between">'+w2utils.lang("between")+"</option></select>";if(-1!=["select","list","hex"].indexOf(i.type))var o='<select id="grid_'+this.name+"_operator_"+n+'" onclick="event.stopPropagation();">    <option value="is">'+w2utils.lang("is")+"</option></select>";if(-1!=["enum"].indexOf(i.type))var o='<select id="grid_'+this.name+"_operator_"+n+'" onclick="event.stopPropagation();">    <option value="in">'+w2utils.lang("in")+'</option>    <option value="not in">'+w2utils.lang("not in")+"</option></select>";switch(e+='<tr>    <td class="close-btn">'+r+'</td>    <td class="caption">'+i.caption+'</td>    <td class="operator">'+o+'</td>    <td class="value">',i.type){case"text":case"alphanumeric":case"hex":case"list":case"combo":case"enum":e+='<input rel="search" type="text" style="width: 300px;" id="grid_'+this.name+"_field_"+n+'" name="'+i.field+'" '+i.inTag+">";break;case"int":case"float":case"money":case"currency":case"percent":case"date":case"time":e+='<input rel="search" type="text" size="12" id="grid_'+this.name+"_field_"+n+'" name="'+i.field+'" '+i.inTag+'><span id="grid_'+this.name+"_range_"+n+'" style="display: none">&nbsp;-&nbsp;&nbsp;<input rel="search" type="text" style="width: 90px" id="grid_'+this.name+"_field2_"+n+'" name="'+i.field+'" '+i.inTag+"></span>";break;case"select":e+='<select rel="search" id="grid_'+this.name+"_field_"+n+'" name="'+i.field+'" '+i.inTag+'  onclick="event.stopPropagation();"></select>'}e+=i.outTag+"    </td></tr>"}}return e+='<tr>    <td colspan="4" class="actions">        <div>        <button class="btn" onclick="obj = w2ui[\''+this.name+"']; if (obj) { obj.searchReset(); }\">"+w2utils.lang("Reset")+'</button>        <button class="btn btn-blue" onclick="obj = w2ui[\''+this.name+"']; if (obj) { obj.search(); }\">"+w2utils.lang("Search")+"</button>        </div>    </td></tr></table>"},initOperator:function(e,t){var n=this,i=n.searches[t],r=$("#grid_"+n.name+"_range_"+t),o=$("#grid_"+n.name+"_field_"+t),s=o.parent().find("span input");"in"==$(e).val()||"not in"==$(e).val()?o.w2field("clear"):o.w2field(i.type),"between"==$(e).val()?(r.show(),s.w2field(i.type)):r.hide()},initSearches:function(){var e=this;for(var t in this.searches){var n=this.searches[t],i=this.getSearchData(n.field);switch(n.type=String(n.type).toLowerCase(),"object"!=typeof n.options&&(n.options={}),n.type){case"text":case"alphanumeric":$("#grid_"+this.name+"_operator_"+t).val("begins"),-1!=["alphanumeric","hex"].indexOf(n.type)&&$("#grid_"+this.name+"_field_"+t).w2field(n.type,n.options);break;case"int":case"float":case"money":case"currency":case"percent":case"date":case"time":if(i&&"int"==i.type&&-1!=["in","not in"].indexOf(i.operator))break;$("#grid_"+this.name+"_field_"+t).w2field(n.type,n.options),$("#grid_"+this.name+"_field2_"+t).w2field(n.type,n.options),setTimeout(function(){$("#grid_"+e.name+"_field_"+t).keydown(),$("#grid_"+e.name+"_field2_"+t).keydown()},1);break;case"hex":break;case"list":case"combo":case"enum":var r=n.options;"list"==n.type&&(r.selected={}),"enum"==n.type&&(r.selected=[]),i&&(r.selected=i.value),$("#grid_"+this.name+"_field_"+t).w2field(n.type,r),"combo"==n.type&&$("#grid_"+this.name+"_operator_"+t).val("begins");break;case"select":var r='<option value="">--</option>';for(var o in n.options.items){var s=n.options.items[o];if($.isPlainObject(n.options.items[o])){var a=s.id,l=s.text;"undefined"==typeof a&&"undefined"!=typeof s.value&&(a=s.value),"undefined"==typeof l&&"undefined"!=typeof s.caption&&(l=s.caption),null==a&&(a=""),r+='<option value="'+a+'">'+l+"</option>"}else r+='<option value="'+s+'">'+s+"</option>"}$("#grid_"+this.name+"_field_"+t).html(r)}null!=i&&("int"==i.type&&-1!=["in","not in"].indexOf(i.operator)&&$("#grid_"+this.name+"_field_"+t).w2field("clear").val(i.value),$("#grid_"+this.name+"_operator_"+t).val(i.operator).trigger("change"),$.isArray(i.value)?-1!=["in","not in"].indexOf(i.operator)?$("#grid_"+this.name+"_field_"+t).val(i.value).trigger("change"):($("#grid_"+this.name+"_field_"+t).val(i.value[0]).trigger("change"),$("#grid_"+this.name+"_field2_"+t).val(i.value[1]).trigger("change")):"udefined"!=typeof i.value&&$("#grid_"+this.name+"_field_"+t).val(i.value).trigger("change"))}$("#w2ui-overlay-searches-"+this.name+" .w2ui-grid-searches *[rel=search]").on("keypress",function(t){13==t.keyCode&&(e.search(),$().w2overlay())})},getColumnsHTML:function(){function e(){var e="<tr>";""!=n.columnGroups[n.columnGroups.length-1].caption&&n.columnGroups.push({caption:""}),n.show.lineNumbers&&(e+='<td class="w2ui-head w2ui-col-number">    <div>&nbsp;</div></td>'),n.show.selectColumn&&(e+='<td class="w2ui-head w2ui-col-select">    <div>&nbsp;</div></td>'),n.show.expandColumn&&(e+='<td class="w2ui-head w2ui-col-expand">    <div>&nbsp;</div></td>');for(var t=0,i=0;i<n.columnGroups.length;i++){var r=n.columnGroups[i],o=n.columns[t];if(("undefined"==typeof r.span||r.span!=parseInt(r.span))&&(r.span=1),"undefined"!=typeof r.colspan&&(r.span=r.colspan),r.master===!0){var s="";for(var a in n.sortData)n.sortData[a].field==o.field&&(RegExp("asc","i").test(n.sortData[a].direction)&&(s="w2ui-sort-up"),RegExp("desc","i").test(n.sortData[a].direction)&&(s="w2ui-sort-down"));var l="";o.resizable!==!1&&(l='<div class="w2ui-resizer" name="'+t+'"></div>'),e+='<td class="w2ui-head '+s+'" col="'+t+'" rowspan="2" colspan="'+(r.span+(i==n.columnGroups.length-1?1:0))+'"     onclick="w2ui[\''+n.name+"'].columnClick('"+o.field+"', event);\">"+l+'    <div class="w2ui-col-group w2ui-col-header '+(s?"w2ui-col-sorted":"")+'">        <div class="'+s+'"></div>'+(o.caption?o.caption:"&nbsp;")+"    </div></td>"}else e+='<td class="w2ui-head" col="'+t+'"         colspan="'+(r.span+(i==n.columnGroups.length-1?1:0))+'">    <div class="w2ui-col-group">'+(r.caption?r.caption:"&nbsp;")+"    </div></td>";t+=r.span}return e+="</tr>"}function t(e){var t="<tr>",i=!n.reorderColumns||n.columnGroups&&n.columnGroups.length?"":" w2ui-reorder-cols-head ";n.show.lineNumbers&&(t+='<td class="w2ui-head w2ui-col-number" onclick="w2ui[\''+n.name+"'].columnClick('line-number', event);\">    <div>#</div></td>"),n.show.selectColumn&&(t+='<td class="w2ui-head w2ui-col-select"         onclick="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;">    <div>        <input type="checkbox" id="grid_'+n.name+'_check_all" tabIndex="-1"            style="'+(0==n.multiSelect?"display: none;":"")+'"            onclick="if (this.checked) w2ui[\''+n.name+"'].selectAll();                      else w2ui['"+n.name+"'].selectNone();                      if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">    </div></td>"),n.show.expandColumn&&(t+='<td class="w2ui-head w2ui-col-expand">    <div>&nbsp;</div></td>');for(var r=0,o=0,s=0;s<n.columns.length;s++){var a=n.columns[s],l={};if(s==o&&(o+="undefined"!=typeof n.columnGroups[r]?parseInt(n.columnGroups[r].span):0,r++),"undefined"!=typeof n.columnGroups[r-1])var l=n.columnGroups[r-1];if(!a.hidden){var c="";for(var u in n.sortData)n.sortData[u].field==a.field&&(RegExp("asc","i").test(n.sortData[u].direction)&&(c="w2ui-sort-up"),RegExp("desc","i").test(n.sortData[u].direction)&&(c="w2ui-sort-down"));if(l.master!==!0||e){var d="";a.resizable!==!1&&(d='<div class="w2ui-resizer" name="'+s+'"></div>'),t+='<td col="'+s+'" class="w2ui-head '+c+i+'"     onclick="w2ui[\''+n.name+"'].columnClick('"+a.field+"', event);\">"+d+'    <div class="w2ui-col-header '+(c?"w2ui-col-sorted":"")+'">        <div class="'+c+'"></div>'+(a.caption?a.caption:"&nbsp;")+"    </div></td>"}}}return t+='<td class="w2ui-head w2ui-head-last"><div>&nbsp;</div></td>',t+="</tr>"}var n=this,i="";return this.show.columnHeaders&&(i=this.columnGroups.length>0?t(!0)+e()+t(!1):t(!0)),i},getRecordsHTML:function(){var e=this.records.length;0==this.searchData.length||this.url||(e=this.last.searchIds.length),e>300?this.show_extra=30:this.show_extra=300;var t=$("#grid_"+this.name+"_records"),n=Math.floor(t.height()/this.recordHeight)+this.show_extra+1;(!this.fixedBody||n>e)&&(n=e);var i="<table>"+this.getRecordHTML(-1,0);i+='<tr id="grid_'+this.name+'_rec_top" line="top" style="height: 0px">    <td colspan="200"></td></tr>';for(var r=0;n>r;r++)i+=this.getRecordHTML(r,r+1);return i+='<tr id="grid_'+this.name+'_rec_bottom" line="bottom" style="height: '+(e-n)*this.recordHeight+'px">    <td colspan="200"></td></tr><tr id="grid_'+this.name+'_rec_more" style="display: none">    <td colspan="200" class="w2ui-load-more"></td></tr></table>',
this.last.range_start=0,this.last.range_end=n,i},getSummaryHTML:function(){if(0!=this.summary.length){for(var e="<table>",t=0;t<this.summary.length;t++)e+=this.getRecordHTML(t,t+1,!0);return e+="</table>"}},scroll:function(e){function t(){n.markSearch!==!1&&(clearTimeout(n.last.marker_timer),n.last.marker_timer=setTimeout(function(){var e=[];for(var t in n.searchData){var i=n.searchData[t];-1==$.inArray(i.value,e)&&e.push(i.value)}e.length>0&&$(n.box).find(".w2ui-grid-data > div").w2marker(e)},50))}var n=((new Date).getTime(),this),i=$("#grid_"+this.name+"_records"),r=this.records.length;if(0==this.searchData.length||this.url||(r=this.last.searchIds.length),0!=r&&0!=i.length&&0!=i.height()){if(r>300?this.show_extra=30:this.show_extra=300,i.height()<r*this.recordHeight&&"hidden"==i.css("overflow-y"))return void(this.total>0&&this.refresh());var o=Math.round(i[0].scrollTop/this.recordHeight+1),s=o+(Math.round(i.height()/this.recordHeight)-1);o>r&&(o=r),s>r&&(s=r);var a="object"!=typeof this.url?this.url:this.url.get;if($("#grid_"+this.name+"_footer .w2ui-footer-right").html(w2utils.formatNumber(this.offset+o)+"-"+w2utils.formatNumber(this.offset+s)+" "+w2utils.lang("of")+" "+w2utils.formatNumber(this.total)+(a?" ("+w2utils.lang("buffered")+" "+w2utils.formatNumber(r)+(this.offset>0?", skip "+w2utils.formatNumber(this.offset):"")+")":"")),a||this.fixedBody&&!(this.total<=300)){var l=Math.floor(i[0].scrollTop/this.recordHeight)-this.show_extra,c=l+Math.floor(i.height()/this.recordHeight)+2*this.show_extra+1;1>l&&(l=1),c>this.total&&(c=this.total);var u=i.find("#grid_"+this.name+"_rec_top"),d=i.find("#grid_"+this.name+"_rec_bottom");-1!=String(u.next().prop("id")).indexOf("_expanded_row")&&u.next().remove(),this.total>c&&-1!=String(d.prev().prop("id")).indexOf("_expanded_row")&&d.prev().remove();var h=parseInt(u.next().attr("line")),f=parseInt(d.prev().attr("line"));if(l>h||1==h||this.last.pull_refresh){if(c<=f+this.show_extra-2&&c!=this.total)return;for(this.last.pull_refresh=!1;;){var p=i.find("#grid_"+this.name+"_rec_top").next();if("bottom"==p.attr("line"))break;if(!(parseInt(p.attr("line"))<l))break;p.remove()}var p=i.find("#grid_"+this.name+"_rec_bottom").prev(),m=p.attr("line");"top"==m&&(m=l);for(var g=parseInt(m)+1;c>=g;g++)this.records[g-1]&&(this.records[g-1].expanded===!0&&(this.records[g-1].expanded=!1),d.before(this.getRecordHTML(g-1,g)));t(),setTimeout(function(){n.refreshRanges()},0)}else{if(l>=h-this.show_extra+2&&l>1)return;for(;;){var p=i.find("#grid_"+this.name+"_rec_bottom").prev();if("top"==p.attr("line"))break;if(!(parseInt(p.attr("line"))>c))break;p.remove()}var p=i.find("#grid_"+this.name+"_rec_top").next(),m=p.attr("line");"bottom"==m&&(m=c);for(var g=parseInt(m)-1;g>=l;g--)this.records[g-1]&&(this.records[g-1].expanded===!0&&(this.records[g-1].expanded=!1),u.after(this.getRecordHTML(g-1,g)));t(),setTimeout(function(){n.refreshRanges()},0)}var v=(l-1)*n.recordHeight,y=(r-c)*n.recordHeight;0>y&&(y=0),u.css("height",v+"px"),d.css("height",y+"px"),n.last.range_start=l,n.last.range_end=c;var b=Math.floor(i[0].scrollTop/this.recordHeight),w=b+Math.floor(i.height()/this.recordHeight);if(w+10>r&&this.last.pull_more!==!0&&r<this.total-this.offset)if(this.autoLoad===!0)this.last.pull_more=!0,this.last.xhr_offset+=this.limit,this.request("get-records");else{var x=$("#grid_"+this.name+"_rec_more");"none"==x.css("display")&&x.show().on("click",function(){n.last.pull_more=!0,n.last.xhr_offset+=n.limit,n.request("get-records"),$(this).find("td").html('<div><div style="width: 20px; height: 20px;" class="w2ui-spinner"></div></div>')}),-1==x.find("td").text().indexOf("Load")&&x.find("td").html("<div>"+w2utils.lang("Load")+" "+n.limit+" "+w2utils.lang("More")+"...</div>")}r>=this.total-this.offset&&$("#grid_"+this.name+"_rec_more").hide()}}},getRecordHTML:function(e,t,n){var i,r="",o=this.last.selection;if(-1==e){r+='<tr line="0">',this.show.lineNumbers&&(r+='<td class="w2ui-col-number" style="height: 0px;"></td>'),this.show.selectColumn&&(r+='<td class="w2ui-col-select" style="height: 0px;"></td>'),this.show.expandColumn&&(r+='<td class="w2ui-col-expand" style="height: 0px;"></td>');for(var s in this.columns)this.columns[s].hidden||(r+='<td class="w2ui-grid-data" col="'+s+'" style="height: 0px;"></td>');return r+='<td class="w2ui-grid-data-last" style="height: 0px;"></td>',r+="</tr>"}var a="object"!=typeof this.url?this.url:this.url.get;if(n!==!0)if(this.searchData.length>0&&!a){if(e>=this.last.searchIds.length)return"";e=this.last.searchIds[e],i=this.records[e]}else{if(e>=this.records.length)return"";i=this.records[e]}else{if(e>=this.summary.length)return"";i=this.summary[e]}if(!i)return"";var l=(w2utils.escapeId(i.recid),!1);if(-1!=o.indexes.indexOf(e)&&(l=!0),r+='<tr id="grid_'+this.name+"_rec_"+i.recid+'" recid="'+i.recid+'" line="'+t+'"  class="'+(t%2==0?"w2ui-even":"w2ui-odd")+(l&&"row"==this.selectType?" w2ui-selected":"")+(i.editable===!1?" w2ui-no-edit":"")+(i.expanded===!0?" w2ui-expanded":"")+'" '+(n!==!0?w2utils.isIOS?"    onclick  = \"w2ui['"+this.name+"'].dblClick('"+i.recid+"', event);\"":"    onclick  = \"w2ui['"+this.name+"'].click('"+i.recid+"', event);\"    oncontextmenu = \"w2ui['"+this.name+"'].contextMenu('"+i.recid+"', event);\"":"")+' style="height: '+this.recordHeight+"px; "+(l||"string"!=typeof i.style?"":i.style)+'" '+("string"==typeof i.style?'custom_style="'+i.style+'"':"")+">",this.show.lineNumbers&&(r+='<td id="grid_'+this.name+"_cell_"+e+"_number"+(n?"_s":"")+'" class="w2ui-col-number">'+(n!==!0?"<div>"+t+"</div>":"")+"</td>"),this.show.selectColumn&&(r+='<td id="grid_'+this.name+"_cell_"+e+"_select"+(n?"_s":"")+'" class="w2ui-grid-data w2ui-col-select"         onclick="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;">'+(n!==!0?'    <div>        <input class="w2ui-grid-select-check" type="checkbox" tabIndex="-1"            '+(l?'checked="checked"':"")+"            onclick=\"var obj = w2ui['"+this.name+"'];                 if (!obj.multiSelect) { obj.selectNone(); }                if (this.checked) obj.select('"+i.recid+"'); else obj.unselect('"+i.recid+"');                 if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">    </div>":"")+"</td>"),this.show.expandColumn){var c="";c=i.expanded===!0?"-":"+","none"==i.expanded&&(c=""),"spinner"==i.expanded&&(c='<div class="w2ui-spinner" style="width: 16px; margin: -2px 2px;"></div>'),r+='<td id="grid_'+this.name+"_cell_"+e+"_expand"+(n?"_s":"")+'" class="w2ui-grid-data w2ui-col-expand">'+(n!==!0?'    <div ondblclick="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;"             onclick="w2ui[\''+this.name+"'].toggle('"+i.recid+"', event);                 if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">        "+c+" </div>":"")+"</td>"}for(var u=0;;){var d=this.columns[u];if(d.hidden){if(u++,"undefined"==typeof this.columns[u])break}else{var h=!n&&i.changes&&"undefined"!=typeof i.changes[d.field],f=this.getCellHTML(e,u,n),p="";if("string"==typeof d.render){var m=d.render.toLowerCase().split(":");-1!=["number","int","float","money","currency","percent"].indexOf(m[0])&&(p+="text-align: right;")}"object"==typeof i.style&&"string"==typeof i.style[u]&&(p+=i.style[u]+";");var g=!1;if(l&&-1!=$.inArray(u,o.columns[e])&&(g=!0),r+='<td class="w2ui-grid-data'+(g?" w2ui-selected":"")+(h?" w2ui-changed":"")+'" col="'+u+'"     style="'+p+("undefined"!=typeof d.style?d.style:"")+'" '+("undefined"!=typeof d.attr?d.attr:"")+">"+f+"</td>",u++,"undefined"==typeof this.columns[u])break}}return r+='<td class="w2ui-grid-data-last"></td>',r+="</tr>"},getCellHTML:function(e,t,n){var i=this.columns[t],r=n!==!0?this.records[e]:this.summary[e],o=this.getCellValue(e,t,n),s=i.editable;if(null!=i.render){if("function"==typeof i.render&&(o=$.trim(i.render.call(this,r,e,t)),(o.length<4||"<div"!=o.substr(0,4).toLowerCase())&&(o="<div>"+o+"</div>")),"object"==typeof i.render&&(o="<div>"+(i.render[o]||"")+"</div>"),"string"==typeof i.render){var a=i.render.toLowerCase().split(":"),l="",c="";-1!=["number","int","float","money","currency","percent"].indexOf(a[0])&&("undefined"!=typeof a[1]&&w2utils.isInt(a[1])||(a[1]=0),a[1]>20&&(a[1]=20),a[1]<0&&(a[1]=0),-1!=["money","currency"].indexOf(a[0])&&(a[1]=w2utils.settings.currencyPrecision,l=w2utils.settings.currencyPrefix,c=w2utils.settings.currencySuffix),"percent"==a[0]&&(c="%","0"!==a[1]&&(a[1]=1)),"int"==a[0]&&(a[1]=0),o="<div>"+(""!==o?l+w2utils.formatNumber(Number(o).toFixed(a[1]))+c:"")+"</div>"),"time"==a[0]&&(("undefined"==typeof a[1]||""==a[1])&&(a[1]=w2utils.settings.time_format),o="<div>"+l+w2utils.formatTime(o,"h12"==a[1]?"hh:mi pm":"h24:min")+c+"</div>"),"date"==a[0]&&(("undefined"==typeof a[1]||""==a[1])&&(a[1]=w2utils.settings.date_display),o="<div>"+l+w2utils.formatDate(o,a[1])+c+"</div>"),"age"==a[0]&&(o="<div>"+l+w2utils.age(o)+c+"</div>"),"toggle"==a[0]&&(o="<div>"+l+(o?"Yes":"")+c+"</div>")}}else{var u="";if(s&&-1!=["checkbox","check"].indexOf(s.type)){var d=n?-(e+1):e;u="text-align: center",o='<input type="checkbox" '+(o?"checked":"")+" onclick=\"    var obj = w2ui['"+this.name+"'];     obj.editChange.call(obj, this, "+d+", "+t+', event); ">'}if(this.show.recordTitles){var h=String(o).replace(/"/g,"''");"undefined"!=typeof i.title&&("function"==typeof i.title&&(h=i.title.call(this,r,e,t)),"string"==typeof i.title&&(h=i.title));var o='<div title="'+w2utils.stripTags(h)+'" style="'+u+'">'+o+"</div>"}else var o='<div style="'+u+'">'+o+"</div>"}return(null==o||"undefined"==typeof o)&&(o=""),o},getCellValue:function(e,t,n){var i=this.columns[t],r=n!==!0?this.records[e]:this.summary[e],o=this.parseField(r,i.field);return r.changes&&"undefined"!=typeof r.changes[i.field]&&(o=r.changes[i.field]),(null==o||"undefined"==typeof o)&&(o=""),o},getFooterHTML:function(){return'<div>    <div class="w2ui-footer-left"></div>    <div class="w2ui-footer-right"></div>    <div class="w2ui-footer-center"></div></div>'},status:function(e){if("undefined"!=typeof e)$("#grid_"+this.name+"_footer").find(".w2ui-footer-left").html(e);else{var t="",n=this.getSelection();if(n.length>0){t=String(n.length).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")+" "+w2utils.lang("selected");var i=n[0];"object"==typeof i&&(i=i.recid+", "+w2utils.lang("Column")+": "+i.column),1==n.length&&(t=w2utils.lang("Record ID")+": "+i+" ")}$("#grid_"+this.name+"_footer .w2ui-footer-left").html(t),1==n.length?this.toolbar.enable("w2ui-edit"):this.toolbar.disable("w2ui-edit"),n.length>=1?this.toolbar.enable("w2ui-delete"):this.toolbar.disable("w2ui-delete")}},lock:function(e,t){var n=$(this.box).find("> div:first-child"),i=Array.prototype.slice.call(arguments,0);i.unshift(n),setTimeout(function(){w2utils.lock.apply(window,i)},10)},unlock:function(){var e=this.box;setTimeout(function(){w2utils.unlock(e)},25)},stateSave:function(e){if(!localStorage)return null;var t={columns:[],show:$.extend({},this.show),last:{search:this.last.search,multi:this.last.multi,logic:this.last.logic,caption:this.last.caption,field:this.last.field,scrollTop:this.last.scrollTop,scrollLeft:this.last.scrollLeft},sortData:[],searchData:[]};for(var n in this.columns){var i=this.columns[n];t.columns.push({field:i.field,hidden:i.hidden,size:i.size,sizeCalculated:i.sizeCalculated,sizeOriginal:i.sizeOriginal,sizeType:i.sizeType})}for(var n in this.sortData)t.sortData.push($.extend({},this.sortData[n]));for(var n in this.searchData)t.searchData.push($.extend({},this.searchData[n]));if(e!==!0){var r=this.trigger({phase:"before",type:"stateSave",target:this.name,state:t});if(r.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));try{var o=$.parseJSON(localStorage.w2ui||"{}");o||(o={}),o.states||(o.states={}),o.states[this.name]=t,localStorage.w2ui=JSON.stringify(o)}catch(s){return delete localStorage.w2ui,null}this.trigger($.extend(r,{phase:"after"}))}return t},stateRestore:function(e){var t=this;if(!e)try{if(!localStorage)return!1;var n=$.parseJSON(localStorage.w2ui||"{}");n||(n={}),n.states||(n.states={}),e=n.states[this.name]}catch(i){return delete localStorage.w2ui,null}var r=this.trigger({phase:"before",type:"stateRestore",target:this.name,state:e});if(r.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));if($.isPlainObject(e)){$.extend(this.show,e.show),$.extend(this.last,e.last);var o=this.last.scrollTop,s=this.last.scrollLeft;for(var a in e.columns){var n=e.columns[a],l=this.getColumn(n.field);l&&$.extend(l,n)}this.sortData.splice(0,this.sortData.length);for(var a in e.sortData)this.sortData.push(e.sortData[a]);this.searchData.splice(0,this.searchData.length);for(var a in e.searchData)this.searchData.push(e.searchData[a]);setTimeout(function(){t.sortData.length>0&&t.localSort(),t.searchData.length>0&&t.localSearch(),t.last.scrollTop=o,t.last.scrollLeft=s,t.refresh()},1)}return this.trigger($.extend(r,{phase:"after"})),!0},stateReset:function(){if(this.stateRestore(this.last.state),localStorage)try{var e=$.parseJSON(localStorage.w2ui||"{}");e.states&&e.states[this.name]&&delete e.states[this.name],localStorage.w2ui=JSON.stringify(e)}catch(t){return delete localStorage.w2ui,null}},parseField:function(e,t){var n="";try{n=e;var i=String(t).split(".");for(var r in i)n=n[i[r]]}catch(o){n=""}return n},prepareData:function(){for(var e in this.records){var t=this.records[e];for(var n in this.columns){var i=this.columns[n];if(null!=t[i.field]&&"string"==typeof i.render){if(-1!=["number","int","float","money","currency","percent"].indexOf(i.render.split(":")[0])&&"number"!=typeof t[i.field]&&(t[i.field]=parseFloat(t[i.field])),-1!=["date","age"].indexOf(i.render.split(":")[0])&&!t[i.field+"_"]){var r=t[i.field];w2utils.isInt(r)&&(r=parseInt(r)),t[i.field+"_"]=new Date(r)}if(-1!=["time"].indexOf(i.render))if(w2utils.isTime(t[i.field])){var o=w2utils.isTime(t[i.field],!0),r=new Date;r.setHours(o.hours,o.minutes,o.seconds?o.seconds:0,0),t[i.field+"_"]||(t[i.field+"_"]=r)}else{var o=t[i.field];w2utils.isInt(o)&&(o=parseInt(o));var o=null!=o?new Date(o):new Date,r=new Date;r.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),0),t[i.field+"_"]||(t[i.field+"_"]=r)}}}}},nextCell:function(e,t){var n=e+1;if(this.columns.length==n)return null;if(t===!0){var i=this.columns[n].editable;if(this.columns[n].hidden||"undefined"==typeof i||i&&-1!=["checkbox","check"].indexOf(i.type))return this.nextCell(n,t)}return n},prevCell:function(e,t){var n=e-1;if(0>n)return null;if(t===!0){var i=this.columns[n].editable;if(this.columns[n].hidden||"undefined"==typeof i||i&&-1!=["checkbox","check"].indexOf(i.type))return this.prevCell(n,t)}return n},nextRow:function(e){if(e+1<this.records.length&&0==this.last.searchIds.length||this.last.searchIds.length>0&&e<this.last.searchIds[this.last.searchIds.length-1]){if(e++,this.last.searchIds.length>0)for(;;){if(-1!=$.inArray(e,this.last.searchIds)||e>this.records.length)break;e++}return e}return null},prevRow:function(e){if(e>0&&0==this.last.searchIds.length||this.last.searchIds.length>0&&e>this.last.searchIds[0]){if(e--,this.last.searchIds.length>0)for(;;){if(-1!=$.inArray(e,this.last.searchIds)||0>e)break;e--}return e}return null}},$.extend(w2grid.prototype,w2utils.event),w2obj.grid=w2grid}(),function(){var e=function(e){this.box=null,this.name=null,this.panels=[],this.tmp={},this.padding=1,this.resizer=4,this.style="",this.onShow=null,this.onHide=null,this.onResizing=null,this.onResizerClick=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.layout,e)},t=["top","left","main","preview","right","bottom"];$.fn.w2layout=function(n){function i(e,t,n){var i=e.get(t);return null!==i&&"undefined"==typeof n&&(n=i.tabs),null===i||null===n?!1:($.isArray(n)&&(n={tabs:n}),$().w2destroy(e.name+"_"+t+"_tabs"),i.tabs=$().w2tabs($.extend({},n,{owner:e,name:e.name+"_"+t+"_tabs"})),i.show.tabs=!0,!0)}function r(e,t,n){var i=e.get(t);return null!==i&&"undefined"==typeof n&&(n=i.toolbar),null===i||null===n?!1:($.isArray(n)&&(n={items:n}),$().w2destroy(e.name+"_"+t+"_toolbar"),i.toolbar=$().w2toolbar($.extend({},n,{owner:e,name:e.name+"_"+t+"_toolbar"})),i.show.toolbar=!0,!0)}if("object"==typeof n||!n){if(!w2utils.checkName(n,"w2layout"))return;var o=n.panels||[],s=new e(n);$.extend(s,{handlers:[],panels:[]});for(var a=0,l=o.length;l>a;a++)s.panels[a]=$.extend(!0,{},e.prototype.panel,o[a]),($.isPlainObject(s.panels[a].tabs)||$.isArray(s.panels[a].tabs))&&i(s,o[a].type),($.isPlainObject(s.panels[a].toolbar)||$.isArray(s.panels[a].toolbar))&&r(s,o[a].type);for(var c in t)c=t[c],null===s.get(c)&&s.panels.push($.extend(!0,{},e.prototype.panel,{type:c,hidden:"main"!==c,size:50}));return $(this).length>0&&s.render($(this)[0]),w2ui[s.name]=s,s}if(w2ui[$(this).attr("name")]){var u=w2ui[$(this).attr("name")];return u[n].apply(u,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+n+" does not exist on jQuery.w2layout")},e.prototype={panel:{type:null,title:"",size:100,minSize:20,maxSize:!1,hidden:!1,resizable:!1,overflow:"auto",style:"",content:"",tabs:null,toolbar:null,width:null,height:null,show:{toolbar:!1,tabs:!1},onRefresh:null,onShow:null,onHide:null},html:function(e,t,n){return this.content(e,t,n)},content:function(e,t,n){var i=this,r=this.get(e);if("css"==e)return $("#layout_"+i.name+"_panel_css").html("<style>"+t+"</style>"),!0;if(null===r)return!1;if("undefined"==typeof t||null===t)return r.content;if(t instanceof jQuery)return console.log("ERROR: You can not pass jQuery object to w2layout.content() method"),!1;var o="#layout_"+this.name+"_panel_"+r.type,s=$(o+"> .w2ui-panel-content"),a=0;if(s.length>0&&($(o).scrollTop(0),a=$(s).position().top),""===r.content)r.content=t,this.refresh(e);else{if(r.content=t,!r.hidden&&null!==n&&""!==n&&"undefined"!=typeof n){var l=$(o+"> .w2ui-panel-content");l.after('<div class="w2ui-panel-content new-panel" style="'+l[0].style.cssText+'"></div>');var c=$(o+"> .w2ui-panel-content.new-panel");l.css("top",a),c.css("top",a),"object"==typeof t?(t.box=c[0],t.render()):c.html(t),w2utils.transition(l[0],c[0],n,function(){l.remove(),c.removeClass("new-panel"),c.css("overflow",r.overflow),i.resize(),-1!=window.navigator.userAgent.indexOf("MSIE")&&setTimeout(function(){i.resize()},100)})}this.refresh(e)}return i.resize(),-1!=window.navigator.userAgent.indexOf("MSIE")&&setTimeout(function(){i.resize()},100),!0},load:function(e,t,n,i){var r=this;return"css"==e?($.get(t,function(t,n,o){r.content(e,o.responseText),i&&i()}),!0):null!==this.get(e)?($.get(t,function(t,o,s){r.content(e,s.responseText,n),i&&i(),r.resize(),-1!=window.navigator.userAgent.indexOf("MSIE")&&setTimeout(function(){r.resize()},100)}),!0):!1},sizeTo:function(e,t){var n=this,i=n.get(e);return null===i?!1:($(n.box).find(" > div > .w2ui-panel").css({"-webkit-transition":".2s","-moz-transition":".2s","-ms-transition":".2s","-o-transition":".2s"}),setTimeout(function(){n.set(e,{size:t})},1),setTimeout(function(){$(n.box).find(" > div > .w2ui-panel").css({"-webkit-transition":"0s","-moz-transition":"0s","-ms-transition":"0s","-o-transition":"0s"}),n.resize()},500),!0)},show:function(e,t){var n=this,i=this.trigger({phase:"before",type:"show",target:e,object:this.get(e),immediate:t});if(i.isCancelled!==!0){var r=n.get(e);return null===r?!1:(r.hidden=!1,t===!0?($("#layout_"+n.name+"_panel_"+e).css({opacity:"1"}),r.resizable&&$("#layout_"+n.name+"_resizer_"+e).show(),n.trigger($.extend(i,{phase:"after"})),n.resize()):(r.resizable&&$("#layout_"+n.name+"_resizer_"+e).show(),$("#layout_"+n.name+"_panel_"+e).css({opacity:"0"}),$(n.box).find(" > div > .w2ui-panel").css({"-webkit-transition":".2s","-moz-transition":".2s","-ms-transition":".2s","-o-transition":".2s"}),setTimeout(function(){n.resize()},1),setTimeout(function(){$("#layout_"+n.name+"_panel_"+e).css({opacity:"1"})},250),setTimeout(function(){$(n.box).find(" > div > .w2ui-panel").css({"-webkit-transition":"0s","-moz-transition":"0s","-ms-transition":"0s","-o-transition":"0s"}),n.trigger($.extend(i,{phase:"after"})),n.resize()},500)),!0)}},hide:function(e,t){var n=this,i=this.trigger({phase:"before",type:"hide",target:e,object:this.get(e),immediate:t});if(i.isCancelled!==!0){var r=n.get(e);return null===r?!1:(r.hidden=!0,t===!0?($("#layout_"+n.name+"_panel_"+e).css({opacity:"0"}),$("#layout_"+n.name+"_resizer_"+e).hide(),n.trigger($.extend(i,{phase:"after"})),n.resize()):($("#layout_"+n.name+"_resizer_"+e).hide(),$(n.box).find(" > div > .w2ui-panel").css({"-webkit-transition":".2s","-moz-transition":".2s","-ms-transition":".2s","-o-transition":".2s"}),$("#layout_"+n.name+"_panel_"+e).css({opacity:"0"}),setTimeout(function(){n.resize()},1),setTimeout(function(){$(n.box).find(" > div > .w2ui-panel").css({"-webkit-transition":"0s","-moz-transition":"0s","-ms-transition":"0s","-o-transition":"0s"}),n.trigger($.extend(i,{phase:"after"})),n.resize()},500)),!0)}},toggle:function(e,t){var n=this.get(e);return null===n?!1:n.hidden?this.show(e,t):this.hide(e,t)},set:function(e,t){var n=this.get(e,!0);return null===n?!1:($.extend(this.panels[n],t),"undefined"!=typeof t.content&&this.refresh(e),this.resize(),!0)},get:function(e,t){for(var n in this.panels)if(this.panels[n].type==e)return t===!0?n:this.panels[n];return null},el:function(e){var t=$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-content");return 1!=t.length?null:t[0]},hideToolbar:function(e){var t=this.get(e);t&&(t.show.toolbar=!1,$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-toolbar").hide(),this.resize())},showToolbar:function(e){var t=this.get(e);t&&(t.show.toolbar=!0,$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-toolbar").show(),this.resize())},toggleToolbar:function(e){var t=this.get(e);t&&(t.show.toolbar?this.hideToolbar(e):this.showToolbar(e))},hideTabs:function(e){var t=this.get(e);t&&(t.show.tabs=!1,$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-tabs").hide(),this.resize())},showTabs:function(e){var t=this.get(e);t&&(t.show.tabs=!0,$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-tabs").show(),this.resize())},toggleTabs:function(e){var t=this.get(e);t&&(t.show.tabs?this.hideTabs(e):this.showTabs(e))},render:function(e){function n(){s.tmp.events={resize:function(e){w2ui[s.name].resize()},resizeStart:i,mouseMove:o,mouseUp:r},$(window).on("resize",s.tmp.events.resize)}function i(e,n){if(s.box){n||(n=window.event),window.addEventListener||window.document.attachEvent("onselectstart",function(){return!1}),$(document).off("mousemove",s.tmp.events.mouseMove).on("mousemove",s.tmp.events.mouseMove),$(document).off("mouseup",s.tmp.events.mouseUp).on("mouseup",s.tmp.events.mouseUp),s.tmp.resize={type:e,x:n.screenX,y:n.screenY,diff_x:0,diff_y:0,value:0};for(var i in t)i=t[i],s.lock(i,{opacity:0});("left"==e||"right"==e)&&(s.tmp.resize.value=parseInt($("#layout_"+s.name+"_resizer_"+e)[0].style.left)),("top"==e||"preview"==e||"bottom"==e)&&(s.tmp.resize.value=parseInt($("#layout_"+s.name+"_resizer_"+e)[0].style.top))}}function r(e){if(s.box&&(e||(e=window.event),window.addEventListener||window.document.attachEvent("onselectstart",function(){return!1}),$(document).off("mousemove",s.tmp.events.mouseMove),$(document).off("mouseup",s.tmp.events.mouseUp),"undefined"!=typeof s.tmp.resize)){for(var n in t)s.unlock(t[n]);if(0!==s.tmp.diff_x||0!==s.tmp.resize.diff_y){var i,r,o=s.get("top"),a=s.get("bottom"),l=s.get(s.tmp.resize.type),c=parseInt($(s.box).height()),u=parseInt($(s.box).width()),d=String(l.size);switch(s.tmp.resize.type){case"top":i=parseInt(l.sizeCalculated)+s.tmp.resize.diff_y,r=0;break;case"bottom":i=parseInt(l.sizeCalculated)-s.tmp.resize.diff_y,r=0;break;case"preview":i=parseInt(l.sizeCalculated)-s.tmp.resize.diff_y,r=(o&&!o.hidden?o.sizeCalculated:0)+(a&&!a.hidden?a.sizeCalculated:0);break;case"left":i=parseInt(l.sizeCalculated)+s.tmp.resize.diff_x,r=0;break;case"right":i=parseInt(l.sizeCalculated)-s.tmp.resize.diff_x,r=0}"%"==d.substr(d.length-1)?l.size=Math.floor(100*i/("left"==l.type||"right"==l.type?u:c-r)*100)/100+"%":l.size=i,s.resize()}$("#layout_"+s.name+"_resizer_"+s.tmp.resize.type).removeClass("active"),delete s.tmp.resize}}function o(e){if(s.box&&(e||(e=window.event),"undefined"!=typeof s.tmp.resize)){var t=s.get(s.tmp.resize.type),n=s.tmp.resize,i=s.trigger({phase:"before",type:"resizing",target:s.name,object:t,originalEvent:e,panel:n?n.type:"all",diff_x:n?n.diff_x:0,diff_y:n?n.diff_y:0});if(i.isCancelled!==!0){var r=$("#layout_"+s.name+"_resizer_"+n.type),o=e.screenX-n.x,a=e.screenY-n.y,l=s.get("main");switch(r.hasClass("active")||r.addClass("active"),n.type){case"left":t.minSize-o>t.width&&(o=t.minSize-t.width),t.maxSize&&t.width+o>t.maxSize&&(o=t.maxSize-t.width),l.minSize+o>l.width&&(o=l.width-l.minSize);break;case"right":t.minSize+o>t.width&&(o=t.width-t.minSize),t.maxSize&&t.width-o>t.maxSize&&(o=t.width-t.maxSize),l.minSize-o>l.width&&(o=l.minSize-l.width);break;case"top":t.minSize-a>t.height&&(a=t.minSize-t.height),t.maxSize&&t.height+a>t.maxSize&&(a=t.maxSize-t.height),l.minSize+a>l.height&&(a=l.height-l.minSize);break;case"preview":case"bottom":t.minSize+a>t.height&&(a=t.height-t.minSize),t.maxSize&&t.height-a>t.maxSize&&(a=t.height-t.maxSize),l.minSize-a>l.height&&(a=l.minSize-l.height)}switch(n.diff_x=o,n.diff_y=a,n.type){case"top":case"preview":case"bottom":n.diff_x=0,r.length>0&&(r[0].style.top=n.value+n.diff_y+"px");break;case"left":case"right":n.diff_y=0,r.length>0&&(r[0].style.left=n.value+n.diff_x+"px")}s.trigger($.extend(i,{phase:"after"}))}}}var s=this,a=(new Date).getTime(),l=s.trigger({phase:"before",type:"render",target:s.name,box:e});if(l.isCancelled!==!0){if("undefined"!=typeof e&&null!==e&&($(s.box).find("#layout_"+s.name+"_panel_main").length>0&&$(s.box).removeAttr("name").removeClass("w2ui-layout").html(""),s.box=e),!s.box)return!1;$(s.box).attr("name",s.name).addClass("w2ui-layout").html("<div></div>"),$(s.box).length>0&&($(s.box)[0].style.cssText+=s.style);for(var c in t){c=t[c];var u=(s.get(c),'<div id="layout_'+s.name+"_panel_"+c+'" class="w2ui-panel">    <div class="w2ui-panel-title"></div>    <div class="w2ui-panel-tabs"></div>    <div class="w2ui-panel-toolbar"></div>    <div class="w2ui-panel-content"></div></div><div id="layout_'+s.name+"_resizer_"+c+'" class="w2ui-resizer"></div>');$(s.box).find(" > div").append(u)}return $(s.box).find(" > div").append('<div id="layout_'+s.name+'_panel_css" style="position: absolute; top: 10000px;"></div'),s.refresh(),s.trigger($.extend(l,{phase:"after"})),setTimeout(function(){n(),s.resize()},0),(new Date).getTime()-a}},refresh:function(e){var t=this;"undefined"==typeof e&&(e=null);var n=(new Date).getTime(),i=t.trigger({phase:"before",type:"refresh",target:"undefined"!=typeof e?e:t.name,object:t.get(e)});if(i.isCancelled!==!0){if("string"==typeof e){var r=t.get(e);if(null===r)return;var o="#layout_"+t.name+"_panel_"+r.type,s="#layout_"+t.name+"_resizer_"+r.type;$(o).css({display:r.hidden?"none":"block"}),r.resizable?$(s).show():$(s).hide(),"object"==typeof r.content&&"function"==typeof r.content.render?(r.content.box=$(o+"> .w2ui-panel-content")[0],setTimeout(function(){$(o+"> .w2ui-panel-content").length>0&&($(o+"> .w2ui-panel-content").removeClass().removeAttr("name").off("selectstart").addClass("w2ui-panel-content").css("overflow",r.overflow)[0].style.cssText+=";"+r.style),r.content.render()},1)):$(o+"> .w2ui-panel-content").length>0&&($(o+"> .w2ui-panel-content").removeClass().removeAttr("name").off("selectstart").addClass("w2ui-panel-content").html(r.content).css("overflow",r.overflow)[0].style.cssText+=";"+r.style);var a=$(t.box).find(o+"> .w2ui-panel-tabs");r.show.tabs?0===a.find("[name="+r.tabs.name+"]").length&&null!==r.tabs?a.w2render(r.tabs):r.tabs.refresh():a.html("").removeClass("w2ui-tabs").hide(),a=$(t.box).find(o+"> .w2ui-panel-toolbar"),r.show.toolbar?0===a.find("[name="+r.toolbar.name+"]").length&&null!==r.toolbar?a.w2render(r.toolbar):r.toolbar.refresh():a.html("").removeClass("w2ui-toolbar").hide(),a=$(t.box).find(o+"> .w2ui-panel-title"),r.title?a.html(r.title).show():a.html("").hide()}else{if(0==$("#layout_"+t.name+"_panel_main").length)return void t.render();t.resize();for(var l in this.panels)t.refresh(this.panels[l].type)}return t.trigger($.extend(i,{phase:"after"})),(new Date).getTime()-n}},resize:function(){if(!this.box)return!1;var e=(new Date).getTime(),n=this.tmp.resize,i=this.trigger({phase:"before",type:"resize",target:this.name,panel:n?n.type:"all",diff_x:n?n.diff_x:0,diff_y:n?n.diff_y:0});if(i.isCancelled!==!0){this.padding<0&&(this.padding=0);var r=parseInt($(this.box).width()),o=parseInt($(this.box).height());$(this.box).find(" > div").css({width:r+"px",height:o+"px"});var s,a,l,c,u,d=this,h=this.get("main"),f=this.get("preview"),p=this.get("left"),m=this.get("right"),g=this.get("top"),v=this.get("bottom"),y=null!==f&&f.hidden!==!0?!0:!1,b=null!==p&&p.hidden!==!0?!0:!1,w=null!==m&&m.hidden!==!0?!0:!1,x=null!==g&&g.hidden!==!0?!0:!1,k=null!==v&&v.hidden!==!0?!0:!1;for(var _ in t)if(_=t[_],"main"!==_){var n=this.get(_);if(n){var C=String(n.size||0);if("%"==C.substr(C.length-1)){var S=o;"preview"==n.type&&(S=S-(g&&!g.hidden?g.sizeCalculated:0)-(v&&!v.hidden?v.sizeCalculated:0)),n.sizeCalculated=parseInt(("left"==n.type||"right"==n.type?r:S)*parseFloat(n.size)/100)}else n.sizeCalculated=parseInt(n.size);n.sizeCalculated=Math.max(n.sizeCalculated,parseInt(n.minSize))}}null!==g&&g.hidden!==!0?(s=0,a=0,l=r,c=g.sizeCalculated,$("#layout_"+this.name+"_panel_top").css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px"}).show(),g.width=l,g.height=c,g.resizable&&(a=g.sizeCalculated-(0===this.padding?this.resizer:0),c=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_top").show().css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px",cursor:"ns-resize"}).off("mousedown").on("mousedown",function(e){var t=d.trigger({phase:"before",type:"resizerClick",target:"top",originalEvent:e});if(t.isCancelled!==!0)return w2ui[d.name].tmp.events.resizeStart("top",e),d.trigger($.extend(t,{phase:"after"})),!1}))):$("#layout_"+this.name+"_panel_top").hide(),null!==p&&p.hidden!==!0?(s=0,a=0+(x?g.sizeCalculated+this.padding:0),l=p.sizeCalculated,c=o-(x?g.sizeCalculated+this.padding:0)-(k?v.sizeCalculated+this.padding:0),u=$("#layout_"+this.name+"_panel_left"),-1!=window.navigator.userAgent.indexOf("MSIE")&&u.length>0&&u[0].clientHeight<u[0].scrollHeight&&(l+=17),u.css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px"}).show(),p.width=l,p.height=c,p.resizable&&(s=p.sizeCalculated-(0===this.padding?this.resizer:0),l=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_left").show().css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px",cursor:"ew-resize"}).off("mousedown").on("mousedown",function(e){var t=d.trigger({phase:"before",type:"resizerClick",target:"left",originalEvent:e});if(t.isCancelled!==!0)return w2ui[d.name].tmp.events.resizeStart("left",e),d.trigger($.extend(t,{phase:"after"})),!1}))):($("#layout_"+this.name+"_panel_left").hide(),$("#layout_"+this.name+"_resizer_left").hide()),null!==m&&m.hidden!==!0?(s=r-m.sizeCalculated,a=0+(x?g.sizeCalculated+this.padding:0),l=m.sizeCalculated,c=o-(x?g.sizeCalculated+this.padding:0)-(k?v.sizeCalculated+this.padding:0),$("#layout_"+this.name+"_panel_right").css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px"}).show(),m.width=l,m.height=c,m.resizable&&(s-=this.padding,l=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_right").show().css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px",cursor:"ew-resize"}).off("mousedown").on("mousedown",function(e){var t=d.trigger({phase:"before",type:"resizerClick",target:"right",originalEvent:e});if(t.isCancelled!==!0)return w2ui[d.name].tmp.events.resizeStart("right",e),
d.trigger($.extend(t,{phase:"after"})),!1}))):$("#layout_"+this.name+"_panel_right").hide(),null!==v&&v.hidden!==!0?(s=0,a=o-v.sizeCalculated,l=r,c=v.sizeCalculated,$("#layout_"+this.name+"_panel_bottom").css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px"}).show(),v.width=l,v.height=c,v.resizable&&(a-=0===this.padding?0:this.padding,c=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_bottom").show().css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px",cursor:"ns-resize"}).off("mousedown").on("mousedown",function(e){var t=d.trigger({phase:"before",type:"resizerClick",target:"bottom",originalEvent:e});if(t.isCancelled!==!0)return w2ui[d.name].tmp.events.resizeStart("bottom",e),d.trigger($.extend(t,{phase:"after"})),!1}))):$("#layout_"+this.name+"_panel_bottom").hide(),s=0+(b?p.sizeCalculated+this.padding:0),a=0+(x?g.sizeCalculated+this.padding:0),l=r-(b?p.sizeCalculated+this.padding:0)-(w?m.sizeCalculated+this.padding:0),c=o-(x?g.sizeCalculated+this.padding:0)-(k?v.sizeCalculated+this.padding:0)-(y?f.sizeCalculated+this.padding:0),u=$("#layout_"+this.name+"_panel_main"),-1!=window.navigator.userAgent.indexOf("MSIE")&&u.length>0&&u[0].clientHeight<u[0].scrollHeight&&(l+=17),u.css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px"}),h.width=l,h.height=c,null!==f&&f.hidden!==!0?(s=0+(b?p.sizeCalculated+this.padding:0),a=o-(k?v.sizeCalculated+this.padding:0)-f.sizeCalculated,l=r-(b?p.sizeCalculated+this.padding:0)-(w?m.sizeCalculated+this.padding:0),c=f.sizeCalculated,u=$("#layout_"+this.name+"_panel_preview"),-1!=window.navigator.userAgent.indexOf("MSIE")&&u.length>0&&u[0].clientHeight<u[0].scrollHeight&&(l+=17),u.css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px"}).show(),f.width=l,f.height=c,f.resizable&&(a-=0===this.padding?0:this.padding,c=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_preview").show().css({display:"block",left:s+"px",top:a+"px",width:l+"px",height:c+"px",cursor:"ns-resize"}).off("mousedown").on("mousedown",function(e){var t=d.trigger({phase:"before",type:"resizerClick",target:"preview",originalEvent:e});if(t.isCancelled!==!0)return w2ui[d.name].tmp.events.resizeStart("preview",e),d.trigger($.extend(t,{phase:"after"})),!1}))):$("#layout_"+this.name+"_panel_preview").hide();for(var T in t){T=t[T];var j=this.get(T),D="#layout_"+this.name+"_panel_"+T+" > .w2ui-panel-",M=0;j&&(j.title&&(M+=w2utils.getSize($(D+"title").css({top:M+"px",display:"block"}),"height")),j.show.tabs&&(null!==j.tabs&&w2ui[this.name+"_"+T+"_tabs"]&&w2ui[this.name+"_"+T+"_tabs"].resize(),M+=w2utils.getSize($(D+"tabs").css({top:M+"px",display:"block"}),"height")),j.show.toolbar&&(null!==j.toolbar&&w2ui[this.name+"_"+T+"_toolbar"]&&w2ui[this.name+"_"+T+"_toolbar"].resize(),M+=w2utils.getSize($(D+"toolbar").css({top:M+"px",display:"block"}),"height"))),$(D+"content").css({display:"block"}).css({top:M+"px"})}return clearTimeout(this._resize_timer),this._resize_timer=setTimeout(function(){for(var e in w2ui)if("function"==typeof w2ui[e].resize){"undefined"==w2ui[e].panels&&w2ui[e].resize();var t=$(w2ui[e].box).parents(".w2ui-layout");t.length>0&&t.attr("name")==d.name&&w2ui[e].resize()}},100),this.trigger($.extend(i,{phase:"after"})),(new Date).getTime()-e}},destroy:function(){var e=this.trigger({phase:"before",type:"destroy",target:this.name});if(e.isCancelled!==!0)return"undefined"==typeof w2ui[this.name]?!1:($(this.box).find("#layout_"+this.name+"_panel_main").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-layout").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})),this.tmp.events&&this.tmp.events.resize&&$(window).off("resize",this.tmp.events.resize),!0)},lock:function(e,n,i){if(-1==t.indexOf(e))return void console.log("ERROR: First parameter needs to be the a valid panel name.");var r=Array.prototype.slice.call(arguments,0);r[0]="#layout_"+this.name+"_panel_"+e,w2utils.lock.apply(window,r)},unlock:function(e){if(-1==t.indexOf(e))return void console.log("ERROR: First parameter needs to be the a valid panel name.");var n="#layout_"+this.name+"_panel_"+e;w2utils.unlock(n)}},$.extend(e.prototype,w2utils.event),w2obj.layout=e}();var w2popup={};!function(){$.fn.w2popup=function(e,t){"undefined"==typeof e&&(t={},e="open"),$.isPlainObject(e)&&(t=e,e="open"),e=e.toLowerCase(),"load"===e&&"string"==typeof t&&(t=$.extend({url:t},arguments.length>2?arguments[2]:{})),"open"===e&&null!=t.url&&(e="load"),t=t||{};var n={};return $(this).length>0&&($(this).find("div[rel=title], div[rel=body], div[rel=buttons]").length>0?($(this).find("div[rel=title]").length>0&&(n.title=$(this).find("div[rel=title]").html()),$(this).find("div[rel=body]").length>0&&(n.body=$(this).find("div[rel=body]").html(),n.style=$(this).find("div[rel=body]")[0].style.cssText),$(this).find("div[rel=buttons]").length>0&&(n.buttons=$(this).find("div[rel=buttons]").html())):(n.title="&nbsp;",n.body=$(this).html()),0!=parseInt($(this).css("width"))&&(n.width=parseInt($(this).css("width"))),0!=parseInt($(this).css("height"))&&(n.height=parseInt($(this).css("height")))),w2popup[e]($.extend({},n,t))},w2popup={defaults:{title:"",body:"",buttons:"",style:"",color:"#000",opacity:.4,speed:.3,modal:!1,maximized:!1,keyboard:!0,width:500,height:300,showClose:!0,showMax:!1,transition:null},status:"closed",handlers:[],onOpen:null,onClose:null,onMax:null,onMin:null,onToggle:null,onKeydown:null,open:function(e){function t(e){return e||(e=window.event),window.addEventListener||window.document.attachEvent("onselectstart",function(){return!1}),w2popup.status="moving",g.resizing=!0,g.x=e.screenX,g.y=e.screenY,g.pos_x=$("#w2ui-popup").position().left,g.pos_y=$("#w2ui-popup").position().top,w2popup.lock({opacity:0}),$(document).on("mousemove",g.mvMove),$(document).on("mouseup",g.mvStop),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?void e.preventDefault():!1}function n(e){1==g.resizing&&(e||(e=window.event),g.div_x=e.screenX-g.x,g.div_y=e.screenY-g.y,$("#w2ui-popup").css({"-webkit-transition":"none","-webkit-transform":"translate3d("+g.div_x+"px, "+g.div_y+"px, 0px)","-moz-transition":"none","-moz-transform":"translate("+g.div_x+"px, "+g.div_y+"px)","-ms-transition":"none","-ms-transform":"translate("+g.div_x+"px, "+g.div_y+"px)","-o-transition":"none","-o-transform":"translate("+g.div_x+"px, "+g.div_y+"px)"}))}function i(e){1==g.resizing&&(e||(e=window.event),w2popup.status="open",g.div_x=e.screenX-g.x,g.div_y=e.screenY-g.y,$("#w2ui-popup").css({left:g.pos_x+g.div_x+"px",top:g.pos_y+g.div_y+"px","-webkit-transition":"none","-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transition":"none","-moz-transform":"translate(0px, 0px)","-ms-transition":"none","-ms-transform":"translate(0px, 0px)","-o-transition":"none","-o-transform":"translate(0px, 0px)"}),g.resizing=!1,$(document).off("mousemove",g.mvMove),$(document).off("mouseup",g.mvStop),w2popup.unlock())}var r=this;if("closing"==w2popup.status)return void setTimeout(function(){r.open.call(r,e)},100);var o=$("#w2ui-popup").data("options"),e=$.extend({},this.defaults,o,{title:"",body:"",buttons:""},e,{maximized:!1});if(setTimeout(function(){$("#w2ui-popup").data("options",e)},100),0==$("#w2ui-popup").length&&(w2popup.handlers=[],w2popup.onMax=null,w2popup.onMin=null,w2popup.onToggle=null,w2popup.onOpen=null,w2popup.onClose=null,w2popup.onKeydown=null),e.onOpen&&(w2popup.onOpen=e.onOpen),e.onClose&&(w2popup.onClose=e.onClose),e.onMax&&(w2popup.onMax=e.onMax),e.onMin&&(w2popup.onMin=e.onMin),e.onToggle&&(w2popup.onToggle=e.onToggle),e.onKeydown&&(w2popup.onKeydown=e.onKeydown),void 0==window.innerHeight){var s=document.documentElement.offsetWidth,a=document.documentElement.offsetHeight;"IE7"===w2utils.engine&&(s+=21,a+=4)}else var s=window.innerWidth,a=window.innerHeight;parseInt(s)-10<parseInt(e.width)&&(e.width=parseInt(s)-10),parseInt(a)-10<parseInt(e.height)&&(e.height=parseInt(a)-10);var l=parseInt((parseInt(a)-parseInt(e.height))/2*.6),c=parseInt((parseInt(s)-parseInt(e.width))/2);if(0==$("#w2ui-popup").length){var u=this.trigger({phase:"before",type:"open",target:"popup",options:e,present:!1});if(u.isCancelled===!0)return;w2popup.status="opening",w2popup.lockScreen(e);var d="";e.showClose&&(d+='<div class="w2ui-msg-button w2ui-msg-close" onmousedown="event.stopPropagation()" onclick="w2popup.close()">Close</div>'),e.showMax&&(d+='<div class="w2ui-msg-button w2ui-msg-max" onmousedown="event.stopPropagation()" onclick="w2popup.toggle()">Max</div>');var h='<div id="w2ui-popup" class="w2ui-popup" style="opacity: 0; left: '+c+"px; top: "+l+"px;     width: "+parseInt(e.width)+"px; height: "+parseInt(e.height)+'px;     -webkit-transform: scale(0.8); -moz-transform: scale(0.8); -ms-transform: scale(0.8); -o-transform: scale(0.8); ">   <div class="w2ui-msg-title" style="'+(""==e.title?"display: none":"")+'">'+d+e.title+'</div>   <div class="w2ui-box1" style="'+(""==e.title?"top: 0px !important;":"")+(""==e.buttons?"bottom: 0px !important;":"")+'">       <div class="w2ui-msg-body'+(""!=!e.title?" w2ui-msg-no-title":"")+(""!=!e.buttons?" w2ui-msg-no-buttons":"")+'" style="'+e.style+'">'+e.body+'</div>   </div>   <div class="w2ui-box2" style="'+(""==e.title?"top: 0px !important;":"")+(""==e.buttons?"bottom: 0px !important;":"")+'">       <div class="w2ui-msg-body'+(""!=!e.title?" w2ui-msg-no-title":"")+(""!=!e.buttons?" w2ui-msg-no-buttons":"")+'" style="'+e.style+'"></div>       </div>   <div class="w2ui-msg-buttons" style="'+(""==e.buttons?"display: none":"")+'">'+e.buttons+"</div></div>";$("body").append(h),setTimeout(function(){$("#w2ui-popup .w2ui-box2").hide(),$("#w2ui-popup").css({"-webkit-transition":e.speed+"s opacity, "+e.speed+"s -webkit-transform","-webkit-transform":"scale(1)","-moz-transition":e.speed+"s opacity, "+e.speed+"s -moz-transform","-moz-transform":"scale(1)","-ms-transition":e.speed+"s opacity, "+e.speed+"s -ms-transform","-ms-transform":"scale(1)","-o-transition":e.speed+"s opacity, "+e.speed+"s -o-transform","-o-transform":"scale(1)",opacity:"1"})},1),setTimeout(function(){$("#w2ui-popup").css({"-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":""}),w2popup.status="open",setTimeout(function(){r.trigger($.extend(u,{phase:"after"}))},100)},1e3*e.speed)}else{var u=this.trigger({phase:"before",type:"open",target:"popup",options:e,present:!0});if(u.isCancelled===!0)return;w2popup.status="opening",("undefined"==typeof o||o.width!=e.width||o.height!=e.height)&&w2popup.resize(e.width,e.height),"undefined"!=typeof o&&(e.prevSize=e.width+":"+e.height,e.maximized=o.maximized);var f=$("#w2ui-popup .w2ui-box2 > .w2ui-msg-body").html(e.body);f.length>0&&(f[0].style.cssText=e.style),""!=e.buttons?($("#w2ui-popup .w2ui-msg-buttons").show().html(e.buttons),$("#w2ui-popup .w2ui-msg-body").removeClass("w2ui-msg-no-buttons"),$("#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2").css("bottom","")):($("#w2ui-popup .w2ui-msg-buttons").hide().html(""),$("#w2ui-popup .w2ui-msg-body").addClass("w2ui-msg-no-buttons"),$("#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2").css("bottom","0px")),""!=e.title?($("#w2ui-popup .w2ui-msg-title").show().html((e.showClose?'<div class="w2ui-msg-button w2ui-msg-close" onmousedown="event.stopPropagation()" onclick="w2popup.close()">Close</div>':"")+(e.showMax?'<div class="w2ui-msg-button w2ui-msg-max" onmousedown="event.stopPropagation()" onclick="w2popup.toggle()">Max</div>':"")+e.title),$("#w2ui-popup .w2ui-msg-body").removeClass("w2ui-msg-no-title"),$("#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2").css("top","")):($("#w2ui-popup .w2ui-msg-title").hide().html(""),$("#w2ui-popup .w2ui-msg-body").addClass("w2ui-msg-no-title"),$("#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2").css("top","0px"));var p=$("#w2ui-popup .w2ui-box1")[0],m=$("#w2ui-popup .w2ui-box2")[0];w2utils.transition(p,m,e.transition),m.className="w2ui-box1",p.className="w2ui-box2",$(m).addClass("w2ui-current-box"),$("#w2ui-popup").data("prev-size",null),setTimeout(function(){w2popup.status="open",r.trigger($.extend(u,{phase:"after"}))},100)}e._last_w2ui_name=w2utils.keyboard.active(),w2utils.keyboard.active(null),e.keyboard&&$(document).on("keydown",this.keydown);var g={resizing:!1,mvMove:n,mvStop:i};return $("#w2ui-popup .w2ui-msg-title").on("mousedown",function(e){t(e)}),this},keydown:function(e){var t=$("#w2ui-popup").data("options");if(t&&t.keyboard){var n=w2popup.trigger({phase:"before",type:"keydown",target:"popup",options:t,originalEvent:e});if(n.isCancelled!==!0){switch(e.keyCode){case 27:e.preventDefault(),$("#w2ui-popup .w2ui-popup-message").length>0?w2popup.message():w2popup.close()}w2popup.trigger($.extend(n,{phase:"after"}))}}},close:function(e){var t=this,e=$.extend({},$("#w2ui-popup").data("options"),e);if(0!=$("#w2ui-popup").length){var n=this.trigger({phase:"before",type:"close",target:"popup",options:e});n.isCancelled!==!0&&(w2popup.status="closing",$("#w2ui-popup").css({"-webkit-transition":e.speed+"s opacity, "+e.speed+"s -webkit-transform","-webkit-transform":"scale(0.9)","-moz-transition":e.speed+"s opacity, "+e.speed+"s -moz-transform","-moz-transform":"scale(0.9)","-ms-transition":e.speed+"s opacity, "+e.speed+"s -ms-transform","-ms-transform":"scale(0.9)","-o-transition":e.speed+"s opacity, "+e.speed+"s -o-transform","-o-transform":"scale(0.9)",opacity:"0"}),w2popup.unlockScreen(e),setTimeout(function(){$("#w2ui-popup").remove(),w2popup.status="closed",t.trigger($.extend(n,{phase:"after"}))},1e3*e.speed),w2utils.keyboard.active(e._last_w2ui_name),e.keyboard&&$(document).off("keydown",this.keydown))}},toggle:function(){var e=this,t=$("#w2ui-popup").data("options"),n=this.trigger({phase:"before",type:"toggle",target:"popup",options:t});n.isCancelled!==!0&&(t.maximized===!0?w2popup.min():w2popup.max(),setTimeout(function(){e.trigger($.extend(n,{phase:"after"}))},1e3*t.speed+50))},max:function(){var e=this,t=$("#w2ui-popup").data("options");if(t.maximized!==!0){var n=this.trigger({phase:"before",type:"max",target:"popup",options:t});n.isCancelled!==!0&&(w2popup.status="resizing",t.prevSize=$("#w2ui-popup").css("width")+":"+$("#w2ui-popup").css("height"),w2popup.resize(1e4,1e4,function(){w2popup.status="open",t.maximized=!0,e.trigger($.extend(n,{phase:"after"}))}))}},min:function(){var e=this,t=$("#w2ui-popup").data("options");if(t.maximized===!0){var n=t.prevSize.split(":"),i=this.trigger({phase:"before",type:"min",target:"popup",options:t});i.isCancelled!==!0&&(w2popup.status="resizing",w2popup.resize(n[0],n[1],function(){w2popup.status="open",t.maximized=!1,t.prevSize=null,e.trigger($.extend(i,{phase:"after"}))}))}},get:function(){return $("#w2ui-popup").data("options")},set:function(e){w2popup.open(e)},clear:function(){$("#w2ui-popup .w2ui-msg-title").html(""),$("#w2ui-popup .w2ui-msg-body").html(""),$("#w2ui-popup .w2ui-msg-buttons").html("")},reset:function(){w2popup.open(w2popup.defaults)},load:function(e){function t(t,n){if(delete e.url,$("body").append('<div id="w2ui-tmp" style="display: none">'+t+"</div>"),"undefined"!=typeof n&&$("#w2ui-tmp #"+n).length>0?$("#w2ui-tmp #"+n).w2popup(e):$("#w2ui-tmp > div").w2popup(e),$("#w2ui-tmp > style").length>0){var i=$("<div>").append($("#w2ui-tmp > style").clone()).html();0==$("#w2ui-popup #div-style").length&&$("#w2ui-popup").append('<div id="div-style" style="position: absolute; left: -100; width: 1px"></div>'),$("#w2ui-popup #div-style").html(i)}$("#w2ui-tmp").remove()}if(w2popup.status="loading","undefined"==String(e.url))return void console.log("ERROR: The url parameter is empty.");var n=String(e.url).split("#"),i=n[0],r=n[1];"undefined"==String(e)&&(e={});var o=$("#w2ui-popup").data(i);"undefined"!=typeof o&&null!=o?t(o,r):$.get(i,function(e,n,o){t(o.responseText,r),$("#w2ui-popup").data(i,o.responseText)})},message:function(e){$().w2tag(),e||(e={width:200,height:100}),parseInt(e.width)<10&&(e.width=10),parseInt(e.height)<10&&(e.height=10),"undefined"==typeof e.hideOnClick&&(e.hideOnClick=!1);var t=$("#w2ui-popup").data("options")||{};("undefined"==typeof e.width||e.width>t.width-10)&&(e.width=t.width-10),("undefined"==typeof e.height||e.height>t.height-40)&&(e.height=t.height-40);var n=$("#w2ui-popup .w2ui-msg-title"),i=parseInt($("#w2ui-popup").width()),r=$("#w2ui-popup .w2ui-popup-message").length;if(""==$.trim(e.html)){$("#w2ui-popup #w2ui-message"+(r-1)).css("z-Index",250);var e=$("#w2ui-popup #w2ui-message"+(r-1)).data("options")||{};$("#w2ui-popup #w2ui-message"+(r-1)).remove(),"function"==typeof e.onClose&&e.onClose(),1==r?w2popup.unlock():$("#w2ui-popup #w2ui-message"+(r-2)).show()}else{$("#w2ui-popup .w2ui-popup-message").hide(),$("#w2ui-popup .w2ui-box1").before('<div id="w2ui-message'+r+'" class="w2ui-popup-message" style="display: none; '+(0==n.length?"top: 0px;":"top: "+w2utils.getSize(n,"height")+"px;")+("undefined"!=typeof e.width?"width: "+e.width+"px; left: "+(i-e.width)/2+"px;":"left: 10px; right: 10px;")+("undefined"!=typeof e.height?"height: "+e.height+"px;":"bottom: 6px;")+'-webkit-transition: .3s; -moz-transition: .3s; -ms-transition: .3s; -o-transition: .3s;"'+(e.hideOnClick===!0?'onclick="w2popup.message();"':"")+"></div>"),$("#w2ui-popup #w2ui-message"+r).data("options",e);var o=$("#w2ui-popup #w2ui-message"+r).css("display");$("#w2ui-popup #w2ui-message"+r).css({"-webkit-transform":"none"==o?"translateY(-"+e.height+"px)":"translateY(0px)","-moz-transform":"none"==o?"translateY(-"+e.height+"px)":"translateY(0px)","-ms-transform":"none"==o?"translateY(-"+e.height+"px)":"translateY(0px)","-o-transform":"none"==o?"translateY(-"+e.height+"px)":"translateY(0px)"}),"none"==o&&($("#w2ui-popup #w2ui-message"+r).show().html(e.html),setTimeout(function(){$("#w2ui-popup #w2ui-message"+r).css({"-webkit-transform":"none"==o?"translateY(0px)":"translateY(-"+e.height+"px)","-moz-transform":"none"==o?"translateY(0px)":"translateY(-"+e.height+"px)","-ms-transform":"none"==o?"translateY(0px)":"translateY(-"+e.height+"px)","-o-transform":"none"==o?"translateY(0px)":"translateY(-"+e.height+"px)"})},1),setTimeout(function(){$("#w2ui-popup #w2ui-message"+r).css({"-webkit-transition":"0s","-moz-transition":"0s","-ms-transition":"0s","-o-transition":"0s","z-Index":1500}),0==r&&w2popup.lock(),"function"==typeof e.onOpen&&e.onOpen()},300))}},lock:function(e,t){var n=Array.prototype.slice.call(arguments,0);n.unshift($("#w2ui-popup")),w2utils.lock.apply(window,n)},unlock:function(){w2utils.unlock($("#w2ui-popup"))},lockScreen:function(e){return $("#w2ui-lock").length>0?!1:("undefined"==typeof e&&(e=$("#w2ui-popup").data("options")),"undefined"==typeof e&&(e={}),e=$.extend({},w2popup.defaults,e),$("body").append('<div id="w2ui-lock"     onmousewheel="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true; if (event.preventDefault) event.preventDefault(); else return false;"    style="position: '+("IE5"==w2utils.engine?"absolute":"fixed")+"; z-Index: 1199; left: 0px; top: 0px;            padding: 0px; margin: 0px; background-color: "+e.color+'; width: 100%; height: 100%; opacity: 0;"></div>'),setTimeout(function(){$("#w2ui-lock").css({"-webkit-transition":e.speed+"s opacity","-moz-transition":e.speed+"s opacity","-ms-transition":e.speed+"s opacity","-o-transition":e.speed+"s opacity",opacity:e.opacity})},1),1==e.modal?($("#w2ui-lock").on("mousedown",function(){$("#w2ui-lock").css({"-webkit-transition":".1s","-moz-transition":".1s","-ms-transition":".1s","-o-transition":".1s",opacity:"0.6"})}),$("#w2ui-lock").on("mouseup",function(){setTimeout(function(){$("#w2ui-lock").css({"-webkit-transition":".1s","-moz-transition":".1s","-ms-transition":".1s","-o-transition":".1s",opacity:e.opacity})},100)})):$("#w2ui-lock").on("mouseup",function(){w2popup.close()}),!0)},unlockScreen:function(e){return 0==$("#w2ui-lock").length?!1:("undefined"==typeof e&&(e=$("#w2ui-popup").data("options")),"undefined"==typeof e&&(e={}),e=$.extend({},w2popup.defaults,e),$("#w2ui-lock").css({"-webkit-transition":e.speed+"s opacity","-moz-transition":e.speed+"s opacity","-ms-transition":e.speed+"s opacity","-o-transition":e.speed+"s opacity",opacity:0}),setTimeout(function(){$("#w2ui-lock").remove()},1e3*e.speed),!0)},resize:function(e,t,n){var i=$("#w2ui-popup").data("options");parseInt($(window).width())-10<parseInt(e)&&(e=parseInt($(window).width())-10),parseInt($(window).height())-10<parseInt(t)&&(t=parseInt($(window).height())-10);var r=(parseInt($(window).height())-parseInt(t))/2*.8,o=(parseInt($(window).width())-parseInt(e))/2;$("#w2ui-popup").css({"-webkit-transition":i.speed+"s width, "+i.speed+"s height, "+i.speed+"s left, "+i.speed+"s top","-moz-transition":i.speed+"s width, "+i.speed+"s height, "+i.speed+"s left, "+i.speed+"s top","-ms-transition":i.speed+"s width, "+i.speed+"s height, "+i.speed+"s left, "+i.speed+"s top","-o-transition":i.speed+"s width, "+i.speed+"s height, "+i.speed+"s left, "+i.speed+"s top",top:r,left:o,width:e,height:t}),setTimeout(function(){i.width=e,i.height=t,"function"==typeof n&&n()},1e3*i.speed+50)}},$.extend(w2popup,w2utils.event)}();var w2alert=function(e,t,n){null==t&&(t=w2utils.lang("Notification")),$("#w2ui-popup").length>0&&"closing"!=w2popup.status?w2popup.message({width:400,height:170,html:'<div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 45px; overflow: auto">        <div class="w2ui-centered" style="font-size: 13px;">'+e+'</div></div><div style="position: absolute; bottom: 7px; left: 0px; right: 0px; text-align: center; padding: 5px">        <button onclick="w2popup.message();" class="w2ui-popup-btn btn">'+w2utils.lang("Ok")+"</button></div>",onClose:function(){"function"==typeof n&&n()}}):w2popup.open({width:450,height:220,showMax:!1,showClose:!1,title:t,body:'<div class="w2ui-centered" style="font-size: 13px;">'+e+"</div>",buttons:'<button onclick="w2popup.close();" class="w2ui-popup-btn btn">'+w2utils.lang("Ok")+"</button>",onClose:function(){"function"==typeof n&&n()}})},w2confirm=function(e,t,n){var i={},r={msg:"",title:w2utils.lang("Confirmation"),width:$("#w2ui-popup").length>0?400:450,height:$("#w2ui-popup").length>0?170:220,yes_text:"Yes",yes_class:"",yes_style:"",yes_callBack:null,no_text:"No",no_class:"",no_style:"",no_callBack:null,callBack:null};return 1==arguments.length&&"object"==typeof e?$.extend(i,r,e):"function"==typeof t?$.extend(i,r,{msg:e,callBack:t}):$.extend(i,r,{msg:e,title:t,callBack:n}),$("#w2ui-popup").length>0&&"closing"!=w2popup.status?(i.width>w2popup.get().width&&(i.width=w2popup.get().width),i.height>w2popup.get().height-50&&(i.height=w2popup.get().height-50),w2popup.message({width:i.width,height:i.height,html:'<div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 40px; overflow: auto">        <div class="w2ui-centered" style="font-size: 13px;">'+i.msg+'</div></div><div style="position: absolute; bottom: 7px; left: 0px; right: 0px; text-align: center; padding: 5px">        <button id="Yes" class="w2ui-popup-btn btn '+i.yes_class+'" style="'+i.yes_style+'">'+w2utils.lang(i.yes_text)+'</button>        <button id="No" class="w2ui-popup-btn btn '+i.no_class+'" style="'+i.no_style+'">'+w2utils.lang(i.no_text)+"</button></div>",onOpen:function(){$("#w2ui-popup .w2ui-popup-message .btn").on("click",function(e){w2popup.message(),"function"==typeof i.callBack&&i.callBack(e.target.id),"Yes"==e.target.id&&"function"==typeof i.yes_callBack&&i.yes_callBack(),"No"==e.target.id&&"function"==typeof i.no_callBack&&i.no_callBack()})},onKeydown:function(e){switch(e.originalEvent.keyCode){case 13:"function"==typeof i.callBack&&i.callBack("Yes"),"function"==typeof i.yes_callBack&&i.yes_callBack(),w2popup.message();break;case 27:"function"==typeof i.callBack&&i.callBack("No"),"function"==typeof i.no_callBack&&i.no_callBack(),w2popup.message()}}})):(w2utils.isInt(i.height)||(i.height=i.height+50),w2popup.open({width:i.width,height:i.height,title:i.title,modal:!0,showClose:!1,body:'<div class="w2ui-centered" style="font-size: 13px;">'+i.msg+"</div>",buttons:'<button id="Yes" class="w2ui-popup-btn btn '+i.yes_class+'" style="'+i.yes_style+'">'+w2utils.lang(i.yes_text)+'</button><button id="No" class="w2ui-popup-btn btn '+i.no_class+'" style="'+i.no_style+'">'+w2utils.lang(i.no_text)+"</button>",onOpen:function(e){e.onComplete=function(){$("#w2ui-popup .w2ui-popup-btn").on("click",function(e){w2popup.close(),"function"==typeof i.callBack&&i.callBack(e.target.id),"Yes"==e.target.id&&"function"==typeof i.yes_callBack&&i.yes_callBack(),"No"==e.target.id&&"function"==typeof i.no_callBack&&i.no_callBack()})}},onKeydown:function(e){switch(e.originalEvent.keyCode){case 13:"function"==typeof i.callBack&&i.callBack("Yes"),"function"==typeof i.yes_callBack&&i.yes_callBack(),w2popup.close();break;case 27:"function"==typeof i.callBack&&i.callBack("No"),"function"==typeof i.no_callBack&&i.no_callBack(),w2popup.close()}}})),{yes:function(e){return i.yes_callBack=e,this},no:function(e){return i.no_callBack=e,this}}};!function(){var e=function(e){this.box=null,this.name=null,this.active=null,this.tabs=[],this.routeData={},this.right="",this.style="",this.onClick=null,this.onClose=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(this,{handlers:[]}),$.extend(!0,this,w2obj.tabs,e)};$.fn.w2tabs=function(t){if("object"!=typeof t&&t){if(w2ui[$(this).attr("name")]){var n=w2ui[$(this).attr("name")];return n[t].apply(n,Array.prototype.slice.call(arguments,1)),this}return void console.log("ERROR: Method "+t+" does not exist on jQuery.w2tabs")}if(w2utils.checkName(t,"w2tabs")){for(var i=t.tabs||[],r=new e(t),o=0;o<i.length;o++)r.tabs[o]=$.extend({},e.prototype.tab,i[o]);return 0!==$(this).length&&r.render($(this)[0]),w2ui[r.name]=r,r}},e.prototype={tab:{id:null,text:"",route:null,hidden:!1,disabled:!1,closable:!1,hint:"",onClick:null,onRefresh:null,onClose:null},add:function(e){return this.insert(null,e)},insert:function(t,n){$.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){if("undefined"==typeof n[i].id)return void console.log('ERROR: The parameter "id" is required but not supplied. (obj: '+this.name+")");if(!w2utils.checkUniqueId(n[i].id,this.tabs,"tabs",this.name))return;var r=$.extend({},e.prototype.tab,n[i]);if(null===t||"undefined"==typeof t)this.tabs.push(r);else{var o=this.get(t,!0);this.tabs=this.tabs.slice(0,o).concat([r],this.tabs.slice(o))}this.refresh(n[i].id)}},remove:function(){for(var e=0,t=0;t<arguments.length;t++){var n=this.get(arguments[t]);if(!n)return!1;e++,this.tabs.splice(this.get(n.id,!0),1),$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(n.id)).remove()}return e},select:function(e){return this.active==e||null===this.get(e)?!1:(this.active=e,this.refresh(),!0)},set:function(e,t){var n=this.get(e,!0);return null===n?!1:($.extend(this.tabs[n],t),this.refresh(e),!0)},get:function(e,t){if(0===arguments.length){for(var n=[],i=0;i<this.tabs.length;i++)null!=this.tabs[i].id&&n.push(this.tabs[i].id);return n}for(var r=0;r<this.tabs.length;r++)if(this.tabs[r].id==e)return t===!0?r:this.tabs[r];return null},show:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&r.hidden!==!1&&(t++,r.hidden=!1,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},hide:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&r.hidden!==!0&&(t++,r.hidden=!0,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},enable:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&r.disabled!==!1&&(t++,r.disabled=!1,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},disable:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&r.disabled!==!0&&(t++,r.disabled=!0,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},refresh:function(e){var t=(new Date).getTime(),n=this.trigger({phase:"before",type:"refresh",target:"undefined"!=typeof e?e:this.name,object:this.get(e)});if(n.isCancelled!==!0){if("undefined"==typeof e)for(var i=0;i<this.tabs.length;i++)this.refresh(this.tabs[i].id);else{var r=this.get(e);if(null===r)return!1;"undefined"!=typeof r.caption&&(r.text=r.caption);var o=$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(r.id)),s=(r.closable?'<div class="w2ui-tab-close" onclick="w2ui[\''+this.name+"'].animateClose('"+r.id+"', event);\"></div>":"")+'    <div class="w2ui-tab'+(this.active===r.id?" active":"")+(r.closable?" closable":"")+'"         title="'+("undefined"!=typeof r.hint?r.hint:"")+'"        onclick="w2ui[\''+this.name+"'].click('"+r.id+"', event);\">"+r.text+"</div>";if(0===o.length){var a="";r.hidden&&(a+="display: none;"),r.disabled&&(a+="opacity: 0.2; -moz-opacity: 0.2; -webkit-opacity: 0.2; -o-opacity: 0.2; filter:alpha(opacity=20);");var l='<td id="tabs_'+this.name+"_tab_"+r.id+'" style="'+a+'" valign="middle">'+s+"</td>";this.get(e,!0)!==this.tabs.length-1&&$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.tabs[parseInt(this.get(e,!0))+1].id)).length>0?$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.tabs[parseInt(this.get(e,!0))+1].id)).before(l):$(this.box).find("#tabs_"+this.name+"_right").before(l)}else o.html(s),r.hidden?o.css("display","none"):o.css("display",""),r.disabled?o.css({opacity:"0.2","-moz-opacity":"0.2","-webkit-opacity":"0.2","-o-opacity":"0.2",filter:"alpha(opacity=20)"}):o.css({opacity:"1","-moz-opacity":"1","-webkit-opacity":"1","-o-opacity":"1",filter:"alpha(opacity=100)"})}return $("#tabs_"+this.name+"_right").html(this.right),this.trigger($.extend(n,{phase:"after"})),(new Date).getTime()-t}},render:function(e){var t=(new Date).getTime(),n=this.trigger({phase:"before",type:"render",target:this.name,box:e});if(n.isCancelled!==!0){if("undefined"!=typeof e&&null!==e&&($(this.box).find("> table #tabs_"+this.name+"_right").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-tabs").html(""),this.box=e),!this.box)return!1;var i='<table cellspacing="0" cellpadding="1" width="100%">    <tr><td width="100%" id="tabs_'+this.name+'_right" align="right">'+this.right+"</td></tr></table>";return $(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-tabs").html(i),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.trigger($.extend(n,{phase:"after"})),this.refresh(),(new Date).getTime()-t}},resize:function(){var e=(new Date).getTime(),t=this.trigger({phase:"before",type:"resize",target:this.name});return t.isCancelled!==!0?(this.trigger($.extend(t,{phase:"after"})),(new Date).getTime()-e):void 0},destroy:function(){var e=this.trigger({phase:"before",type:"destroy",target:this.name});e.isCancelled!==!0&&($(this.box).find("> table #tabs_"+this.name+"_right").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-tabs").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})))},click:function(e,t){var n=this.get(e);if(null===n||n.disabled)return!1;var i=this.trigger({phase:"before",type:"click",target:e,tab:n,object:n,originalEvent:t});if(i.isCancelled!==!0){if($(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.active)+" .w2ui-tab").removeClass("active"),this.active=n.id,n.route){var r=String("/"+n.route).replace(/\/{2,}/g,"/"),o=w2utils.parseRoute(r);if(o.keys.length>0)for(var s=0;s<o.keys.length;s++)null!=this.routeData[o.keys[s].name]&&(r=r.replace(new RegExp(":"+o.keys[s].name,"g"),this.routeData[o.keys[s].name]));setTimeout(function(){window.location.hash=r},1)}this.trigger($.extend(i,{phase:"after"})),this.refresh(e)}},animateClose:function(e,t){var n=this.get(e);if(null===n||n.disabled)return!1;var i=this.trigger({phase:"before",type:"close",target:e,object:this.get(e),originalEvent:t});if(i.isCancelled!==!0){var r=this;$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(n.id)).css({
"-webkit-transition":".2s","-moz-transition":"2s","-ms-transition":".2s","-o-transition":".2s",opacity:"0"}),setTimeout(function(){var e=$(r.box).find("#tabs_"+r.name+"_tab_"+w2utils.escapeId(n.id)).width();$(r.box).find("#tabs_"+r.name+"_tab_"+w2utils.escapeId(n.id)).html('<div style="width: '+e+'px; -webkit-transition: .2s; -moz-transition: .2s; -ms-transition: .2s; -o-transition: .2s"></div>'),setTimeout(function(){$(r.box).find("#tabs_"+r.name+"_tab_"+w2utils.escapeId(n.id)).find(":first-child").css({width:"0px"})},50)},200),setTimeout(function(){r.remove(e)},450),this.trigger($.extend(i,{phase:"after"})),this.refresh()}},animateInsert:function(e,t){if(null!==this.get(e)&&$.isPlainObject(t)&&w2utils.checkUniqueId(t.id,this.tabs,"tabs",this.name)){var n=$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(t.id));if(0===n.length){"undefined"!=typeof t.caption&&(t.text=t.caption);var i='<div id="_tmp_tabs" class="w2ui-reset w2ui-tabs" style="position: absolute; top: -1000px;"><table cellspacing="0" cellpadding="1" width="100%"><tr><td id="_tmp_simple_tab" style="" valign="middle">'+(t.closable?'<div class="w2ui-tab-close"></div>':"")+'    <div class="w2ui-tab '+(this.active===t.id?"active":"")+'">'+t.text+"</div></td></tr></table></div>";$("body").append(i);var r='<div style="width: 1px; -webkit-transition: 0.2s; -moz-transition: 0.2s; -ms-transition: 0.2s; -o-transition: 0.2s;">&nbsp;</div>',o="";t.hidden&&(o+="display: none;"),t.disabled&&(o+="opacity: 0.2; -moz-opacity: 0.2; -webkit-opacity: 0.2; -o-opacity: 0.2; filter:alpha(opacity=20);");var s='<td id="tabs_'+this.name+"_tab_"+t.id+'" style="'+o+'" valign="middle">'+r+"</td>";this.get(e,!0)!==this.tabs.length&&$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.tabs[parseInt(this.get(e,!0))].id)).length>0?$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.tabs[parseInt(this.get(e,!0))].id)).before(s):$(this.box).find("#tabs_"+this.name+"_right").before(s);var a=this;setTimeout(function(){var e=$("#_tmp_simple_tab").width();$("#_tmp_tabs").remove(),$("#tabs_"+a.name+"_tab_"+w2utils.escapeId(t.id)+" > div").css("width",e+"px")},1),setTimeout(function(){a.insert(e,t)},200)}}}},$.extend(e.prototype,w2utils.event),w2obj.tabs=e}(),function(){var e=function(e){this.box=null,this.name=null,this.routeData={},this.items=[],this.right="",this.onClick=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.toolbar,e)};$.fn.w2toolbar=function(t){if("object"==typeof t||!t){if(!w2utils.checkName(t,"w2toolbar"))return;var n=t.items||[],i=new e(t);$.extend(i,{items:[],handlers:[]});for(var r=0;r<n.length;r++)i.items[r]=$.extend({},e.prototype.item,n[r]);return 0!==$(this).length&&i.render($(this)[0]),w2ui[i.name]=i,i}if(w2ui[$(this).attr("name")]){var o=w2ui[$(this).attr("name")];return o[t].apply(o,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+t+" does not exist on jQuery.w2toolbar")},e.prototype={item:{id:null,type:"button",text:"",route:null,html:"",img:null,icon:null,count:null,hidden:!1,disabled:!1,checked:!1,arrow:!0,hint:"",group:null,items:null,overlay:{},onClick:null},add:function(e){this.insert(null,e)},insert:function(t,n){$.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){if("undefined"==typeof n[i].type)return void console.log('ERROR: The parameter "type" is required but not supplied in w2toolbar.add() method.');if(-1===$.inArray(String(n[i].type),["button","check","radio","drop","menu","break","html","spacer"]))return void console.log('ERROR: The parameter "type" should be one of the following [button, check, radio, drop, menu, break, html, spacer] in w2toolbar.add() method.');if("undefined"==typeof n[i].id)return void console.log('ERROR: The parameter "id" is required but not supplied in w2toolbar.add() method.');if(!w2utils.checkUniqueId(n[i].id,this.items,"toolbar items",this.name))return;var r=$.extend({},e.prototype.item,n[i]);if(null==t)this.items.push(r);else{var o=this.get(t,!0);this.items=this.items.slice(0,o).concat([r],this.items.slice(o))}this.refresh(r.id)}},remove:function(){for(var e=0,t=0;t<arguments.length;t++){var n=this.get(arguments[t]);if(n){e++,$(this.box).find("#tb_"+this.name+"_item_"+w2utils.escapeId(n.id)).remove();var i=this.get(n.id,!0);i&&this.items.splice(i,1)}}return e},set:function(e,t){var n=this.get(e,!0);return null===n?!1:($.extend(this.items[n],t),this.refresh(e),!0)},get:function(e,t){if(0===arguments.length){for(var n=[],i=0;i<this.items.length;i++)null!==this.items[i].id&&n.push(this.items[i].id);return n}for(var r=0;r<this.items.length;r++)if(this.items[r].id===e)return t===!0?r:this.items[r];return null},show:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&(t++,r.hidden=!1,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},hide:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&(t++,r.hidden=!0,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},enable:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&(t++,r.disabled=!1,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},disable:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&(t++,r.disabled=!0,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},check:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&(t++,r.checked=!0,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},uncheck:function(){for(var e=this,t=0,n=[],i=0;i<arguments.length;i++){var r=this.get(arguments[i]);r&&(t++,r.checked=!1,n.push(r.id))}return setTimeout(function(){for(var t in n)e.refresh(n[t])},15),t},render:function(e){var t=(new Date).getTime(),n=this.trigger({phase:"before",type:"render",target:this.name,box:e});if(n.isCancelled!==!0&&(null!=e&&($(this.box).find("> table #tb_"+this.name+"_right").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-toolbar").html(""),this.box=e),this.box)){for(var i='<table cellspacing="0" cellpadding="0" width="100%"><tr>',r=0;r<this.items.length;r++){var o=this.items[r];null==o.id&&(o.id="item_"+r),null!==o&&(i+="spacer"===o.type?'<td width="100%" id="tb_'+this.name+"_item_"+o.id+'" align="right"></td>':'<td id="tb_'+this.name+"_item_"+o.id+'" style="'+(o.hidden?"display: none":"")+'"     class="'+(o.disabled?"disabled":"")+'" valign="middle">'+this.getItemHTML(o)+"</td>")}return i+='<td width="100%" id="tb_'+this.name+'_right" align="right">'+this.right+"</td>",i+="</tr></table>",$(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-toolbar").html(i),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.trigger($.extend(n,{phase:"after"})),(new Date).getTime()-t}},refresh:function(e){var t=(new Date).getTime(),n=this.trigger({phase:"before",type:"refresh",target:"undefined"!=typeof e?e:this.name,item:this.get(e)});if(n.isCancelled!==!0){if(null==e)for(var i=0;i<this.items.length;i++){var r=this.items[i];null==r.id&&(r.id="item_"+i),this.refresh(r.id)}var o=this.get(e);if(null===o)return!1;var s=$(this.box).find("#tb_"+this.name+"_item_"+w2utils.escapeId(o.id)),a=this.getItemHTML(o);return 0===s.length?(a="spacer"===o.type?'<td width="100%" id="tb_'+this.name+"_item_"+o.id+'" align="right"></td>':'<td id="tb_'+this.name+"_item_"+o.id+'" style="'+(o.hidden?"display: none":"")+'"     class="'+(o.disabled?"disabled":"")+'" valign="middle">'+a+"</td>",this.get(e,!0)===this.items.length-1?$(this.box).find("#tb_"+this.name+"_right").before(a):$(this.box).find("#tb_"+this.name+"_item_"+w2utils.escapeId(this.items[parseInt(this.get(e,!0))+1].id)).before(a)):(s.html(a),o.hidden?s.css("display","none"):s.css("display",""),o.disabled?s.addClass("disabled"):s.removeClass("disabled")),this.trigger($.extend(n,{phase:"after"})),(new Date).getTime()-t}},resize:function(){var e=(new Date).getTime(),t=this.trigger({phase:"before",type:"resize",target:this.name});return t.isCancelled!==!0?(this.trigger($.extend(t,{phase:"after"})),(new Date).getTime()-e):void 0},destroy:function(){var e=this.trigger({phase:"before",type:"destroy",target:this.name});e.isCancelled!==!0&&($(this.box).find("> table #tb_"+this.name+"_right").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-toolbar").html(""),$(this.box).html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})))},getItemHTML:function(e){var t="";switch("undefined"!=typeof e.caption&&(e.text=e.caption),"undefined"==typeof e.hint&&(e.hint=""),"undefined"==typeof e.text&&(e.text=""),e.type){case"menu":case"button":case"check":case"radio":case"drop":var n="<td>&nbsp;</td>";e.img&&(n='<td><div class="w2ui-tb-image w2ui-icon '+e.img+'"></div></td>'),e.icon&&(n='<td><div class="w2ui-tb-image"><span class="'+e.icon+'"></span></div></td>'),t+='<table cellpadding="0" cellspacing="0" title="'+e.hint+'" class="w2ui-button '+(e.checked?"checked":"")+'"        onclick     = "var el=w2ui[\''+this.name+"']; if (el) el.click('"+e.id+'\', event);"        onmouseover = "'+(e.disabled?"":"$(this).addClass('over');")+'"       onmouseout  = "'+(e.disabled?"":"$(this).removeClass('over').removeClass('down');")+'"       onmousedown = "'+(e.disabled?"":"$(this).addClass('down');")+'"       onmouseup   = "'+(e.disabled?"":"$(this).removeClass('down');")+'"><tr><td>  <table cellpadding="1" cellspacing="0">  <tr>'+n+(""!==e.text?'<td class="w2ui-tb-caption" nowrap>'+e.text+"</td>":"")+(null!=e.count?'<td class="w2ui-tb-count" nowrap><span>'+e.count+"</span></td>":"")+("drop"!==e.type&&"menu"!==e.type||e.arrow===!1?"":'<td class="w2ui-tb-down" nowrap><div></div></td>')+"  </tr></table></td></tr></table>";break;case"break":t+='<table cellpadding="0" cellspacing="0"><tr>    <td><div class="w2ui-break">&nbsp;</div></td></tr></table>';break;case"html":t+='<table cellpadding="0" cellspacing="0"><tr>    <td nowrap>'+e.html+"</td></tr></table>"}var i="";return"function"==typeof e.onRender&&(i=e.onRender.call(this,e.id,t)),"function"==typeof this.onRender&&(i=this.onRender(e.id,t)),""!==i&&null!=i&&(t=i),t},menuClick:function(e){var t=this;if(e.item&&!e.item.disabled){var n=this.trigger({phase:"before",type:"click",target:e.item.id+":"+e.subItem.id,item:e.item,subItem:e.subItem,originalEvent:e.originalEvent});if(n.isCancelled===!0)return;var i=e.subItem;if(i.route){var r=String("/"+i.route).replace(/\/{2,}/g,"/"),o=w2utils.parseRoute(r);if(o.keys.length>0)for(var s=0;s<o.keys.length;s++)null!=t.routeData[o.keys[s].name]&&(r=r.replace(new RegExp(":"+o.keys[s].name,"g"),this.routeData[o.keys[s].name]));setTimeout(function(){window.location.hash=r},1)}this.trigger($.extend(n,{phase:"after"}))}},click:function(e,t){var n=this,i=this.get(e);if(i&&!i.disabled){var r=this.trigger({phase:"before",type:"click",target:"undefined"!=typeof e?e:this.name,item:i,object:i,originalEvent:t});if(r.isCancelled===!0)return;var o=$("#tb_"+this.name+"_item_"+w2utils.escapeId(i.id)+" table.w2ui-button");if(o.removeClass("down"),"radio"===i.type){for(var s=0;s<this.items.length;s++){var a=this.items[s];null!=a&&a.id!==i.id&&"radio"===a.type&&a.group===i.group&&a.checked&&(a.checked=!1,this.refresh(a.id))}i.checked=!0,o.addClass("checked")}if(("drop"===i.type||"menu"===i.type)&&(i.checked?i.checked=!1:setTimeout(function(){function e(){$(document).off("click",e),i.checked=!1,o.removeClass("checked")}var t=$("#tb_"+n.name+"_item_"+w2utils.escapeId(i.id));$.isPlainObject(i.overlay)||(i.overlay={});var r=(t.width()-50)/2;r>19&&(r=19),"drop"===i.type&&t.w2overlay(i.html,$.extend({left:r,top:3},i.overlay)),"menu"===i.type&&t.w2menu(i.items,$.extend({left:r,top:3},i.overlay,{select:function(t){n.menuClick({item:i,subItem:t.item,originalEvent:t.originalEvent}),e()}})),$(document).on("click",e)},1)),("check"===i.type||"drop"===i.type||"menu"===i.type)&&(i.checked=!i.checked,i.checked?o.addClass("checked"):o.removeClass("checked")),i.route){var l=String("/"+i.route).replace(/\/{2,}/g,"/"),c=w2utils.parseRoute(l);if(c.keys.length>0)for(var u=0;u<c.keys.length;u++)l=l.replace(new RegExp(":"+c.keys[u].name,"g"),this.routeData[c.keys[u].name]);setTimeout(function(){window.location.hash=l},1)}this.trigger($.extend(r,{phase:"after"}))}}},$.extend(e.prototype,w2utils.event),w2obj.toolbar=e}(),function(){var e=function(e){this.name=null,this.box=null,this.sidebar=null,this.parent=null,this.nodes=[],this.menu=[],this.routeData={},this.selected=null,this.img=null,this.icon=null,this.style="",this.topHTML="",this.bottomHTML="",this.keyboard=!0,this.onClick=null,this.onDblClick=null,this.onContextMenu=null,this.onMenuClick=null,this.onExpand=null,this.onCollapse=null,this.onKeydown=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.sidebar,e)};$.fn.w2sidebar=function(t){if("object"==typeof t||!t){if(!w2utils.checkName(t,"w2sidebar"))return;var n=t.nodes,i=new e(t);return $.extend(i,{handlers:[],nodes:[]}),"undefined"!=typeof n&&i.add(i,n),0!==$(this).length&&i.render($(this)[0]),i.sidebar=i,w2ui[i.name]=i,i}if(w2ui[$(this).attr("name")]){var r=w2ui[$(this).attr("name")];return r[t].apply(r,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+t+" does not exist on jQuery.w2sidebar")},e.prototype={node:{id:null,text:"",count:null,img:null,icon:null,nodes:[],style:"",route:null,selected:!1,expanded:!1,hidden:!1,disabled:!1,group:!1,groupShowHide:!0,plus:!1,onClick:null,onDblClick:null,onContextMenu:null,onExpand:null,onCollapse:null,parent:null,sidebar:null},add:function(e,t){return 1==arguments.length&&(t=arguments[0],e=this),"string"==typeof e&&(e=this.get(e)),this.insert(e,null,t)},insert:function(t,n,i){var r,o,s,a,l;if(2==arguments.length){if(i=arguments[1],n=arguments[0],o=this.get(n),null===o)return $.isArray(i)||(i=[i]),r=null!=i[0].caption?i[0].caption:i[0].text,console.log('ERROR: Cannot insert node "'+r+'" because cannot find node "'+n+'" to insert before.'),null;t=this.get(n).parent}"string"==typeof t&&(t=this.get(t)),$.isArray(i)||(i=[i]);for(var c in i)if(a=i[c],null!=typeof a.id)if(null===this.get(this,a.id)){if(s=$.extend({},e.prototype.node,a),s.sidebar=this,s.parent=t,l=s.nodes||[],s.nodes=[],null===n)t.nodes.push(s);else{if(o=this.get(t,n,!0),null===o)return r=null!=a.caption?a.caption:a.text,console.log('ERROR: Cannot insert node "'+r+'" because cannot find node "'+n+'" to insert before.'),null;t.nodes.splice(o,0,s)}l.length>0&&this.insert(s,null,l)}else r=null!=a.caption?a.caption:a.text,console.log("ERROR: Cannot insert node with id="+a.id+" (text: "+r+") because another node with the same id already exists.");else r=null!=a.caption?a.caption:a.text,console.log('ERROR: Cannot insert node "'+r+'" because it has no id.');return this.refresh(t.id),s},remove:function(){for(var e,t=0,n=0;n<arguments.length;n++)if(e=this.get(arguments[n]),null!==e){null!==this.selected&&this.selected===e.id&&(this.selected=null);var i=this.get(e.parent,arguments[n],!0);null!==i&&(e.parent.nodes[i].selected&&e.sidebar.unselect(e.id),e.parent.nodes.splice(i,1),t++)}return t>0&&1==arguments.length?this.refresh(e.parent.id):this.refresh(),t},set:function(e,t,n){if(2==arguments.length&&(n=t,t=e,e=this),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return null;for(var i=0;i<e.nodes.length;i++){if(e.nodes[i].id===t){var r=n.nodes;return $.extend(e.nodes[i],n,{nodes:[]}),null!=r&&this.add(e.nodes[i],r),this.refresh(t),!0}var o=this.set(e.nodes[i],t,n);if(o)return!0}return!1},get:function(e,t,n){if(0===arguments.length){for(var i=[],r=this.find({}),o=0;o<r.length;o++)null!=r[o].id&&i.push(r[o].id);return i}if((1==arguments.length||2==arguments.length&&t===!0)&&(n=t,t=e,e=this),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return null;for(var s=0;s<e.nodes.length;s++){if(e.nodes[s].id==t)return n===!0?s:e.nodes[s];var a=this.get(e.nodes[s],t,n);if(a||0===a)return a}return null},find:function(e,t,n){if(1==arguments.length&&(t=e,e=this),n||(n=[]),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return n;for(var i=0;i<e.nodes.length;i++){var r=!0;for(var o in t)e.nodes[i][o]!=t[o]&&(r=!1);r&&n.push(e.nodes[i]),e.nodes[i].nodes.length>0&&(n=this.find(e.nodes[i],t,n))}return n},hide:function(){for(var e=0,t=0;t<arguments.length;t++){var n=this.get(arguments[t]);null!==n&&(n.hidden=!0,e++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),e},show:function(){for(var e=0,t=0;t<arguments.length;t++){var n=this.get(arguments[t]);null!==n&&(n.hidden=!1,e++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),e},disable:function(){for(var e=0,t=0;t<arguments.length;t++){var n=this.get(arguments[t]);null!==n&&(n.disabled=!0,n.selected&&this.unselect(n.id),e++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),e},enable:function(){for(var e=0,t=0;t<arguments.length;t++){var n=this.get(arguments[t]);null!==n&&(n.disabled=!1,e++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),e},select:function(e){var t=this.get(e);return t?this.selected==e&&t.selected?!1:(this.unselect(this.selected),$(this.box).find("#node_"+w2utils.escapeId(e)).addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected"),t.selected=!0,this.selected=e,!0):!1},unselect:function(e){var t=this.get(e);return t?(t.selected=!1,$(this.box).find("#node_"+w2utils.escapeId(e)).removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected"),this.selected==e&&(this.selected=null),!0):!1},toggle:function(e){var t=this.get(e);return null===t?!1:t.plus?(this.set(e,{plus:!1}),this.expand(e),void this.refresh(e)):0===t.nodes.length?!1:this.get(e).expanded?this.collapse(e):this.expand(e)},collapse:function(e){var t=this,n=this.get(e),i=this.trigger({phase:"before",type:"collapse",target:e,object:n});return i.isCancelled!==!0?($(this.box).find("#node_"+w2utils.escapeId(e)+"_sub").slideUp(200),$(this.box).find("#node_"+w2utils.escapeId(e)+" .w2ui-node-dots:first-child").html('<div class="w2ui-expand">+</div>'),n.expanded=!1,this.trigger($.extend(i,{phase:"after"})),setTimeout(function(){t.refresh(e)},200),!0):void 0},collapseAll:function(e){if("undefined"==typeof e&&(e=this),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return!1;for(var t=0;t<e.nodes.length;t++)e.nodes[t].expanded===!0&&(e.nodes[t].expanded=!1),e.nodes[t].nodes&&e.nodes[t].nodes.length>0&&this.collapseAll(e.nodes[t]);return this.refresh(e.id),!0},expand:function(e){var t=this,n=this.get(e),i=this.trigger({phase:"before",type:"expand",target:e,object:n});return i.isCancelled!==!0?($(this.box).find("#node_"+w2utils.escapeId(e)+"_sub").slideDown(200),$(this.box).find("#node_"+w2utils.escapeId(e)+" .w2ui-node-dots:first-child").html('<div class="w2ui-expand">-</div>'),n.expanded=!0,this.trigger($.extend(i,{phase:"after"})),setTimeout(function(){t.refresh(e)},200),!0):void 0},expandAll:function(e){if("undefined"==typeof e&&(e=this),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return!1;for(var t=0;t<e.nodes.length;t++)e.nodes[t].expanded===!1&&(e.nodes[t].expanded=!0),e.nodes[t].nodes&&e.nodes[t].nodes.length>0&&this.collapseAll(e.nodes[t]);this.refresh(e.id)},expandParents:function(e){var t=this.get(e);return null===t?!1:(t.parent&&(t.parent.expanded=!0,this.expandParents(t.parent.id)),this.refresh(e),!0)},click:function(e,t){var n=this,i=this.get(e);if(null!==i&&!i.disabled&&!i.group){$(n.box).find(".w2ui-node.w2ui-selected").each(function(e,t){var i=$(t).attr("id").replace("node_",""),r=n.get(i);null!=r&&(r.selected=!1),$(t).removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected")});var r=$(n.box).find("#node_"+w2utils.escapeId(e)),o=$(n.box).find("#node_"+w2utils.escapeId(n.selected));r.addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected"),setTimeout(function(){var s=n.trigger({phase:"before",type:"click",target:e,originalEvent:t,node:i,object:i});if(s.isCancelled===!0)return r.removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected"),void o.addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected");if(null!==o&&(o.selected=!1),n.get(e).selected=!0,n.selected=e,i.route){var a=String("/"+i.route).replace(/\/{2,}/g,"/"),l=w2utils.parseRoute(a);if(l.keys.length>0)for(var c=0;c<l.keys.length;c++)null!=n.routeData[l.keys[c].name]&&(a=a.replace(new RegExp(":"+l.keys[c].name,"g"),n.routeData[l.keys[c].name]));setTimeout(function(){window.location.hash=a},1)}n.trigger($.extend(s,{phase:"after"}))},1)}},keydown:function(e){function t(e,t){null===e||e.hidden||e.disabled||e.group||(s.click(e.id,t),setTimeout(function(){s.scrollIntoView()},50))}function n(e,t){for(e=t(e);null!==e&&(e.hidden||e.disabled)&&!e.group;)e=t(e);return e}function i(e,t){if(null===e)return null;var n=e.parent,r=s.get(e.id,!0),o=null;if(e.expanded&&e.nodes.length>0&&t!==!0){var a=e.nodes[0];o=a.hidden||a.disabled||a.group?i(a):a}else o=n&&r+1<n.nodes.length?n.nodes[r+1]:i(n,!0);return null!==o&&(o.hidden||o.disabled||o.group)&&(o=i(o)),o}function r(e){if(null===e)return null;var t=e.parent,n=s.get(e.id,!0),i=n>0?o(t.nodes[n-1]):t;return null!==i&&(i.hidden||i.disabled||i.group)&&(i=r(i)),i}function o(e){if(e.expanded&&e.nodes.length>0){var t=e.nodes[e.nodes.length-1];return t.hidden||t.disabled||t.group?r(t):o(t)}return e}var s=this,a=s.get(s.selected);if(a&&s.keyboard===!0){var l=s.trigger({phase:"before",type:"keydown",target:s.name,originalEvent:e});l.isCancelled!==!0&&((13==e.keyCode||32==e.keyCode)&&a.nodes.length>0&&s.toggle(s.selected),37==e.keyCode&&(a.nodes.length>0&&a.expanded?s.collapse(s.selected):(t(a.parent),a.parent.group||s.collapse(a.parent.id))),39==e.keyCode&&(a.nodes.length>0||a.plus)&&!a.expanded&&s.expand(s.selected),38==e.keyCode&&t(n(a,r)),40==e.keyCode&&t(n(a,i)),-1!=$.inArray(e.keyCode,[13,32,37,38,39,40])&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),s.trigger($.extend(l,{phase:"after"})))}},scrollIntoView:function(e){"undefined"==typeof e&&(e=this.selected);var t=this.get(e);if(null!==t){var n=$(this.box).find(".w2ui-sidebar-div"),i=$(this.box).find("#node_"+w2utils.escapeId(e)),r=i.offset().top-n.offset().top;r+i.height()>n.height()&&n.animate({scrollTop:n.scrollTop()+n.height()/1.3},250,"linear"),0>=r&&n.animate({scrollTop:n.scrollTop()-n.height()/1.3},250,"linear")}},dblClick:function(e,t){var n=this.get(e),i=this.trigger({phase:"before",type:"dblClick",target:e,originalEvent:t,object:n});i.isCancelled!==!0&&(this.toggle(e),this.trigger($.extend(i,{phase:"after"})))},contextMenu:function(e,t){var n=this,i=n.get(e);e!=n.selected&&n.click(e),setTimeout(function(){var r=n.trigger({phase:"before",type:"contextMenu",target:e,originalEvent:t,object:i});r.isCancelled!==!0&&(i.group||i.disabled||(n.menu.length>0&&$(n.box).find("#node_"+w2utils.escapeId(e)).w2menu(n.menu,{left:(t?t.offsetX||t.pageX:50)-25,onSelect:function(t){n.menuClick(e,parseInt(t.index),t.originalEvent)}}),n.trigger($.extend(r,{phase:"after"}))))},150)},menuClick:function(e,t,n){var i=this,r=i.trigger({phase:"before",type:"menuClick",target:e,originalEvent:n,menuIndex:t,menuItem:i.menu[t]});r.isCancelled!==!0&&i.trigger($.extend(r,{phase:"after"}))},render:function(e){var t=(new Date).getTime(),n=this.trigger({phase:"before",type:"render",target:this.name,box:e});return n.isCancelled!==!0&&("undefined"!=typeof e&&null!==e&&($(this.box).find("> div > div.w2ui-sidebar-div").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-sidebar").html(""),this.box=e),this.box)?($(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-sidebar").html('<div><div class="w2ui-sidebar-top"></div><div class="w2ui-sidebar-div"></div><div class="w2ui-sidebar-bottom"></div></div>'),$(this.box).find("> div").css({width:$(this.box).width()+"px",height:$(this.box).height()+"px"}),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),""!==this.topHTML&&($(this.box).find(".w2ui-sidebar-top").html(this.topHTML),$(this.box).find(".w2ui-sidebar-div").css("top",$(this.box).find(".w2ui-sidebar-top").height()+"px")),""!==this.bottomHTML&&($(this.box).find(".w2ui-sidebar-bottom").html(this.bottomHTML),$(this.box).find(".w2ui-sidebar-div").css("bottom",$(this.box).find(".w2ui-sidebar-bottom").height()+"px")),this.trigger($.extend(n,{phase:"after"})),this.refresh(),(new Date).getTime()-t):void 0},refresh:function(e){function t(e){var t="",n=e.img;null===n&&(n=this.img);var i=e.icon;null===i&&(i=this.icon);for(var r=e.parent,o=0;r&&null!==r.parent;)r.group&&o--,r=r.parent,o++;return"undefined"!=typeof e.caption&&(e.text=e.caption),e.group?t='<div class="w2ui-node-group"  id="node_'+e.id+'"        onclick="w2ui[\''+a.name+"'].toggle('"+e.id+"')\"        onmouseout=\"$(this).find('span:nth-child(1)').css('color', 'transparent')\"         onmouseover=\"$(this).find('span:nth-child(1)').css('color', 'inherit')\">"+(e.groupShowHide?"<span>"+(!e.hidden&&e.expanded?w2utils.lang("Hide"):w2utils.lang("Show"))+"</span>":"<span></span>")+"    <span>"+e.text+'</span></div><div class="w2ui-node-sub" id="node_'+e.id+'_sub" style="'+e.style+";"+(!e.hidden&&e.expanded?"":"display: none;")+'"></div>':(e.selected&&!e.disabled&&(a.selected=e.id),r="",n&&(r='<div class="w2ui-node-image w2ui-icon '+n+(e.selected&&!e.disabled?" w2ui-icon-selected":"")+'"></div>'),i&&(r='<div class="w2ui-node-image"><span class="'+i+'"></span></div>'),t='<div class="w2ui-node '+(e.selected?"w2ui-selected":"")+" "+(e.disabled?"w2ui-disabled":"")+'" id="node_'+e.id+'" style="'+(e.hidden?"display: none;":"")+'"    ondblclick="w2ui[\''+a.name+"'].dblClick('"+e.id+"', event);\"    oncontextmenu=\"w2ui['"+a.name+"'].contextMenu('"+e.id+"', event);         if (event.preventDefault) event.preventDefault();\"    onClick=\"w2ui['"+a.name+"'].click('"+e.id+'\', event); "><table cellpadding="0" cellspacing="0" style="margin-left:'+18*o+"px; padding-right:"+18*o+'px"><tr><td class="w2ui-node-dots" nowrap onclick="w2ui[\''+a.name+"'].toggle('"+e.id+'\');         if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;">    <div class="w2ui-expand">'+(e.nodes.length>0?e.expanded?"-":"+":e.plus?"+":"")+'</div></td><td class="w2ui-node-data" nowrap>'+r+(e.count||0===e.count?'<div class="w2ui-node-count">'+e.count+"</div>":"")+'<div class="w2ui-node-caption">'+e.text+'</div></td></tr></table></div><div class="w2ui-node-sub" id="node_'+e.id+'_sub" style="'+e.style+";"+(!e.hidden&&e.expanded?"":"display: none;")+'"></div>'),t}var n=(new Date).getTime(),i=this.trigger({phase:"before",type:"refresh",target:"undefined"!=typeof e?e:this.name});if(i.isCancelled!==!0){""!==this.topHTML&&($(this.box).find(".w2ui-sidebar-top").html(this.topHTML),$(this.box).find(".w2ui-sidebar-div").css("top",$(this.box).find(".w2ui-sidebar-top").height()+"px")),""!==this.bottomHTML&&($(this.box).find(".w2ui-sidebar-bottom").html(this.bottomHTML),$(this.box).find(".w2ui-sidebar-div").css("bottom",$(this.box).find(".w2ui-sidebar-bottom").height()+"px")),$(this.box).find("> div").css({width:$(this.box).width()+"px",height:$(this.box).height()+"px"});var r,o,s,a=this;if("undefined"==typeof e)r=this,s=".w2ui-sidebar-div";else{if(r=this.get(e),null===r)return;s="#node_"+w2utils.escapeId(r.id)+"_sub"}var l;if(r!==this){var c="#node_"+w2utils.escapeId(r.id);l=t(r),$(this.box).find(c).before('<div id="sidebar_'+this.name+'_tmp"></div>'),$(this.box).find(c).remove(),$(this.box).find(s).remove(),$("#sidebar_"+this.name+"_tmp").before(l),$("#sidebar_"+this.name+"_tmp").remove()}$(this.box).find(s).html("");for(var u=0;u<r.nodes.length;u++)o=r.nodes[u],l=t(o),$(this.box).find(s).append(l),0!==o.nodes.length&&this.refresh(o.id);return this.trigger($.extend(i,{phase:"after"})),(new Date).getTime()-n}},resize:function(){var e=(new Date).getTime(),t=this.trigger({phase:"before",type:"resize",target:this.name});return t.isCancelled!==!0?($(this.box).css("overflow","hidden"),$(this.box).find("> div").css({width:$(this.box).width()+"px",height:$(this.box).height()+"px"}),this.trigger($.extend(t,{phase:"after"})),(new Date).getTime()-e):void 0},destroy:function(){var e=this.trigger({phase:"before",type:"destroy",target:this.name});e.isCancelled!==!0&&($(this.box).find("> div > div.w2ui-sidebar-div").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-sidebar").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})))},lock:function(e,t){var n=$(this.box).find("> div:first-child"),i=Array.prototype.slice.call(arguments,0);i.unshift(n),w2utils.lock.apply(window,i)},unlock:function(){w2utils.unlock(this.box)}},$.extend(e.prototype,w2utils.event),w2obj.sidebar=e}(),function(e){var t=function(t){this.el=null,this.helpers={},this.type=t.type||"text",this.options=e.extend(!0,{},t),this.onSearch=t.onSearch||null,this.onRequest=t.onRequest||null,this.onLoad=t.onLoad||null,this.onError=t.onError||null,this.onClick=t.onClick||null,this.onAdd=t.onAdd||null,this.onNew=t.onNew||null,this.onRemove=t.onRemove||null,this.onMouseOver=t.onMouseOver||null,this.onMouseOut=t.onMouseOut||null,this.onIconClick=t.onIconClick||null,this.tmp={},delete this.options.type,delete this.options.onSearch,delete this.options.onRequest,delete this.options.onLoad,delete this.options.onError,delete this.options.onClick,delete this.options.onMouseOver,delete this.options.onMouseOut,delete this.options.onIconClick,e.extend(!0,this,w2obj.field)};e.fn.w2field=function(n,i){if(0!=this.length){if(0==arguments.length){var r=e(this).data("w2field");return r}return"string"==typeof n&&"object"==typeof i&&(n=e.extend(!0,{},i,{type:n})),"string"==typeof n&&"undefined"==typeof i&&(n={type:n}),n.type=String(n.type).toLowerCase(),this.each(function(i,r){var o=e(r).data("w2field");if("undefined"==typeof o){var o=new t(n);return e.extend(o,{handlers:[]}),r&&(o.el=e(r)[0]),o.init(),e(r).data("w2field",o),o}if(o.clear(),"clear"!=n.type){var o=new t(n);return e.extend(o,{handlers:[]}),r&&(o.el=e(r)[0]),o.init(),e(r).data("w2field",o),o}})}var o=t.prototype;return o[n]?o[n].apply(o,Array.prototype.slice.call(arguments,1)):void 0},t.prototype={custom:{},pallete:[["000000","444444","666666","999999","CCCCCC","EEEEEE","F3F3F3","FFFFFF"],["FF011B","FF9838","FFFD59","01FD55","00FFFE","0424F3","9B24F4","FF21F5"],["F4CCCC","FCE5CD","FFF2CC","D9EAD3","D0E0E3","CFE2F3","D9D1E9","EAD1DC"],["EA9899","F9CB9C","FEE599","B6D7A8","A2C4C9","9FC5E8","B4A7D6","D5A6BD"],["E06666","F6B26B","FED966","93C47D","76A5AF","6FA8DC","8E7CC3","C27BA0"],["CC0814","E69138","F1C232","6AA84F","45818E","3D85C6","674EA7","A54D79"],["99050C","B45F17","BF901F","37761D","124F5C","0A5394","351C75","741B47"],["660205","783F0B","7F6011","274E12","0C343D","063762","20124D","4C1030"]],addType:function(e,t){return e=String(e).toLowerCase(),this.custom[e]=t,!0},removeType:function(e){return e=String(e).toLowerCase(),this.custom[e]?(delete this.custom[e],!0):!1},init:function(){var t,n=this,i=this.options;if("function"==typeof this.custom[this.type])return void this.custom[this.type].call(this,i);if(-1==["INPUT","TEXTAREA"].indexOf(this.el.tagName))return void console.log("ERROR: w2field could only be applied to INPUT or TEXTAREA.",this.el);switch(this.type){case"text":case"int":case"float":case"money":case"currency":case"percent":case"alphanumeric":case"hex":t={min:null,max:null,step:1,placeholder:"",autoFormat:!0,currencyPrefix:w2utils.settings.currencyPrefix,currencySuffix:w2utils.settings.currencySuffix,currencyPrecision:w2utils.settings.currencyPrecision,decimalSymbol:w2utils.settings.decimalSymbol,groupSymbol:w2utils.settings.groupSymbol,arrows:!1,keyboard:!0,precision:null,silent:!0,prefix:"",suffix:""},this.options=e.extend(!0,{},t,i),i=this.options,i.numberRE=new RegExp("["+i.groupSymbol+"]","g"),i.moneyRE=new RegExp("["+i.currencyPrefix+i.currencySuffix+i.groupSymbol+"]","g"),
i.percentRE=new RegExp("["+i.groupSymbol+"%]","g"),-1!=["text","alphanumeric","hex"].indexOf(this.type)&&(i.arrows=!1,i.keyboard=!1),this.addPrefix(),this.addSuffix(),e(this.el).attr("placeholder")&&""==i.placeholder&&(i.placeholder=e(this.el).attr("placeholder")),e(this.el).attr("placeholder",i.placeholder);break;case"color":t={prefix:"#",suffix:'<div style="width: '+(parseInt(e(this.el).css("font-size"))||12)+'px">&nbsp;</div>',placeholder:"",arrows:!1,keyboard:!1},e.extend(i,t),this.addPrefix(),this.addSuffix(),e(this.el).attr("maxlength",6),""!=e(this.el).val()&&setTimeout(function(){e(n.el).change()},1),e(this.el).attr("placeholder")&&""==i.placeholder&&(i.placeholder=e(this.el).attr("placeholder")),e(this.el).attr("placeholder",i.placeholder);break;case"date":t={format:w2utils.settings.date_format,placeholder:"",keyboard:!0,silent:!0,start:"",end:"",blocked:{},colored:{}},this.options=e.extend(!0,{},t,i),i=this.options,e(this.el).attr("placeholder")&&""==i.placeholder&&(i.placeholder=e(this.el).attr("placeholder")),e(this.el).attr("placeholder",i.placeholder?i.placeholder:i.format);break;case"time":t={format:w2utils.settings.time_format,placeholder:"",keyboard:!0,silent:!0,start:"",end:""},this.options=e.extend(!0,{},t,i),i=this.options,e(this.el).attr("placeholder")&&""==i.placeholder&&(i.placeholder=e(this.el).attr("placeholder")),e(this.el).attr("placeholder",i.placeholder?i.placeholder:"h12"==i.format?"hh:mi pm":"hh:mi");break;case"datetime":break;case"list":case"combo":if(t={items:[],selected:{},placeholder:"",url:null,postData:{},minLength:1,cacheMax:250,maxDropHeight:350,match:"begins",silent:!0,icon:null,iconStyle:"",onSearch:null,onRequest:null,onLoad:null,onError:null,onIconClick:null,renderDrop:null,prefix:"",suffix:"",openOnFocus:!1,markSearch:!1},i.items=this.normMenu(i.items),"list"==this.type&&(t.openOnFocus=!0,t.suffix='<div class="arrow-down" style="margin-top: '+(parseInt(e(this.el).height())-6)/2+'px;"></div>',e(this.el).addClass("w2ui-select"),!e.isPlainObject(i.selected)))for(var r in i.items){var o=i.items[r];if(o&&o.id==i.selected){i.selected=e.extend(!0,{},o);break}}i=e.extend({},t,i,{align:"both",altRows:!0}),this.options=i,e.isPlainObject(i.selected)||(i.selected={}),e(this.el).data("selected",i.selected),i.url&&this.request(0),"list"==this.type&&this.addFocus(),this.addPrefix(),this.addSuffix(),setTimeout(function(){n.refresh()},10),e(this.el).attr("placeholder")&&""==i.placeholder&&(i.placeholder=e(this.el).attr("placeholder")),e(this.el).attr("placeholder",i.placeholder).attr("autocomplete","off"),"undefined"!=typeof i.selected.text&&e(this.el).val(i.selected.text);break;case"enum":t={items:[],selected:[],placeholder:"",max:0,url:null,postData:{},minLength:1,cacheMax:250,maxWidth:250,maxHeight:350,maxDropHeight:350,match:"contains",silent:!0,openOnFocus:!1,markSearch:!0,renderDrop:null,renderItem:null,style:"",onSearch:null,onRequest:null,onLoad:null,onError:null,onClick:null,onAdd:null,onNew:null,onRemove:null,onMouseOver:null,onMouseOut:null},i=e.extend({},t,i,{align:"both",suffix:"",altRows:!0}),i.items=this.normMenu(i.items),i.selected=this.normMenu(i.selected),this.options=i,e.isArray(i.selected)||(i.selected=[]),e(this.el).data("selected",i.selected),i.url&&this.request(0),this.addSuffix(),this.addMulti();break;case"file":t={selected:[],placeholder:w2utils.lang("Attach files by dragging and dropping or Click to Select"),max:0,maxSize:0,maxFileSize:0,maxWidth:250,maxHeight:350,maxDropHeight:350,silent:!0,renderItem:null,style:"",onClick:null,onAdd:null,onRemove:null,onMouseOver:null,onMouseOut:null},i=e.extend({},t,i,{align:"both",altRows:!0}),this.options=i,e.isArray(i.selected)||(i.selected=[]),e(this.el).data("selected",i.selected),e(this.el).attr("placeholder")&&(i.placeholder=e(this.el).attr("placeholder")),this.addMulti()}this.tmp={onChange:function(e){n.change.call(n,e)},onClick:function(e){n.click.call(n,e)},onFocus:function(e){n.focus.call(n,e)},onBlur:function(e){n.blur.call(n,e)},onKeydown:function(e){n.keyDown.call(n,e)},onKeyup:function(e){n.keyUp.call(n,e)},onKeypress:function(e){n.keyPress.call(n,e)}},e(this.el).addClass("w2field").data("w2field",this).on("change",this.tmp.onChange).on("click",this.tmp.onClick).on("focus",this.tmp.onFocus).on("blur",this.tmp.onBlur).on("keydown",this.tmp.onKeydown).on("keyup",this.tmp.onKeyup).on("keypress",this.tmp.onKeypress).css({"box-sizing":"border-box","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-o-box-sizing":"border-box"}),this.change(e.Event("change"))},clear:function(){var t=this.options;-1!=["money","currency"].indexOf(this.type)&&e(this.el).val(e(this.el).val().replace(t.moneyRE,"")),"percent"==this.type&&e(this.el).val(e(this.el).val().replace(/%/g,"")),"color"==this.type&&e(this.el).removeAttr("maxlength"),"list"==this.type&&e(this.el).removeClass("w2ui-select"),-1!=["date","time"].indexOf(this.type)&&e(this.el).attr("placeholder")==t.format&&e(this.el).attr("placeholder",""),this.type="clear";var n=e(this.el).data("tmp");if(this.tmp){"undefined"!=typeof n&&(n&&n["old-padding-left"]&&e(this.el).css("padding-left",n["old-padding-left"]),n&&n["old-padding-right"]&&e(this.el).css("padding-right",n["old-padding-right"])),e(this.el).val(this.clean(e(this.el).val())).removeClass("w2field").removeData().off("change",this.tmp.onChange).off("click",this.tmp.onClick).off("focus",this.tmp.onFocus).off("blur",this.tmp.onBlur).off("keydown",this.tmp.onKeydown).off("keyup",this.tmp.onKeyup).off("keypress",this.tmp.onKeypress);for(var i in this.helpers)e(this.helpers[i]).remove();this.helpers={}}},refresh:function(){var t=this,n=this.options,i=e(this.el).data("selected"),r=(new Date).getTime();if(-1!=["list"].indexOf(this.type)&&(e(t.el).parent().css("white-space","nowrap"),t.helpers.prefix&&t.helpers.prefix.hide(),setTimeout(function(){if(t.helpers.focus){!e.isEmptyObject(i)&&n.icon?(n.prefix='<span class="w2ui-icon '+n.icon+'"style="cursor: pointer; font-size: 14px; display: inline-block; margin-top: -1px; color: #7F98AD;'+n.iconStyle+'"></span>',t.addPrefix()):(n.prefix="",t.addPrefix());var r=t.helpers.focus.find("input");""==e(r).val()?(e(r).css("opacity",0).prev().css("opacity",0),e(t.el).val(i&&null!=i.text?i.text:""),e(t.el).attr("placeholder",n.placeholder||"")):(e(r).css("opacity",1).prev().css("opacity",1),e(t.el).val(""),e(t.el).removeAttr("placeholder"),setTimeout(function(){t.helpers.prefix&&t.helpers.prefix.hide();var i="position: absolute; opacity: 0; margin: 4px 0px 0px 2px; background-position: left !important;";n.icon?(e(r).css("margin-left","17px"),e(t.helpers.focus).find(".icon-search").attr("style",i+"width: 11px !important; opacity: 1")):(e(r).css("margin-left","0px"),e(t.helpers.focus).find(".icon-search").attr("style",i+"width: 0px !important; opacity: 0"))},1)),e(t.el).prop("readonly")||e(t.el).prop("disabled")?setTimeout(function(){e(t.helpers.prefix).css("opacity","0.6"),e(t.helpers.suffix).css("opacity","0.6")},1):setTimeout(function(){e(t.helpers.prefix).css("opacity","1"),e(t.helpers.suffix).css("opacity","1")},1)}},1)),-1!=["enum","file"].indexOf(this.type)){var o="";for(var s in i){var a=i[s],l="";l="function"==typeof n.renderItem?n.renderItem(a,s,'<div class="w2ui-list-remove" title="'+w2utils.lang("Remove")+'" index="'+s+'">&nbsp;&nbsp;</div>'):'<div class="w2ui-list-remove" title="'+w2utils.lang("Remove")+'" index="'+s+'">&nbsp;&nbsp;</div>'+("enum"==t.type?a.text:a.name+'<span class="file-size"> - '+w2utils.size(a.size)+"</span>"),o+='<li index="'+s+'" style="max-width: '+parseInt(n.maxWidth)+"px; "+(a.style?a.style:"")+'">'+l+"</li>"}var c=t.helpers.multi,u=c.find("ul");if(c.attr("style",c.attr("style")+";"+n.style),e(t.el).prop("readonly")||e(t.el).prop("disabled")?(c.addClass("w2ui-readonly"),c.css("pointer-events","none").find("li").css("opacity","0.6"),e(t.helpers.multi).find("input").prop("readonly",!0)):(c.removeClass("w2ui-readonly"),c.css("pointer-events","auto").find("li").css("opacity","1"),e(t.helpers.multi).find("input").prop("readonly",!1)),c.find(".w2ui-enum-placeholder").remove(),u.find("li").not("li.nomouse").remove(),""!=o)u.prepend(o);else if("undefined"!=typeof n.placeholder){var d="padding-top: "+e(this.el).css("padding-top")+";padding-left: "+e(this.el).css("padding-left")+"; box-sizing: "+e(this.el).css("box-sizing")+"; line-height: "+e(this.el).css("line-height")+"; font-size: "+e(this.el).css("font-size")+"; font-family: "+e(this.el).css("font-family")+"; ";c.prepend('<div class="w2ui-enum-placeholder" style="'+d+'">'+n.placeholder+"</div>")}c.find("li").data("mouse","out").on("click",function(n){var r=i[e(n.target).attr("index")];if(!e(n.target).hasClass("nomouse")){n.stopPropagation();var o=t.trigger({phase:"before",type:"click",target:t.el,originalEvent:n.originalEvent,item:r});if(o.isCancelled!==!0){if(e(n.target).hasClass("w2ui-list-remove")){if(e(t.el).attr("readonly")||e(t.el).attr("disabled"))return;var o=t.trigger({phase:"before",type:"remove",target:t.el,originalEvent:n.originalEvent,item:r});if(o.isCancelled===!0)return;e().w2overlay(),i.splice(e(n.target).attr("index"),1),e(t.el).trigger("change"),e(n.target).parent().fadeOut("fast"),setTimeout(function(){t.refresh(),t.trigger(e.extend(o,{phase:"after"}))},300)}if("file"==t.type&&!e(n.target).hasClass("w2ui-list-remove")){var s="";/image/i.test(r.type)&&(s='<div style="padding: 3px;">    <img src="'+(r.content?"data:"+r.type+";base64,"+r.content:"")+'" style="max-width: 300px;"         onload="var w = $(this).width(); var h = $(this).height();             if (w < 300 & h < 300) return;             if (w >= h && w > 300) $(this).width(300);            if (w < h && h > 300) $(this).height(300);"        onerror="this.style.display = \'none\'"    ></div>');var a='style="padding: 3px; text-align: right; color: #777;"',l='style="padding: 3px"';s+='<div style="padding: 8px;">    <table cellpadding="2">    <tr><td '+a+">"+w2utils.lang("Name")+":</td><td "+l+">"+r.name+"</td></tr>    <tr><td "+a+">"+w2utils.lang("Size")+":</td><td "+l+">"+w2utils.size(r.size)+"</td></tr>    <tr><td "+a+">"+w2utils.lang("Type")+":</td><td "+l+'>        <span style="width: 200px; display: block-inline; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">'+r.type+"</span>    </td></tr>    <tr><td "+a+">"+w2utils.lang("Modified")+":</td><td "+l+">"+w2utils.date(r.modified)+"</td></tr>    </table></div>",e(n.target).w2overlay(s)}t.trigger(e.extend(o,{phase:"after"}))}}}).on("mouseover",function(n){var r=n.target;if("LI"!=r.tagName&&(r=r.parentNode),!e(r).hasClass("nomouse")){if("out"==e(r).data("mouse")){var o=i[e(r).attr("index")],s=t.trigger({phase:"before",type:"mouseOver",target:t.el,originalEvent:n.originalEvent,item:o});if(s.isCancelled===!0)return;t.trigger(e.extend(s,{phase:"after"}))}e(r).data("mouse","over")}}).on("mouseout",function(n){var r=n.target;"LI"!=r.tagName&&(r=r.parentNode),e(r).hasClass("nomouse")||(e(r).data("mouse","leaving"),setTimeout(function(){if("leaving"==e(r).data("mouse")){e(r).data("mouse","out");var o=i[e(r).attr("index")],s=t.trigger({phase:"before",type:"f",target:t.el,originalEvent:n.originalEvent,item:o});if(s.isCancelled===!0)return;t.trigger(e.extend(s,{phase:"after"}))}},0))}),e(this.el).height("auto");var h=e(c).find("> div").height()+2*w2utils.getSize(c,"+height");26>h&&(h=26),h>n.maxHeight&&(h=n.maxHeight),c.length>0&&(c[0].scrollTop=1e3);var f=w2utils.getSize(e(this.el),"height")-2;f>h&&(h=f),e(c).css({height:h+"px",overflow:h==n.maxHeight?"auto":"hidden"}),h<n.maxHeight&&e(c).prop("scrollTop",0),e(this.el).css({height:h+2+"px"})}return(new Date).getTime()-r},reset:function(){var e=this.type;this.clear(),this.type=e,this.init()},clean:function(t){var n=this.options;return t=String(t).trim(),-1!=["int","float","money","currency","percent"].indexOf(this.type)&&("string"==typeof t&&(t=t.replace(n.decimalSymbol,".")),n.autoFormat&&-1!=["money","currency"].indexOf(this.type)&&(t=String(t).replace(n.moneyRE,"")),n.autoFormat&&"percent"==this.type&&(t=String(t).replace(n.percentRE,"")),n.autoFormat&&-1!=["int","float"].indexOf(this.type)&&(t=String(t).replace(n.numberRE,"")),parseFloat(t)==t&&(null!==n.min&&t<n.min&&(t=n.min,e(this.el).val(n.min)),null!==n.max&&t>n.max&&(t=n.max,e(this.el).val(n.max))),t=""!==t&&w2utils.isFloat(t)?Number(t):""),t},format:function(e){var t=this.options;if(t.autoFormat&&""!=e)switch(this.type){case"money":case"currency":e=w2utils.formatNumber(Number(e).toFixed(t.currencyPrecision),t.groupSymbol),""!=e&&(e=t.currencyPrefix+e+t.currencySuffix);break;case"percent":e=w2utils.formatNumber(t.precision?Number(e).toFixed(t.precision):e,t.groupSymbol),""!=e&&(e+="%");break;case"float":e=w2utils.formatNumber(t.precision?Number(e).toFixed(t.precision):e,t.groupSymbol);break;case"int":e=w2utils.formatNumber(e,t.groupSymbol)}return e},change:function(t){var n=this,i=n.options;if(-1!=["int","float","money","currency","percent"].indexOf(this.type)){var r=e(this.el).val(),o=this.format(this.clean(e(this.el).val()));if(""!=r&&r!=o)return e(this.el).val(o).change(),t.stopPropagation(),t.preventDefault(),!1}if("color"==this.type){var s="#"+e(this.el).val();6!=e(this.el).val().length&&3!=e(this.el).val().length&&(s=""),e(this.el).next().find("div").css("background-color",s),e(n.el).is(":focus")&&this.updateOverlay()}if(-1!=["list","enum","file"].indexOf(this.type)&&(n.refresh(),setTimeout(function(){n.refresh()},5)),-1!=["date","time"].indexOf(this.type)){var a=parseInt(n.el.value);w2utils.isInt(n.el.value)&&a>3e3&&("time"==this.type&&e(n.el).val(w2utils.formatTime(new Date(a),i.format)).change(),"date"==this.type&&e(n.el).val(w2utils.formatDate(new Date(a),i.format)).change())}},click:function(t){t.stopPropagation(),-1!=["list","combo","enum"].indexOf(this.type)&&(e(this.el).is(":focus")||this.focus(t)),-1!=["date","time","color"].indexOf(this.type)&&this.updateOverlay()},focus:function(t){var n=this;this.options;if(-1!==["color","date","time"].indexOf(n.type)){if(e(n.el).attr("readonly")||e(n.el).attr("disabled"))return;e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),setTimeout(function(){n.updateOverlay()},150)}if(-1!=["list","combo","enum"].indexOf(n.type)){if(e(n.el).attr("readonly")||e(n.el).attr("disabled"))return;e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),setTimeout(function(){return"list"==n.type&&e(n.el).is(":focus")?void e(n.helpers.focus).find("input").focus():(n.search(),void setTimeout(function(){n.updateOverlay()},1))},1)}"file"==n.type&&e(n.helpers.multi).css({outline:"auto 5px #7DB4F3","outline-offset":"-2px"})},blur:function(t){var n=this,i=n.options,r=e(n.el).val().trim();-1!=["color","date","time","list","combo","enum"].indexOf(n.type)&&e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),-1!=["int","float","money","currency","percent"].indexOf(n.type)&&(""===r||n.checkType(r)||(e(n.el).val("").change(),i.silent===!1&&(e(n.el).w2tag("Not a valid number"),setTimeout(function(){e(n.el).w2tag("")},3e3)))),-1!=["date","time"].indexOf(n.type)&&(""===r||n.inRange(n.el.value)?("date"!=n.type||""===r||w2utils.isDate(n.el.value,i.format)||(e(n.el).val("").removeData("selected").change(),i.silent===!1&&(e(n.el).w2tag("Not a valid date"),setTimeout(function(){e(n.el).w2tag("")},3e3))),"time"!=n.type||""===r||w2utils.isTime(n.el.value)||(e(n.el).val("").removeData("selected").change(),i.silent===!1&&(e(n.el).w2tag("Not a valid time"),setTimeout(function(){e(n.el).w2tag("")},3e3)))):(e(n.el).val("").removeData("selected").change(),i.silent===!1&&(e(n.el).w2tag("Not in range"),setTimeout(function(){e(n.el).w2tag("")},3e3)))),"enum"==n.type&&e(n.helpers.multi).find("input").val("").width(20),"file"==n.type&&e(n.helpers.multi).css({outline:"none"})},keyPress:function(e){var t=this;t.options;if(-1!=["int","float","money","currency","percent","hex","color","alphanumeric"].indexOf(t.type)){if(e.metaKey||e.ctrlKey||e.altKey||e.charCode!=e.keyCode&&e.keyCode>0)return;var n=String.fromCharCode(e.charCode);if(!t.checkType(n,!0)&&13!=e.keyCode)return e.preventDefault(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1}-1!=["date","time"].indexOf(t.type)&&setTimeout(function(){t.updateOverlay()},1)},keyDown:function(t,n){var i=this,r=i.options,o=t.keyCode||n&&n.keyCode;if(-1!=["int","float","money","currency","percent"].indexOf(i.type)){if(!r.keyboard||e(i.el).attr("readonly"))return;var s=!1,a=parseFloat(e(i.el).val().replace(r.moneyRE,""))||0,l=r.step;switch((t.ctrlKey||t.metaKey)&&(l=10),o){case 38:if(t.shiftKey)break;e(i.el).val(a+l<=r.max||null===r.max?Number((a+l).toFixed(12)):r.max).change(),s=!0;break;case 40:if(t.shiftKey)break;e(i.el).val(a-l>=r.min||null===r.min?Number((a-l).toFixed(12)):r.min).change(),s=!0}s&&(t.preventDefault(),setTimeout(function(){i.el.setSelectionRange(i.el.value.length,i.el.value.length)},0))}if("date"==i.type){if(!r.keyboard||e(i.el).attr("readonly"))return;var s=!1,c=864e5,l=1;(t.ctrlKey||t.metaKey)&&(l=10);var u=w2utils.isDate(e(i.el).val(),r.format,!0);switch(u||(u=new Date,c=0),o){case 38:if(t.shiftKey)break;var d=w2utils.formatDate(u.getTime()+c,r.format);10==l&&(d=w2utils.formatDate(new Date(u.getFullYear(),u.getMonth()+1,u.getDate()),r.format)),e(i.el).val(d).change(),s=!0;break;case 40:if(t.shiftKey)break;var d=w2utils.formatDate(u.getTime()-c,r.format);10==l&&(d=w2utils.formatDate(new Date(u.getFullYear(),u.getMonth()-1,u.getDate()),r.format)),e(i.el).val(d).change(),s=!0}s&&(t.preventDefault(),setTimeout(function(){i.el.setSelectionRange(i.el.value.length,i.el.value.length),i.updateOverlay()},0))}if("time"==i.type){if(!r.keyboard||e(i.el).attr("readonly"))return;var s=!1,l=t.ctrlKey||t.metaKey?60:1,a=e(i.el).val(),h=i.toMin(a)||i.toMin((new Date).getHours()+":"+((new Date).getMinutes()-1));switch(o){case 38:if(t.shiftKey)break;h+=l,s=!0;break;case 40:if(t.shiftKey)break;h-=l,s=!0}s&&(e(i.el).val(i.fromMin(h)).change(),t.preventDefault(),setTimeout(function(){i.el.setSelectionRange(i.el.value.length,i.el.value.length)},0))}if("color"==i.type){if(e(i.el).attr("readonly"))return;if(86==t.keyCode&&(t.ctrlKey||t.metaKey)&&(e(i.el).prop("maxlength",7),setTimeout(function(){var t=e(i).val();"#"==t.substr(0,1)&&(t=t.substr(1)),w2utils.isHex(t)||(t=""),e(i).val(t).prop("maxlength",6).change()},20)),(t.ctrlKey||t.metaKey)&&!t.shiftKey){if("undefined"==typeof i.tmp.cind1)i.tmp.cind1=-1,i.tmp.cind2=-1;else{switch(o){case 38:i.tmp.cind1--;break;case 40:i.tmp.cind1++;break;case 39:i.tmp.cind2++;break;case 37:i.tmp.cind2--}i.tmp.cind1<0&&(i.tmp.cind1=0),i.tmp.cind1>this.pallete.length-1&&(i.tmp.cind1=this.pallete.length-1),i.tmp.cind2<0&&(i.tmp.cind2=0),i.tmp.cind2>this.pallete[0].length-1&&(i.tmp.cind2=this.pallete[0].length-1)}-1!=[37,38,39,40].indexOf(o)&&(e(i.el).val(this.pallete[i.tmp.cind1][i.tmp.cind2]).change(),t.preventDefault())}}if(-1!=["list","combo","enum"].indexOf(i.type)){if(e(i.el).attr("readonly"))return;var s=!1,f=e(i.el).data("selected"),p=e(i.helpers.focus).find("input");switch("list"==i.type&&-1==[37,38,39,40].indexOf(o)&&i.refresh(),o){case 27:"list"==i.type&&(""!=e(p).val()&&e(p).val(""),t.stopPropagation());break;case 37:case 39:break;case 13:if(0==e("#w2ui-overlay").length)break;var m=r.items[r.index],g=e(i.helpers.multi).find("input");if("enum"==i.type)if(null!=m){var v=i.trigger({phase:"before",type:"add",target:i.el,originalEvent:t.originalEvent,item:m});if(v.isCancelled===!0)return;m=v.item,f.length>=r.max&&r.max>0&&f.pop(),delete m.hidden,delete i.tmp.force_open,f.push(m),e(i.el).change(),g.val("").width(20),i.refresh(),i.trigger(e.extend(v,{phase:"after"}))}else{m={id:g.val(),text:g.val()};var v=i.trigger({phase:"before",type:"new",target:i.el,originalEvent:t.originalEvent,item:m});if(v.isCancelled===!0)return;m=v.item,"function"==typeof i.onNew&&(f.length>=r.max&&r.max>0&&f.pop(),delete i.tmp.force_open,f.push(m),e(i.el).change(),g.val("").width(20),i.refresh()),i.trigger(e.extend(v,{phase:"after"}))}else m&&e(i.el).data("selected",m).val(m.text).change(),""==e(i.el).val()&&e(i.el).data("selected")&&e(i.el).removeData("selected").val("").change(),"list"==i.type&&(p.val(""),i.refresh()),i.tmp.force_hide=!0;break;case 8:case 46:if("enum"==i.type&&8==o&&""==e(i.helpers.multi).find("input").val()&&f.length>0){var m=f[f.length-1],v=i.trigger({phase:"before",type:"remove",target:i.el,originalEvent:t.originalEvent,item:m});if(v.isCancelled===!0)return;f.pop(),e(i.el).trigger("change"),i.refresh(),i.trigger(e.extend(v,{phase:"after"}))}"list"==i.type&&""==e(p).val()&&(e(i.el).data("selected",{}).change(),i.refresh());break;case 38:for(r.index=w2utils.isInt(r.index)?parseInt(r.index):0,r.index--;r.index>0&&r.items[r.index].hidden;)r.index--;if(0==r.index&&r.items[r.index].hidden)for(;r.items[r.index]&&r.items[r.index].hidden;)r.index++;s=!0;break;case 40:for(r.index=w2utils.isInt(r.index)?parseInt(r.index):-1,r.index++;r.index<r.items.length-1&&r.items[r.index].hidden;)r.index++;if(r.index==r.items.length-1&&r.items[r.index].hidden)for(;r.items[r.index]&&r.items[r.index].hidden;)r.index--;var y=i.el;-1!=["enum"].indexOf(i.type)&&(y=i.helpers.multi.find("input")),""==e(y).val()&&0==e("#w2ui-overlay").length?i.tmp.force_open=!0:s=!0}if(s)return r.index<0&&(r.index=0),r.index>=r.items.length&&(r.index=r.items.length-1),i.updateOverlay(),t.preventDefault(),void setTimeout(function(){if("enum"==i.type){var e=i.helpers.multi.find("input").get(0);e.setSelectionRange(e.value.length,e.value.length)}else if("list"==i.type){var e=i.helpers.focus.find("input").get(0);e.setSelectionRange(e.value.length,e.value.length)}else i.el.setSelectionRange(i.el.value.length,i.el.value.length)},0);if("enum"==i.type){var y=i.helpers.multi.find("input"),b=y.val();y.width(8*(b.length+2)+"px")}-1==[16,17,18,20,37,39,91].indexOf(o)&&setTimeout(function(){i.tmp.force_hide||i.request(),i.search()},1)}},keyUp:function(t){"color"==this.type&&86==t.keyCode&&(t.ctrlKey||t.metaKey)&&e(this).prop("maxlength",6)},clearCache:function(){var e=this.options;e.items=[],this.tmp.xhr_loading=!1,this.tmp.xhr_search="",this.tmp.xhr_total=-1,this.search()},request:function(t){var n=this,i=this.options,r=e(n.el).val()||"";if(i.url){if("enum"==n.type){var o=e(n.helpers.multi).find("input");r=0==o.length?"":o.val()}if("list"==n.type){var o=e(n.helpers.focus).find("input");r=0==o.length?"":o.val()}if(0!=i.minLength&&r.length<i.minLength)return i.items=[],void this.updateOverlay();"undefined"==typeof t&&(t=350),"undefined"==typeof n.tmp.xhr_search&&(n.tmp.xhr_search=""),"undefined"==typeof n.tmp.xhr_total&&(n.tmp.xhr_total=-1),i.url&&1!=e(n.el).prop("readonly")&&(0===i.items.length&&0!==n.tmp.xhr_total||n.tmp.xhr_total==i.cacheMax&&r.length>n.tmp.xhr_search.length||r.length>=n.tmp.xhr_search.length&&r.substr(0,n.tmp.xhr_search.length)!=n.tmp.xhr_search||r.length<n.tmp.xhr_search.length)&&(n.tmp.xhr_loading=!0,n.search(),clearTimeout(n.tmp.timeout),n.tmp.timeout=setTimeout(function(){var t=i.url,o={search:r,max:i.cacheMax};e.extend(o,i.postData);var s=n.trigger({phase:"before",type:"request",target:n.el,url:t,postData:o});if(s.isCancelled!==!0){t=s.url,o=s.postData,n.tmp.xhr&&n.tmp.xhr.abort();var a={type:"GET",url:t,data:o,dataType:"JSON"};"JSON"==w2utils.settings.dataType&&(a.type="POST",a.data=JSON.stringify(a.data),a.contentType="application/json"),n.tmp.xhr=e.ajax(a).done(function(t,s,a){var l=n.trigger({phase:"before",type:"load",target:n.el,search:o.search,data:t,xhr:a});if(l.isCancelled!==!0){if(t=l.data,"string"==typeof t&&(t=JSON.parse(t)),"success"!=t.status)return void console.log("ERROR: server did not return proper structure. It should return",{status:"success",items:[{id:1,text:"item"}]});t.items.length>i.cacheMax&&t.items.splice(i.cacheMax,1e5),n.tmp.xhr_loading=!1,n.tmp.xhr_search=r,n.tmp.xhr_total=t.items.length,i.items=n.normMenu(t.items),""==r&&0==t.items.length?n.tmp.emptySet=!0:n.tmp.emptySet=!1,n.search(),n.trigger(e.extend(l,{phase:"after"}))}}).fail(function(t,i,o){var s={status:i,error:o,rawResponseText:t.responseText},a=n.trigger({phase:"before",type:"error",target:n.el,search:r,error:s,xhr:t});if(a.isCancelled!==!0){if("abort"!=i){var l;try{l=e.parseJSON(t.responseText)}catch(c){}console.log("ERROR: Server communication failed.","\n   EXPECTED:",{status:"success",items:[{id:1,text:"item"}]},"\n         OR:",{status:"error",message:"error message"},"\n   RECEIVED:","object"==typeof l?l:t.responseText)}n.clearCache(),n.trigger(e.extend(a,{phase:"after"}))}}),n.trigger(e.extend(s,{phase:"after"}))}},t))}},search:function(){var t=this,n=this.options,i=e(t.el).val(),r=t.el,o=[],s=e(t.el).data("selected");if("enum"==t.type){r=e(t.helpers.multi).find("input"),i=r.val();for(var a in s)s[a]&&o.push(s[a].id)}if("list"==t.type){r=e(t.helpers.focus).find("input"),i=r.val();for(var a in s)s[a]&&o.push(s[a].id)}var l=t.trigger({phase:"before",type:"search",target:r,search:i});if(l.isCancelled!==!0){if(t.tmp.xhr_loading!==!0){var c=0;for(var u in n.items){var d=n.items[u],h="",f="";-1!=["is","begins"].indexOf(n.match)&&(h="^"),-1!=["is","ends"].indexOf(n.match)&&(f="$");try{var p=new RegExp(h+i+f,"i");p.test(d.text)||"..."==d.text?d.hidden=!1:d.hidden=!0}catch(m){}"enum"==t.type&&-1!=e.inArray(d.id,o)&&(d.hidden=!0),d.hidden!==!0&&c++}if("combo"!=t.type)for(n.index=0;n.items[n.index]&&n.items[n.index].hidden;)n.index++;else n.index=-1;0>=c&&(n.index=-1),n.spinner=!1,t.updateOverlay(),setTimeout(function(){var t=e("#w2ui-overlay").html()||"";n.markSearch&&-1!=t.indexOf("$.fn.w2menuHandler")&&e("#w2ui-overlay").w2marker(i)},1)}else n.items.splice(0,n.cacheMax),n.spinner=!0,t.updateOverlay();t.trigger(e.extend(l,{phase:"after"}))}},updateOverlay:function(){var t=this,n=this.options;if("color"==this.type){if(e(t.el).attr("readonly"))return;0==e("#w2ui-overlay").length?e(t.el).w2overlay(t.getColorHTML()):e("#w2ui-overlay").html(t.getColorHTML()),e("#w2ui-overlay .color").on("mousedown",function(n){var i=e(n.originalEvent.target).attr("name"),r=e(n.originalEvent.target).attr("index").split(":");t.tmp.cind1=r[0],t.tmp.cind2=r[1],e(t.el).val(i).change(),e(this).html("&#149;")}).on("mouseup",function(){setTimeout(function(){e("#w2ui-overlay").length>0&&e("#w2ui-overlay").removeData("keepOpen")[0].hide()},10)})}if("date"==this.type){if(e(t.el).attr("readonly"))return;0==e("#w2ui-overlay").length&&e(t.el).w2overlay('<div class="w2ui-reset w2ui-calendar" onclick="event.stopPropagation();"></div>',{css:{"background-color":"#f5f5f5"}});var i,r,o=w2utils.isDate(e(t.el).val(),t.options.format,!0);o&&(i=o.getMonth()+1,r=o.getFullYear()),function u(n,i){e("#w2ui-overlay > div > div").html(t.getMonthHTML(n,i)),e("#w2ui-overlay .w2ui-calendar-title").on("mousedown",function(){if(e(this).next().hasClass("w2ui-calendar-jump"))e(this).next().remove();else{var n,i;e(this).after('<div class="w2ui-calendar-jump" style=""></div>'),e(this).next().hide().html(t.getYearHTML()).fadeIn(200),setTimeout(function(){e("#w2ui-overlay .w2ui-calendar-jump").find(".w2ui-jump-month, .w2ui-jump-year").on("click",function(){e(this).hasClass("w2ui-jump-month")&&(e(this).parent().find(".w2ui-jump-month").removeClass("selected"),e(this).addClass("selected"),i=e(this).attr("name")),e(this).hasClass("w2ui-jump-year")&&(e(this).parent().find(".w2ui-jump-year").removeClass("selected"),e(this).addClass("selected"),n=e(this).attr("name")),null!=n&&null!=i&&(e("#w2ui-overlay .w2ui-calendar-jump").fadeOut(100),setTimeout(function(){u(parseInt(i)+1,n)},100))}),e("#w2ui-overlay .w2ui-calendar-jump >:last-child").prop("scrollTop",2e3)},1)}}),e("#w2ui-overlay .w2ui-date").on("mousedown",function(){var n=e(this).attr("date");e(t.el).val(n).change(),e(this).css({"background-color":"#B6D5FB","border-color":"#aaa"})}).on("mouseup",function(){setTimeout(function(){e("#w2ui-overlay").length>0&&e("#w2ui-overlay").removeData("keepOpen")[0].hide()},10)}),e("#w2ui-overlay .previous").on("mousedown",function(){var e=t.options.current.split("/");e[0]=parseInt(e[0])-1,u(e[0],e[1])}),e("#w2ui-overlay .next").on("mousedown",function(){var e=t.options.current.split("/");e[0]=parseInt(e[0])+1,u(e[0],e[1])})}(i,r)}if("time"==this.type){if(e(t.el).attr("readonly"))return;0==e("#w2ui-overlay").length&&e(t.el).w2overlay('<div class="w2ui-reset w2ui-calendar-time" onclick="event.stopPropagation();"></div>',{css:{"background-color":"#fff"}});var s="h24"==this.options.format?!0:!1;e("#w2ui-overlay > div").html(t.getHourHTML()),e("#w2ui-overlay .w2ui-time").on("mousedown",function(n){e(this).css({"background-color":"#B6D5FB","border-color":"#aaa"});var i=e(this).attr("hour");e(t.el).val((i>12&&!s?i-12:i)+":00"+(s?"":12>i?" am":" pm")).change()}).on("mouseup",function(){var n=e(this).attr("hour");e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),e(t.el).w2overlay('<div class="w2ui-reset w2ui-calendar-time"></div>',{css:{"background-color":"#fff"}}),e("#w2ui-overlay > div").html(t.getMinHTML(n)),e("#w2ui-overlay .w2ui-time").on("mousedown",function(){e(this).css({"background-color":"#B6D5FB","border-color":"#aaa"});var i=e(this).attr("min");e(t.el).val((n>12&&!s?n-12:n)+":"+(10>i?0:"")+i+(s?"":12>n?" am":" pm")).change()}).on("mouseup",function(){setTimeout(function(){e("#w2ui-overlay").length>0&&e("#w2ui-overlay").removeData("keepOpen")[0].hide()},10)})})}if(-1!=["list","combo","enum"].indexOf(this.type)){var a=this.el,l=this.el;if("enum"==this.type&&(a=e(this.helpers.multi),l=e(a).find("input")),"list"==this.type&&(l=e(this.helpers.focus).find("input")),e(l).is(":focus")){if(n.openOnFocus===!1&&""==e(l).val()&&t.tmp.force_open!==!0)return void e().w2overlay();if(t.tmp.force_hide)return e().w2overlay(),void setTimeout(function(){delete t.tmp.force_hide},1);""!=e(l).val()&&delete t.tmp.force_open,0==e("#w2ui-overlay").length&&(n.index=0);var c=w2utils.lang("No matches");null!=n.url&&e(l).val().length<n.minLength&&t.tmp.emptySet!==!0&&(c=n.minLength+" "+w2utils.lang("letters or more...")),null!=n.url&&""==e(l).val()&&t.tmp.emptySet!==!0&&(c=w2utils.lang("Type to search....")),e(a).w2menu("refresh",e.extend(!0,{},n,{search:!1,render:n.renderDrop,maxHeight:n.maxDropHeight,msgNoItems:c,onSelect:function(i){if("enum"==t.type){var r=e(t.el).data("selected");if(i.item){var o=t.trigger({phase:"before",type:"add",target:t.el,originalEvent:i.originalEvent,item:i.item});if(o.isCancelled===!0)return;r.length>=n.max&&n.max>0&&r.pop(),delete i.item.hidden,r.push(i.item),e(t.el).data("selected",r).change(),e(t.helpers.multi).find("input").val("").width(20),t.refresh(),e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),t.trigger(e.extend(o,{phase:"after"}))}}else e(t.el).data("selected",i.item).val(i.item.text).change(),t.helpers.focus&&t.helpers.focus.find("input").val("")}}))}}},inRange:function(t){var n=!1;if("date"==this.type){var i=w2utils.isDate(t,this.options.format,!0);if(i){if(this.options.start||this.options.end){var r="string"==typeof this.options.start?this.options.start:e(this.options.start).val(),o="string"==typeof this.options.end?this.options.end:e(this.options.end).val(),s=w2utils.isDate(r,this.options.format,!0),a=w2utils.isDate(o,this.options.format,!0),l=new Date(i);s||(s=l),a||(a=l),l>=s&&a>=l&&(n=!0)}else n=!0;this.options.blocked&&-1!=e.inArray(t,this.options.blocked)&&(n=!1)}}if("time"==this.type)if(this.options.start||this.options.end){var c=this.toMin(t),u=this.toMin(this.options.start),d=this.toMin(this.options.end);u||(u=c),d||(d=c),c>=u&&d>=c&&(n=!0)}else n=!0;return n},checkType:function(e,t){var n=this;switch(n.type){case"int":return t&&-1!=["-",n.options.groupSymbol].indexOf(e)?!0:w2utils.isInt(e.replace(n.options.numberRE,""));case"percent":e=e.replace(/%/g,"");case"float":return t&&-1!=["-",w2utils.settings.decimalSymbol,n.options.groupSymbol].indexOf(e)?!0:w2utils.isFloat(e.replace(n.options.numberRE,""));case"money":case"currency":return t&&-1!=["-",n.options.decimalSymbol,n.options.groupSymbol,n.options.currencyPrefix,n.options.currencySuffix].indexOf(e)?!0:w2utils.isFloat(e.replace(n.options.moneyRE,""));
case"hex":case"color":return w2utils.isHex(e);case"alphanumeric":return w2utils.isAlphaNumeric(e)}return!0},addPrefix:function(){var t=this;setTimeout(function(){if("clear"!==t.type){var n,i=e(t.el).data("tmp")||{};i["old-padding-left"]&&e(t.el).css("padding-left",i["old-padding-left"]),i["old-padding-left"]=e(t.el).css("padding-left"),e(t.el).data("tmp",i),t.helpers.prefix&&e(t.helpers.prefix).remove(),""!==t.options.prefix&&(e(t.el).before('<div class="w2ui-field-helper">'+t.options.prefix+"</div>"),n=e(t.el).prev(),n.css({color:e(t.el).css("color"),"font-family":e(t.el).css("font-family"),"font-size":e(t.el).css("font-size"),"padding-top":e(t.el).css("padding-top"),"padding-bottom":e(t.el).css("padding-bottom"),"padding-left":e(t.el).css("padding-left"),"padding-right":0,"margin-top":parseInt(e(t.el).css("margin-top"),10)+2+"px","margin-bottom":parseInt(e(t.el).css("margin-bottom"),10)+1+"px","margin-left":e(t.el).css("margin-left"),"margin-right":0}).on("click",function(n){if(t.options.icon&&"function"==typeof t.onIconClick){var i=t.trigger({phase:"before",type:"iconClick",target:t.el,el:e(this).find("span.w2ui-icon")[0]});if(i.isCancelled===!0)return;t.trigger(e.extend(i,{phase:"after"}))}else"list"==t.type?e(t.helpers.focus).find("input").focus():e(t.el).focus()}),e(t.el).css("padding-left",n.width()+parseInt(e(t.el).css("padding-left"),10)+"px"),t.helpers.prefix=n)}},1)},addSuffix:function(){var t,n,i=this;setTimeout(function(){if("clear"!==i.type){var r=e(i.el).data("tmp")||{};if(r["old-padding-right"]&&e(i.el).css("padding-right",r["old-padding-right"]),r["old-padding-right"]=e(i.el).css("padding-right"),e(i.el).data("tmp",r),n=parseInt(e(i.el).css("padding-right"),10),i.options.arrows){i.helpers.arrows&&e(i.helpers.arrows).remove(),e(i.el).after('<div class="w2ui-field-helper" style="border: 1px solid transparent">&nbsp;    <div class="w2ui-field-up" type="up">        <div class="arrow-up" type="up"></div>    </div>    <div class="w2ui-field-down" type="down">        <div class="arrow-down" type="down"></div>    </div></div>');w2utils.getSize(i.el,"height");t=e(i.el).next(),t.css({color:e(i.el).css("color"),"font-family":e(i.el).css("font-family"),"font-size":e(i.el).css("font-size"),height:e(i.el).height()+parseInt(e(i.el).css("padding-top"),10)+parseInt(e(i.el).css("padding-bottom"),10)+"px",padding:0,"margin-top":parseInt(e(i.el).css("margin-top"),10)+1+"px","margin-bottom":0,"border-left":"1px solid silver"}).css("margin-left","-"+(t.width()+parseInt(e(i.el).css("margin-right"),10)+12)+"px").on("mousedown",function(t){function n(){clearTimeout(e("body").data("_field_update_timer")),e("body").off("mouseup",n)}function r(n){e(i.el).focus(),i.keyDown(e.Event("keydown"),{keyCode:"up"==e(t.target).attr("type")?38:40}),n!==!1&&e("body").data("_field_update_timer",setTimeout(r,60))}e("body").on("mouseup",n),e("body").data("_field_update_timer",setTimeout(r,700)),r(!1)}),n+=t.width()+12,e(i.el).css("padding-right",n+"px"),i.helpers.arrows=t}""!==i.options.suffix&&(i.helpers.suffix&&e(i.helpers.suffix).remove(),e(i.el).after('<div class="w2ui-field-helper">'+i.options.suffix+"</div>"),t=e(i.el).next(),t.css({color:e(i.el).css("color"),"font-family":e(i.el).css("font-family"),"font-size":e(i.el).css("font-size"),"padding-top":e(i.el).css("padding-top"),"padding-bottom":e(i.el).css("padding-bottom"),"padding-left":"3px","padding-right":e(i.el).css("padding-right"),"margin-top":parseInt(e(i.el).css("margin-top"),10)+2+"px","margin-bottom":parseInt(e(i.el).css("margin-bottom"),10)+1+"px"}).on("click",function(t){"list"==i.type?e(i.helpers.focus).find("input").focus():e(i.el).focus()}),t.css("margin-left","-"+(w2utils.getSize(t,"width")+parseInt(e(i.el).css("margin-right"),10)+2)+"px"),n+=t.width()+3,e(i.el).css("padding-right",n+"px"),i.helpers.suffix=t)}},1)},addFocus:function(){var t=this,n=(this.options,0);e(t.helpers.focus).remove();var i=e(t.el).attr("tabIndex");i&&-1!=i&&(t.el._tabIndex=i),t.el._tabIndex&&(i=t.el._tabIndex);var r='<div class="w2ui-field-helper">    <div class="w2ui-icon icon-search"></div>    <input type="text" autocomplete="off" tabindex="'+i+'"><div>';e(t.el).attr("tabindex",-1).before(r);var o=e(t.el).prev();t.helpers.focus=o,o.css({width:e(t.el).width(),"margin-top":e(t.el).css("margin-top"),"margin-left":parseInt(e(t.el).css("margin-left"))+parseInt(e(t.el).css("padding-left"))+"px","margin-bottom":e(t.el).css("margin-bottom"),"margin-right":e(t.el).css("margin-right")}).find("input").css({cursor:"default",width:"100%",outline:"none",opacity:1,margin:0,border:"1px solid transparent",padding:e(t.el).css("padding-top"),"padding-left":0,"margin-left":n>0?n+6:0,"background-color":"transparent"}),o.find("input").on("click",function(n){0==e("#w2ui-overlay").length&&t.focus(n),n.stopPropagation()}).on("focus",function(n){e(t.el).css({outline:"auto 5px #7DB4F3","outline-offset":"-2px"}),e(this).val(""),e(t.el).triggerHandler("focus"),n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}).on("blur",function(n){e(t.el).css("outline","none"),e(this).val(""),t.refresh(),e(t.el).triggerHandler("blur"),n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}).on("keyup",function(e){t.keyUp(e)}).on("keydown",function(e){t.keyDown(e)}).on("keypress",function(e){t.keyPress(e)}),o.on("click",function(t){e(this).find("input").focus()}),t.refresh()},addMulti:function(){var t=this;this.options;e(t.helpers.multi).remove();var n="",i="margin-top     : 0px; margin-bottom  : 0px; margin-left    : "+e(t.el).css("margin-left")+"; margin-right   : "+e(t.el).css("margin-right")+"; width          : "+(w2utils.getSize(t.el,"width")-parseInt(e(t.el).css("margin-left"),10)-parseInt(e(t.el).css("margin-right"),10))+"px;";"enum"==t.type&&(n='<div class="w2ui-field-helper w2ui-list" style="'+i+'; box-sizing: border-box">    <div style="padding: 0px; margin: 0px; margin-right: 20px; display: inline-block">    <ul>        <li style="padding-left: 0px; padding-right: 0px" class="nomouse">            <input type="text" style="width: 20px" autocomplete="off" '+(e(t.el).attr("readonly")?"readonly":"")+">        </li>"),"file"==t.type&&(n='<div class="w2ui-field-helper w2ui-list" style="'+i+'; box-sizing: border-box">    <div style="padding: 0px; margin: 0px; margin-right: 20px; display: inline-block">    <ul><li style="padding-left: 0px; padding-right: 0px" class="nomouse"></li></ul>    <input class="file-input" type="file" name="attachment" multiple style="display: none" tabindex="-1">'),e(t.el).before(n).css({"background-color":"transparent","border-color":"transparent"});var r=e(t.el).prev();t.helpers.multi=r,"enum"==t.type&&(e(t.el).attr("tabindex",-1),r.find("input").on("click",function(n){0==e("#w2ui-overlay").length&&t.focus(n),e(t.el).triggerHandler("click")}).on("focus",function(n){e(r).css({outline:"auto 5px #7DB4F3","outline-offset":"-2px"}),e(t.el).triggerHandler("focus"),n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}).on("blur",function(n){e(r).css("outline","none"),e(t.el).triggerHandler("blur"),n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}).on("keyup",function(e){t.keyUp(e)}).on("keydown",function(e){t.keyDown(e)}).on("keypress",function(e){r.find(".w2ui-enum-placeholder").remove(),t.keyPress(e)}),r.on("click",function(t){e(this).find("input").focus()})),"file"==t.type&&(e(t.el).css("outline","none"),r.on("click",function(n){e(t.el).focus(),e(t.el).attr("readonly")||(t.blur(n),r.find("input").click())}).on("dragenter",function(n){e(t.el).attr("readonly")||e(r).addClass("w2ui-file-dragover")}).on("dragleave",function(n){if(!e(t.el).attr("readonly")){var i=e(n.target).parents(".w2ui-field-helper");0==i.length&&e(r).removeClass("w2ui-file-dragover")}}).on("drop",function(n){if(!e(t.el).attr("readonly")){e(r).removeClass("w2ui-file-dragover");for(var i=n.originalEvent.dataTransfer.files,o=0,s=i.length;s>o;o++)t.addFile.call(t,i[o]);n.preventDefault(),n.stopPropagation()}}).on("dragover",function(e){e.preventDefault(),e.stopPropagation()}),r.find("input").on("click",function(e){e.stopPropagation()}).on("change",function(){if("undefined"!=typeof this.files)for(var e=0,n=this.files.length;n>e;e++)t.addFile.call(t,this.files[e])})),t.refresh()},addFile:function(t){var n,i=this,r=this.options,o=e(i.el).data("selected"),s={name:t.name,type:t.type,modified:t.lastModifiedDate,size:t.size,content:null},a=0,l=0;for(var c in o){if(o[c].name==t.name&&o[c].size==t.size)return;a+=o[c].size,l++}var u=i.trigger({phase:"before",type:"add",target:i.el,file:s,total:l,totalSize:a});if(u.isCancelled!==!0){if(0!==r.maxFileSize&&s.size>r.maxFileSize)return n="Maximum file size is "+w2utils.size(r.maxFileSize),r.silent===!1&&e(i.el).w2tag(n),void console.log("ERROR: "+n);if(0!==r.maxSize&&a+s.size>r.maxSize)return n="Maximum total size is "+w2utils.size(r.maxSize),r.silent===!1&&e(i.el).w2tag(n),void console.log("ERROR: "+n);if(0!==r.max&&l>=r.max)return n="Maximum number of files is "+r.max,r.silent===!1&&e(i.el).w2tag(n),void console.log("ERROR: "+n);if(o.push(s),"undefined"!=typeof FileReader){var d=new FileReader;d.onload=function(){return function(t){var n=t.target.result,r=n.indexOf(",");s.content=n.substr(r+1),i.refresh(),e(i.el).trigger("change"),i.trigger(e.extend(u,{phase:"after"}))}}(),d.readAsDataURL(t)}else i.refresh(),e(i.el).trigger("change")}},normMenu:function(t){if(e.isArray(t)){for(var n=0;n<t.length;n++)"string"==typeof t[n]?t[n]={id:t[n],text:t[n]}:("undefined"!=typeof t[n].text&&"undefined"==typeof t[n].id&&(t[n].id=t[n].text),"undefined"==typeof t[n].text&&"undefined"!=typeof t[n].id&&(t[n].text=t[n].id),"undefined"!=typeof t[n].caption&&(t[n].text=t[n].caption));return t}if("object"==typeof t){var i=[];for(var n in t)i.push({id:n,text:t[n]});return i}},getColorHTML:function(){for(var t='<div class="w2ui-color"><table cellspacing="5">',n=0;8>n;n++){t+="<tr>";for(var i=0;8>i;i++)t+='<td>    <div class="color" style="background-color: #'+this.pallete[n][i]+';" name="'+this.pallete[n][i]+'" index="'+n+":"+i+'">        '+(e(this.el).val()==this.pallete[n][i]?"&#149;":"&nbsp;")+"    </div></td>";t+="</tr>",2>n&&(t+='<tr><td style="height: 8px" colspan="8"></td></tr>')}return t+="</table></div>"},getMonthHTML:function(e,t){var n=new Date,i=w2utils.settings.fullmonths,r=(w2utils.settings.fulldays,["31","28","31","30","31","30","31","31","30","31","30","31"]),o=n.getFullYear()+"/"+(Number(n.getMonth())+1)+"/"+n.getDate();t=w2utils.isInt(t)?parseInt(t):n.getFullYear(),e=w2utils.isInt(e)?parseInt(e):n.getMonth()+1,e>12&&(e-=12,t++),(1>e||0===e)&&(e+=12,t--),t/4==Math.floor(t/4)?r[1]="29":r[1]="28",this.options.current=e+"/"+t,n=new Date(t,e-1,1);for(var s=n.getDay(),a=w2utils.settings.shortdays,l="",c=0,u=a.length;u>c;c++)l+="<td>"+a[c]+"</td>";for(var d='<div class="w2ui-calendar-title title">    <div class="w2ui-calendar-previous previous"> <div></div> </div>    <div class="w2ui-calendar-next next"> <div></div> </div> '+i[e-1]+", "+t+'</div><table class="w2ui-calendar-days" cellspacing="0">    <tr class="w2ui-day-title">'+l+"</tr>    <tr>",h=1,f=1;43>f;f++){if(0===s&&1==f){for(var p=0;6>p;p++)d+='<td class="w2ui-day-empty">&nbsp;</td>';f+=6}else if(s>f||h>r[e-1]){d+='<td class="w2ui-day-empty">&nbsp;</td>',f%7===0&&(d+="</tr><tr>");continue}var m=t+"/"+e+"/"+h,g="";f%7==6&&(g=" w2ui-saturday"),f%7===0&&(g=" w2ui-sunday"),m==o&&(g+=" w2ui-today");var v=h,y="",b="",w=w2utils.formatDate(m,this.options.format);this.options.colored&&void 0!==this.options.colored[w]&&(tmp=this.options.colored[w].split(":"),b="background-color: "+tmp[0]+";",y="color: "+tmp[1]+";"),d+='<td class="'+(this.inRange(w)?"w2ui-date ":"w2ui-blocked")+g+'" style="'+y+b+'" date="'+w+'">'+v+"</td>",(f%7===0||0===s&&1==f)&&(d+="</tr><tr>"),h++}return d+="</tr></table>"},getYearHTML:function(){var e=w2utils.settings.shortmonths,t="",n="";for(var i in e)t+='<div class="w2ui-jump-month" name="'+i+'">'+e[i]+"</div>";for(var r=1950;2020>=r;r++)n+='<div class="w2ui-jump-year" name="'+r+'">'+r+"</div>";return"<div>"+t+"</div><div>"+n+"</div>"},getHourHTML:function(){for(var e=[],t="h24"==this.options.format?!0:!1,n=0;24>n;n++){var i=(n>=12&&!t?n-12:n)+":00"+(t?"":12>n?" am":" pm");12!=n||t||(i="12:00 pm"),e[Math.floor(n/8)]||(e[Math.floor(n/8)]="");var r=this.fromMin(this.toMin(i)),o=this.fromMin(this.toMin(i)+59);e[Math.floor(n/8)]+='<div class="'+(this.inRange(r)||this.inRange(o)?"w2ui-time ":"w2ui-blocked")+'" hour="'+n+'">'+i+"</div>"}var s='<div class="w2ui-calendar-time"><table><tr>    <td>'+e[0]+"</td>    <td>"+e[1]+"</td>    <td>"+e[2]+"</td></tr></table></div>";return s},getMinHTML:function(e){"undefined"==typeof e&&(e=0);for(var t="h24"==this.options.format?!0:!1,n=[],i=0;60>i;i+=5){var r=(e>12&&!t?e-12:e)+":"+(10>i?0:"")+i+" "+(t?"":12>e?"am":"pm"),o=20>i?0:40>i?1:2;n[o]||(n[o]=""),n[o]+='<div class="'+(this.inRange(r)?"w2ui-time ":"w2ui-blocked")+'" min="'+i+'">'+r+"</div>"}var s='<div class="w2ui-calendar-time"><table><tr>    <td>'+n[0]+"</td>    <td>"+n[1]+"</td>    <td>"+n[2]+"</td></tr></table></div>";return s},toMin:function(e){if("string"!=typeof e)return null;var t=e.split(":");return 2!=t.length?null:(t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),-1!=e.indexOf("pm")&&12!=t[0]&&(t[0]+=12),60*t[0]+t[1])},fromMin:function(e){var t="";e>=1440&&(e%=1440),0>e&&(e=1440+e);var n=Math.floor(e/60),i=(10>e%60?"0":"")+e%60;return t=-1!=this.options.format.indexOf("h24")?n+":"+i:(12>=n?n:n-12)+":"+i+" "+(n>=12?"pm":"am")}},e.extend(t.prototype,w2utils.event),w2obj.field=t}(jQuery),function(){var w2form=function(e){this.name=null,this.header="",this.box=null,this.url="",this.routeData={},this.formURL="",this.formHTML="",this.page=0,this.recid=0,this.fields=[],this.actions={},this.record={},this.original={},this.postData={},this.toolbar={},this.tabs={},this.style="",this.focus=0,this.msgNotJSON=w2utils.lang("Return data is not in JSON format."),this.msgAJAXerror=w2utils.lang("AJAX error. See console for more details."),this.msgRefresh=w2utils.lang("Refreshing..."),this.msgSaving=w2utils.lang("Saving..."),this.onRequest=null,this.onLoad=null,this.onValidate=null,this.onSubmit=null,this.onSave=null,this.onChange=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,this.onAction=null,this.onToolbar=null,this.onError=null,this.isGenerated=!1,this.last={xhr:null},$.extend(!0,this,w2obj.form,e)};$.fn.w2form=function(e){if("object"==typeof e||!e){var t=this;if(!w2utils.checkName(e,"w2form"))return;var n=e.record,i=e.original,r=e.fields,o=e.toolbar,s=e.tabs,a=new w2form(e);if($.extend(a,{record:{},original:{},fields:[],tabs:{},toolbar:{},handlers:[]}),$.isArray(s)){$.extend(!0,a.tabs,{tabs:[]});for(var l in s){var c=s[l];"object"==typeof c?a.tabs.tabs.push(c):a.tabs.tabs.push({id:c,caption:c})}}else $.extend(!0,a.tabs,s);$.extend(!0,a.toolbar,o);for(var u in r){var d=$.extend(!0,{},r[u]);"undefined"==typeof d.name&&"undefined"!=typeof d.field&&(d.name=d.field),"undefined"==typeof d.field&&"undefined"!=typeof d.name&&(d.field=d.name),a.fields[u]=d}for(var u in n)$.isPlainObject(n[u])?a.record[u]=$.extend(!0,{},n[u]):a.record[u]=n[u];for(var u in i)$.isPlainObject(i[u])?a.original[u]=$.extend(!0,{},i[u]):a.original[u]=i[u];return t.length>0&&(a.box=t[0]),""!=a.formURL?$.get(a.formURL,function(e){a.formHTML=e,a.isGenerated=!0,(0!=$(a.box).length||0!=e.length)&&($(a.box).html(e),a.render(a.box))}):""!=a.formHTML||(0!=$(this).length&&""!=$.trim($(this).html())?a.formHTML=$(this).html():a.formHTML=a.generateHTML()),w2ui[a.name]=a,""==a.formURL&&(-1==String(a.formHTML).indexOf("w2ui-page")&&(a.formHTML='<div class="w2ui-page page-0">'+a.formHTML+"</div>"),$(a.box).html(a.formHTML),a.isGenerated=!0,a.render(a.box)),a}if(w2ui[$(this).attr("name")]){var t=w2ui[$(this).attr("name")];return t[e].apply(t,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+e+" does not exist on jQuery.w2form")},w2form.prototype={get:function(e,t){if(0===arguments.length){var n=[];for(var i in this.fields)null!=this.fields[i].name&&n.push(this.fields[i].name);return n}for(var r in this.fields)if(this.fields[r].name==e)return t===!0?r:this.fields[r];return null},set:function(e,t){for(var n in this.fields)if(this.fields[n].name==e)return $.extend(this.fields[n],t),this.refresh(),!0;return!1},reload:function(e){var t="object"!=typeof this.url?this.url:this.url.get;t&&0!=this.recid?this.request(e):"function"==typeof e&&e()},clear:function(){this.recid=0,this.record={},$().w2tag(),this.refresh()},error:function(e){var t=this.trigger({target:this.name,type:"error",message:e,xhr:this.last.xhr});return t.isCancelled===!0?void("function"==typeof callBack&&callBack()):(setTimeout(function(){w2alert(e,"Error")},1),void this.trigger($.extend(t,{phase:"after"})))},validate:function(e){"undefined"==typeof e&&(e=!0),$().w2tag();var t=[];for(var n in this.fields){var i=this.fields[n];switch(null==this.record[i.name]&&(this.record[i.name]=""),i.type){case"int":this.record[i.name]&&!w2utils.isInt(this.record[i.name])&&t.push({field:i,error:w2utils.lang("Not an integer")});break;case"float":this.record[i.name]&&!w2utils.isFloat(this.record[i.name])&&t.push({field:i,error:w2utils.lang("Not a float")});break;case"money":this.record[i.name]&&!w2utils.isMoney(this.record[i.name])&&t.push({field:i,error:w2utils.lang("Not in money format")});break;case"color":case"hex":this.record[i.name]&&!w2utils.isHex(this.record[i.name])&&t.push({field:i,error:w2utils.lang("Not a hex number")});break;case"email":this.record[i.name]&&!w2utils.isEmail(this.record[i.name])&&t.push({field:i,error:w2utils.lang("Not a valid email")});break;case"checkbox":1==this.record[i.name]?this.record[i.name]=1:this.record[i.name]=0;break;case"date":i.options.format||(i.options.format=w2utils.settings.date_format),this.record[i.name]&&!w2utils.isDate(this.record[i.name],i.options.format)&&t.push({field:i,error:w2utils.lang("Not a valid date")+": "+i.options.format});break;case"list":case"combo":break;case"enum":}var r=this.record[i.name];i.required&&(""===r||$.isArray(r)&&0==r.length||$.isPlainObject(r)&&$.isEmptyObject(r))&&t.push({field:i,error:w2utils.lang("Required field")}),i.equalto&&this.record[i.name]!=this.record[i.equalto]&&t.push({field:i,error:w2utils.lang("Field should be equal to ")+i.equalto})}var o=this.trigger({phase:"before",target:this.name,type:"validate",errors:t});if(o.isCancelled!==!0){if(e)for(var s in o.errors){var a=o.errors[s];"radio"==a.field.type?$($(a.field.el).parents("div")[0]).w2tag(a.error,{"class":"w2ui-error"}):-1!=["enum","file"].indexOf(a.field.type)?!function(e){setTimeout(function(){var t=$(e.field.el).data("w2field").helpers.multi;$(e.field.el).w2tag(e.error),$(t).addClass("w2ui-error")},1)}(a):$(a.field.el).w2tag(a.error,{"class":"w2ui-error"}),this["goto"](t[0].field.page)}return this.trigger($.extend(o,{phase:"after"})),t}},getChanges:function(){var e=function(t,n,i){for(var r in t)"object"==typeof t[r]?(i[r]=e(t[r],n[r]||{},{}),(!i[r]||$.isEmptyObject(i[r]))&&delete i[r]):t[r]!=n[r]&&(i[r]=t[r]);return i};return e(this.record,this.original,{})},request:function(postData,callBack){var obj=this;if("function"==typeof postData&&(callBack=postData,postData=null),("undefined"==typeof postData||null==postData)&&(postData={}),this.url&&("object"!=typeof this.url||this.url.get)){(null==this.recid||"undefined"==typeof this.recid)&&(this.recid=0);var params={};params.cmd="get-record",params.recid=this.recid,$.extend(params,this.postData),$.extend(params,postData);var eventData=this.trigger({phase:"before",type:"request",target:this.name,url:this.url,postData:params});if(eventData.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));this.record={},this.original={},this.lock(this.msgRefresh);var url=eventData.url;if("object"==typeof eventData.url&&eventData.url.get&&(url=eventData.url.get),this.last.xhr)try{this.last.xhr.abort()}catch(e){}if(!$.isEmptyObject(obj.routeData)){var info=w2utils.parseRoute(url);if(info.keys.length>0)for(var k=0;k<info.keys.length;k++)null!=obj.routeData[info.keys[k].name]&&(url=url.replace(new RegExp(":"+info.keys[k].name,"g"),obj.routeData[info.keys[k].name]))}var ajaxOptions={type:"POST",url:url,data:eventData.postData,dataType:"text"};"HTTP"==w2utils.settings.dataType&&(ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]")),"RESTFULL"==w2utils.settings.dataType&&(ajaxOptions.type="GET",ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]")),"JSON"==w2utils.settings.dataType&&(ajaxOptions.type="POST",ajaxOptions.data=JSON.stringify(ajaxOptions.data),ajaxOptions.contentType="application/json"),this.last.xhr=$.ajax(ajaxOptions).done(function(data,status,xhr){obj.unlock();var eventData=obj.trigger({phase:"before",target:obj.name,type:"load",xhr:xhr});if(eventData.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));var data,responseText=obj.last.xhr.responseText;if("error"!=status){if("undefined"!=typeof responseText&&""!=responseText){if("object"==typeof responseText)data=responseText;else try{eval("data = "+responseText)}catch(e){}"undefined"==typeof data&&(data={status:"error",message:obj.msgNotJSON,responseText:responseText}),"error"==data.status?obj.error(data.message):(obj.record=$.extend({},data.record),obj.original=$.extend({},data.record))}}else obj.error("AJAX Error "+xhr.status+": "+xhr.statusText),data={status:"error",message:obj.msgAJAXerror,responseText:responseText};obj.trigger($.extend(eventData,{phase:"after"})),obj.refresh(),"function"==typeof callBack&&callBack(data)}).fail(function(e,t,n){var i={status:t,error:n,rawResponseText:e.responseText},r=obj.trigger({phase:"before",type:"error",error:i,xhr:e});if(r.isCancelled!==!0){if("abort"!=t){var o;try{o=$.parseJSON(e.responseText)}catch(s){}console.log("ERROR: Server communication failed.","\n   EXPECTED:",{status:"success",items:[{id:1,text:"item"}]},"\n         OR:",{status:"error",message:"error message"},"\n   RECEIVED:","object"==typeof o?o:e.responseText)}obj.trigger($.extend(r,{phase:"after"}))}}),this.trigger($.extend(eventData,{phase:"after"}))}},submit:function(e,t){return this.save(e,t)},save:function(postData,callBack){var obj=this;$(this.box).find(":focus").change(),"function"==typeof postData&&(callBack=postData,postData=null);var errors=obj.validate(!0);if(0===errors.length){if(("undefined"==typeof postData||null==postData)&&(postData={}),!obj.url||"object"==typeof obj.url&&!obj.url.save)return void console.log("ERROR: Form cannot be saved because no url is defined.");obj.lock(obj.msgSaving+' <span id="'+obj.name+'_progress"></span>'),setTimeout(function(){var params={};params.cmd="save-record",params.recid=obj.recid,$.extend(params,obj.postData),$.extend(params,postData),params.record=$.extend(!0,{},obj.record);var eventData=obj.trigger({phase:"before",type:"submit",target:obj.name,url:obj.url,postData:params});if(eventData.isCancelled!==!0){var url=eventData.url;if("object"==typeof eventData.url&&eventData.url.save&&(url=eventData.url.save),obj.last.xhr)try{obj.last.xhr.abort()}catch(e){}if(!$.isEmptyObject(obj.routeData)){var info=w2utils.parseRoute(url);if(info.keys.length>0)for(var k=0;k<info.keys.length;k++)null!=obj.routeData[info.keys[k].name]&&(url=url.replace(new RegExp(":"+info.keys[k].name,"g"),obj.routeData[info.keys[k].name]))}var ajaxOptions={type:"POST",url:url,data:eventData.postData,dataType:"text",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total*100);$("#"+obj.name+"_progress").text(""+t+"%")}},!1),e}};"HTTP"==w2utils.settings.dataType&&(ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]")),"RESTFULL"==w2utils.settings.dataType&&(0!=obj.recid&&(ajaxOptions.type="PUT"),ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]")),"JSON"==w2utils.settings.dataType&&(ajaxOptions.type="POST",ajaxOptions.data=JSON.stringify(ajaxOptions.data),ajaxOptions.contentType="application/json"),obj.last.xhr=$.ajax(ajaxOptions).done(function(data,status,xhr){obj.unlock();var eventData=obj.trigger({phase:"before",target:obj.name,type:"save",xhr:xhr,status:status});if(eventData.isCancelled!==!0){var data,responseText=xhr.responseText;if("error"!=status){if("undefined"!=typeof responseText&&""!=responseText){if("object"==typeof responseText)data=responseText;else try{eval("data = "+responseText)}catch(e){}"undefined"==typeof data&&(data={status:"error",message:obj.msgNotJSON,responseText:responseText}),"error"==data.status?obj.error(data.message):obj.original=$.extend({},obj.record)}}else obj.error("AJAX Error "+xhr.status+": "+xhr.statusText),data={status:"error",message:obj.msgAJAXerror,responseText:responseText};obj.trigger($.extend(eventData,{phase:"after"})),obj.refresh(),"success"==data.status&&"function"==typeof callBack&&callBack(data)}}).fail(function(e,t,n){var i={status:t,error:n,rawResponseText:e.responseText},r=obj.trigger({phase:"before",type:"error",error:i,xhr:e});r.isCancelled!==!0&&(console.log("ERROR: server communication failed. The server should return",{status:"success"},"OR",{status:"error",message:"error message"},", instead the AJAX request produced this: ",i),obj.trigger($.extend(r,{phase:"after"})))}),obj.trigger($.extend(eventData,{phase:"after"}))}},50)}},lock:function(e,t){var n=$(this.box).find("> div:first-child"),i=Array.prototype.slice.call(arguments,0);i.unshift(n),w2utils.lock.apply(window,i)},unlock:function(){var e=this;setTimeout(function(){w2utils.unlock(e.box)},25)},"goto":function(e){"undefined"!=typeof e&&(this.page=e),$(this.box).data("auto-size")===!0&&$(this.box).height(0),this.refresh()},generateHTML:function(){var e,t=[],n="";for(var i in this.fields){var r="",o=this.fields[i];"undefined"==typeof o.html&&(o.html={}),o.html=$.extend(!0,{caption:"",span:6,attr:"",text:"",page:0},o.html),"undefined"==typeof e&&(e=o.html.page),""==o.html.caption&&(o.html.caption=o.name);var s='<input name="'+o.name+'" type="text" '+o.html.attr+"/>";("pass"===o.type||"password"===o.type)&&(s='<input name="'+o.name+'" type = "password" '+o.html.attr+"/>"),"checkbox"==o.type&&(s='<input name="'+o.name+'" type="checkbox" '+o.html.attr+"/>"),"textarea"==o.type&&(s='<textarea name="'+o.name+'" '+o.html.attr+"></textarea>"),"toggle"==o.type&&(s='<input name="'+o.name+'" type="checkbox" '+o.html.attr+' class="w2ui-toggle"/><div><div></div></div>'),o.html.group&&(""!=n&&(r+="\n   </div>"),r+='\n   <div class="w2ui-group-title">'+o.html.group+'</div>\n   <div class="w2ui-group">',n=o.html.group),o.html.page!=e&&""!=n&&(t[t.length-1]+="\n   </div>",n=""),r+='\n      <div class="w2ui-field '+("undefined"!=typeof o.html.span?"w2ui-span"+o.html.span:"")+'">\n         <label>'+w2utils.lang(o.html.caption)+"</label>\n         <div>"+s+w2utils.lang(o.html.text)+"</div>\n      </div>","undefined"==typeof t[o.html.page]&&(t[o.html.page]=""),t[o.html.page]+=r,e=o.html.page}if(""!=n&&(t[t.length-1]+="\n   </div>"),this.tabs.tabs)for(var a=0;a<this.tabs.tabs.length;a++)"undefined"==typeof t[a]&&(t[a]="");for(var l in t)t[l]='<div class="w2ui-page page-'+l+'">'+t[l]+"\n</div>";var c="";if(!$.isEmptyObject(this.actions)){var u="";c+='\n<div class="w2ui-buttons">';for(var d in this.actions)u=-1!=["save","update","create"].indexOf(d.toLowerCase())?"btn-green":"",c+='\n    <button name="'+d+'" class="btn '+u+'">'+w2utils.lang(d)+"</button>";c+="\n</div>"}return t.join("")+c},action:function(e,t){var n=this.trigger({phase:"before",target:e,type:"action",originalEvent:t});n.isCancelled!==!0&&("function"==typeof this.actions[e]&&this.actions[e].call(this,t),this.trigger($.extend(n,{phase:"after"})))},resize:function(){function e(){i.width($(t.box).width()).height($(t.box).height()),o.css("top",""!=t.header?w2utils.getSize(r,"height"):0),s.css("top",(""!=t.header?w2utils.getSize(r,"height"):0)+("object"==typeof t.toolbar&&$.isArray(t.toolbar.items)&&t.toolbar.items.length>0?w2utils.getSize(o,"height"):0)),a.css("top",(""!=t.header?w2utils.getSize(r,"height"):0)+("object"==typeof t.toolbar&&$.isArray(t.toolbar.items)&&t.toolbar.items.length>0?w2utils.getSize(o,"height")+5:0)+("object"==typeof t.tabs&&$.isArray(t.tabs.tabs)&&t.tabs.tabs.length>0?w2utils.getSize(s,"height")+5:0)),a.css("bottom",u.length>0?w2utils.getSize(u,"height"):0)}var t=this,n=this.trigger({phase:"before",target:this.name,type:"resize"});if(n.isCancelled!==!0){var i=$(this.box).find("> div"),r=$(this.box).find("> div .w2ui-form-header"),o=$(this.box).find("> div .w2ui-form-toolbar"),s=$(this.box).find("> div .w2ui-form-tabs"),a=$(this.box).find("> div .w2ui-page"),l=$(this.box).find("> div .w2ui-page.page-"+this.page),c=$(this.box).find("> div .w2ui-page.page-"+this.page+" > div"),u=$(this.box).find("> div .w2ui-buttons");e(),(0==parseInt($(this.box).height())||$(this.box).data("auto-size")===!0)&&($(this.box).height((r.length>0?w2utils.getSize(r,"height"):0)+("object"==typeof this.tabs&&$.isArray(this.tabs.tabs)&&this.tabs.tabs.length>0?w2utils.getSize(s,"height"):0)+("object"==typeof this.toolbar&&$.isArray(this.toolbar.items)&&this.toolbar.items.length>0?w2utils.getSize(o,"height"):0)+(a.length>0?w2utils.getSize(c,"height")+w2utils.getSize(l,"+height")+12:0)+(u.length>0?w2utils.getSize(u,"height"):0)),$(this.box).data("auto-size",!0)),e(),t.trigger($.extend(n,{phase:"after"}))}},refresh:function(){var e=(new Date).getTime(),t=this;if(this.box&&this.isGenerated&&"undefined"!=typeof $(this.box).html()){$(this.box).find("input, textarea, select").each(function(e,n){var i="undefined"!=typeof $(n).attr("name")?$(n).attr("name"):$(n).attr("id"),r=t.get(i);if(r){var o=$(n).parents(".w2ui-page");if(o.length>0)for(var s=0;100>s;s++)if(o.hasClass("page-"+s)){r.page=s;break}}});var n=this.trigger({phase:"before",target:this.name,type:"refresh",page:this.page});if(n.isCancelled!==!0){$(this.box).find(".w2ui-page").hide(),$(this.box).find(".w2ui-page.page-"+this.page).show(),$(this.box).find(".w2ui-form-header").html(this.header),"object"==typeof this.tabs&&$.isArray(this.tabs.tabs)&&this.tabs.tabs.length>0?($("#form_"+this.name+"_tabs").show(),this.tabs.active=this.tabs.tabs[this.page].id,this.tabs.refresh()):$("#form_"+this.name+"_tabs").hide(),"object"==typeof this.toolbar&&$.isArray(this.toolbar.items)&&this.toolbar.items.length>0?($("#form_"+this.name+"_toolbar").show(),this.toolbar.refresh()):$("#form_"+this.name+"_toolbar").hide();for(var i in this.fields){var r=this.fields[i];"undefined"==typeof r.name&&"undefined"!=typeof r.field&&(r.name=r.field),"undefined"==typeof r.field&&"undefined"!=typeof r.name&&(r.field=r.name),r.$el=$(this.box).find('[name="'+String(r.name).replace(/\\/g,"\\\\")+'"]'),r.el=r.$el[0],"undefined"==typeof r.el&&console.log('ERROR: Cannot associate field "'+r.name+'" with html control. Make sure html control exists with the same name.'),r.el&&(r.el.id=r.name);var o=$(r).data("w2field");o&&o.clear(),$(r.$el).off("change").on("change",function(){var e=this.value,n=t.record[this.name]?t.record[this.name]:"",i=t.get(this.name);if(-1!=["list","enum","file"].indexOf(i.type)&&$(this).data("selected")){var r=$(this).data("selected"),o=t.record[this.name];if($.isArray(r)){e=[];for(var s in r)e[s]=$.extend(!0,{},r[s])}if($.isPlainObject(r)&&(e=$.extend(!0,{},r)),$.isArray(o)){n=[];for(var s in o)n[s]=$.extend(!0,{},o[s])}$.isPlainObject(o)&&(n=$.extend(!0,{},o))}if(-1!=["toggle","checkbox"].indexOf(i.type)&&(e=$(this).prop("checked")?!0:!1),-1!=["int","float","percent","money","currency"].indexOf(i.type)&&(e=$(this).data("w2field").clean(e)),e!==n){var a=t.trigger({phase:"before",target:this.name,type:"change",value_new:e,value_previous:n});if(a.isCancelled===!0)return void $(this).val(t.record[this.name]);var l=this.value;if("select"==this.type&&(l=this.value),
"checkbox"==this.type&&(l=this.checked?!0:!1),"radio"==this.type&&i.$el.each(function(e,t){t.checked&&(l=t.value)}),-1!=["int","float","percent","money","currency","list","combo","enum","file","toggle"].indexOf(i.type)&&(l=e),-1!=["enum","file"].indexOf(i.type)&&l.length>0){var c=$(i.el).data("w2field").helpers.multi;$(c).removeClass("w2ui-error")}t.record[this.name]=l,t.trigger($.extend(a,{phase:"after"}))}}),r.required?$(r.el).parent().parent().addClass("w2ui-required"):$(r.el).parent().parent().removeClass("w2ui-required")}$(this.box).find("button, input[type=button]").each(function(e,n){$(n).off("click").on("click",function(e){var n=this.value;this.id&&(n=this.id),this.name&&(n=this.name),t.action(n,e)})});for(var i in this.fields){var r=this.fields[i],s="undefined"!=typeof this.record[r.name]?this.record[r.name]:"";if(r.el)switch(r.type=String(r.type).toLowerCase(),r.options||(r.options={}),r.type){case"text":case"textarea":case"email":case"pass":case"password":r.el.value=s;break;case"int":case"float":case"money":case"currency":case"percent":case"hex":case"alphanumeric":case"color":case"date":case"time":r.el.value=s,$(r.el).w2field($.extend({},r.options,{type:r.type}));break;case"toggle":w2utils.isFloat(s)&&(s=parseFloat(s)),$(r.el).prop("checked",s?!0:!1),this.record[r.name]=s?1:0;break;case"list":case"combo":if("list"==r.type){var a=$.isPlainObject(s)?s.id:s,l=r.options.items;$.isArray(l)&&l.length>0&&!$.isPlainObject(l[0])&&(r.options.items=w2obj.field.prototype.normMenu(l));for(var c in r.options.items){var u=r.options.items[c];if(u.id==a){s=$.extend(!0,{},u),t.record[r.name]=s;break}}}else"combo"!=r.type||$.isPlainObject(s)?$.isPlainObject(s)&&"undefined"!=typeof s.text?r.el.value=s.text:r.el.value="":r.el.value=s;$.isPlainObject(s)||(s={}),$(r.el).w2field($.extend({},r.options,{type:r.type,selected:s}));break;case"enum":case"file":$.isArray(s)||(s=[]),$(r.el).w2field($.extend({},r.options,{type:r.type,selected:s}));break;case"select":var l=r.options.items;if("undefined"!=typeof l&&l.length>0){l=w2obj.field.prototype.normMenu(l),$(r.el).html("");for(var d in l)$(r.el).append('<option value="'+l[d].id+'">'+l[d].text+"</option")}$(r.el).val(s);break;case"radio":$(r.$el).prop("checked",!1).each(function(e,t){$(t).val()==s&&$(t).prop("checked",!0)});break;case"checkbox":$(r.el).prop("checked",s?!0:!1);break;default:$(r.el).w2field($.extend({},r.options,{type:r.type}))}}for(var o=$(this.box).find(".w2ui-page"),c=0;c<o.length;c++)$(o[c]).find("> *").length>1&&$(o[c]).wrapInner("<div></div>");return this.trigger($.extend(n,{phase:"after"})),this.resize(),(new Date).getTime()-e}}},render:function(e){function t(){var e=$(i.box).find("input, select, textarea");e.length>i.focus&&e[i.focus].focus()}var n=(new Date).getTime(),i=this;if("object"==typeof e&&($(this.box).find("#form_"+this.name+"_tabs").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-form").html(""),this.box=e),this.isGenerated&&this.box){var r=this.trigger({phase:"before",target:this.name,type:"render",box:"undefined"!=typeof e?e:this.box});if(r.isCancelled!==!0){$.isEmptyObject(this.original)&&!$.isEmptyObject(this.record)&&(this.original=$.extend(!0,{},this.record));var o="<div>"+(""!=this.header?'<div class="w2ui-form-header">'+this.header+"</div>":"")+'    <div id="form_'+this.name+'_toolbar" class="w2ui-form-toolbar"></div>    <div id="form_'+this.name+'_tabs" class="w2ui-form-tabs"></div>'+this.formHTML+"</div>";$(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-form").html(o),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),"function"!=typeof this.toolbar.render&&(this.toolbar=$().w2toolbar($.extend({},this.toolbar,{name:this.name+"_toolbar",owner:this})),this.toolbar.on("click",function(e){var t=i.trigger({phase:"before",type:"toolbar",target:e.target,originalEvent:e});t.isCancelled!==!0&&i.trigger($.extend(t,{phase:"after"}))})),"object"==typeof this.toolbar&&"function"==typeof this.toolbar.render&&this.toolbar.render($("#form_"+this.name+"_toolbar")[0]),"function"!=typeof this.tabs.render&&(this.tabs=$().w2tabs($.extend({},this.tabs,{name:this.name+"_tabs",owner:this})),this.tabs.on("click",function(e){i["goto"](this.get(e.target,!0))})),"object"==typeof this.tabs&&"function"==typeof this.tabs.render&&this.tabs.render($("#form_"+this.name+"_tabs")[0]),this.trigger($.extend(r,{phase:"after"})),this.resize();var s="object"!=typeof this.url?this.url:this.url.get;return s&&0!=this.recid?this.request():this.refresh(),0==$(".w2ui-layout").length&&(this.tmp_resize=function(e){w2ui[i.name].resize()},$(window).off("resize","body").on("resize","body",this.tmp_resize)),setTimeout(function(){i.resize(),i.refresh()},150),this.focus>=0&&setTimeout(t,500),(new Date).getTime()-n}}},destroy:function(){var e=this.trigger({phase:"before",target:this.name,type:"destroy"});e.isCancelled!==!0&&("object"==typeof this.toolbar&&this.toolbar.destroy&&this.toolbar.destroy(),"object"==typeof this.tabs&&this.tabs.destroy&&this.tabs.destroy(),$(this.box).find("#form_"+this.name+"_tabs").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-form").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})),$(window).off("resize","body"))}},$.extend(w2form.prototype,w2utils.event),w2obj.form=w2form}(),this.w2ui=w2ui,this.w2obj=w2obj,this.w2utils=w2utils,this.w2popup=w2popup,this.w2alert=w2alert,this.w2confirm=w2confirm}.call(System.global),System.get("@@global-helpers").retrieveGlobal(__module.id,!1)}),System.register("npm:core-js@0.9.10/library/modules/es6.object.statics-accept-primitives",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.def"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$"),o=require("npm:core-js@0.9.10/library/modules/$.def"),s=r.isObject,a=r.toObject;return r.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(e,t){var n=(r.core.Object||{})[e]||Object[e],i=0,l={};l[e]=0==t?function(e){return s(e)?n(e):e}:1==t?function(e){return s(e)?n(e):e}:2==t?function(e){return s(e)?n(e):e}:3==t?function(e){return s(e)?n(e):!0}:4==t?function(e){return s(e)?n(e):!0}:5==t?function(e){return s(e)?n(e):!1}:6==t?function(e,t){return n(a(e),t)}:7==t?function(e){return n(Object(r.assertDefined(e)))}:8==t?function(e){return n(a(e))}:function(e){return n(a(e))};try{n("z")}catch(c){i=1}o(o.S+o.F*i,"Object",l)}),n.define=i,t.exports}),System.register("npm:js-cookie@1.5.1/src/js.cookie",["github:components/jquery@2.1.4"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){var i;if("function"==typeof define&&define.amd)define(["jquery"],n);else if("object"==typeof e){try{i=require("github:components/jquery@2.1.4")}catch(r){}t.exports=n(i)}else{var o=window.Cookies,s=window.Cookies=n(window.jQuery);s.noConflict=function(){return window.Cookies=o,s}}}(function(e){function t(e){return c.raw?e:encodeURIComponent(e)}function n(e){return c.raw?e:decodeURIComponent(e)}function i(e){return t(c.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(l," ")),c.json?JSON.parse(e):e}catch(t){}}function o(e,t){var n=c.raw?e:r(e);return a(t)?t(n):n}function s(){for(var e,t,n=0,i={};n<arguments.length;n++){t=arguments[n];for(e in t)i[e]=t[e]}return i}function a(e){return"[object Function]"===Object.prototype.toString.call(e)}var l=/\+/g,c=function(e,r,l){if(arguments.length>1&&!a(r)){if(l=s(c.defaults,l),"number"==typeof l.expires){var u=l.expires,d=l.expires=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*u)}return document.cookie=[t(e),"=",i(r),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=e?void 0:{},f=document.cookie?document.cookie.split("; "):[],p=0,m=f.length;m>p;p++){var g=f[p].split("="),v=n(g.shift()),y=g.join("=");if(e===v){h=o(y,r);break}e||void 0===(y=o(y))||(h[v]=y)}return h};return c.get=c.set=c,c.defaults={},c.remove=function(e,t){return c(e,"",s(t,{expires:-1})),!c(e)},e&&(e.cookie=c,e.removeCookie=c.remove),c}),n.define=i,t.exports}),System.register("npm:punycode@1.3.2/punycode",["github:jspm/nodelibs-process@0.1.1"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(i){!function(i){function r(e){throw RangeError(E[e])}function o(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function s(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(L,".");var r=e.split("."),s=o(r,t).join(".");return i+s}function a(e){for(var t,n,i=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function l(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=A(e>>>10&1023|55296),e=56320|1023&e),t+=A(e)}).join("")}function c(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function u(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,n){var i=0;for(e=n?I(e/S):e>>1,e+=I(e/t);e>z*C>>1;i+=k)e=I(e/z);return I(i+(z+1)*e/(e+$))}function h(e){var t,n,i,o,s,a,u,h,f,p,m=[],g=e.length,v=0,y=j,b=T;for(n=e.lastIndexOf(D),0>n&&(n=0),i=0;n>i;++i)e.charCodeAt(i)>=128&&r("not-basic"),m.push(e.charCodeAt(i));for(o=n>0?n+1:0;g>o;){for(s=v,a=1,u=k;o>=g&&r("invalid-input"),h=c(e.charCodeAt(o++)),(h>=k||h>I((x-v)/a))&&r("overflow"),v+=h*a,f=b>=u?_:u>=b+C?C:u-b,!(f>h);u+=k)p=k-f,a>I(x/p)&&r("overflow"),a*=p;t=m.length+1,b=d(v-s,t,0==s),I(v/t)>x-y&&r("overflow"),y+=I(v/t),v%=t,m.splice(v++,0,y)}return l(m)}function f(e){var t,n,i,o,s,l,c,h,f,p,m,g,v,y,b,w=[];for(e=a(e),g=e.length,t=j,n=0,s=T,l=0;g>l;++l)m=e[l],128>m&&w.push(A(m));for(i=o=w.length,o&&w.push(D);g>i;){for(c=x,l=0;g>l;++l)m=e[l],m>=t&&c>m&&(c=m);for(v=i+1,c-t>I((x-n)/v)&&r("overflow"),n+=(c-t)*v,t=c,l=0;g>l;++l)if(m=e[l],t>m&&++n>x&&r("overflow"),m==t){for(h=n,f=k;p=s>=f?_:f>=s+C?C:f-s,!(p>h);f+=k)b=h-p,y=k-p,w.push(A(u(p+b%y,0))),h=I(b/y);w.push(A(u(h,0))),s=d(n,v,i==o),n=0,++i}++n,++t}return w.join("")}function p(e){return s(e,function(e){return M.test(e)?h(e.slice(4).toLowerCase()):e})}function m(e){return s(e,function(e){return O.test(e)?"xn--"+f(e):e})}var g="object"==typeof e&&e&&!e.nodeType&&e,v="object"==typeof t&&t&&!t.nodeType&&t,y="object"==typeof n&&n;(y.global===y||y.window===y||y.self===y)&&(i=y);var b,w,x=2147483647,k=36,_=1,C=26,$=38,S=700,T=72,j=128,D="-",M=/^xn--/,O=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=k-_,I=Math.floor,A=String.fromCharCode;if(b={version:"1.3.2",ucs2:{decode:a,encode:l},decode:h,encode:f,toASCII:m,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(g&&v)if(t.exports==g)v.exports=b;else for(w in b)b.hasOwnProperty(w)&&(g[w]=b[w]);else i.punycode=b}(this)}(require("github:jspm/nodelibs-process@0.1.1")),n.define=i,t.exports}),System.register("npm:querystring@0.2.0/decode",[],!0,function(require,e,t){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i=System.global,r=i.define;return i.define=void 0,t.exports=function(e,t,i,r){t=t||"&",i=i||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var c=0;l>c;++c){var u,d,h,f,p=e[c].replace(s,"%20"),m=p.indexOf(i);m>=0?(u=p.substr(0,m),d=p.substr(m+1)):(u=p,d=""),h=decodeURIComponent(u),f=decodeURIComponent(d),n(o,h)?Array.isArray(o[h])?o[h].push(f):o[h]=[o[h],f]:o[h]=f}return o},i.define=r,t.exports}),System.register("npm:querystring@0.2.0/encode",[],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};return t.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var o=encodeURIComponent(r(i))+n;return Array.isArray(e[i])?e[i].map(function(e){return o+encodeURIComponent(r(e))}).join(t):o+encodeURIComponent(r(e[i]))}).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""},n.define=i,t.exports}),System.register("npm:keypress.js@2.1.0/keypress",[],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(){var t,n,i,r,o,s,a,l,c,u,d,h,f,p,m,g,v,y,b,w,x,k,_={}.hasOwnProperty,C=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};c={is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,prevent_default:!1,prevent_repeat:!1},x=["meta","alt","option","ctrl","shift","cmd"],b="ctrl",n={},n.debug=!1,t=function(){function e(e){var t,n;for(t in e)_.call(e,t)&&(n=e[t],n!==!1&&(this[t]=n));this.keys=this.keys||[],this.count=this.count||0}return e.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&"function"==typeof this.on_keydown},e.prototype.reset=function(){return this.count=0,this.keyup_fired=null},e}(),n.Listener=function(){function e(e,t){var n,i,r;this.should_suppress_event_defaults=!1,this.should_force_event_defaults=!1,this.sequence_delay=800,this._registered_combos=[],this._keys_down=[],this._active_combos=[],this._sequence=[],this._sequence_timer=null,this._prevent_capture=!1,this._defaults=t||{};for(i in c)_.call(c,i)&&(r=c[i],this._defaults[i]=this._defaults[i]||r);this.element=e||document.body,n=function(e,t,n){return e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n),n},this.keydown_event=n(this.element,"keydown",function(e){return function(t){return t=t||window.event,e._receive_input(t,!0),e._bug_catcher(t)}}(this)),this.keyup_event=n(this.element,"keyup",function(e){return function(t){return t=t||window.event,e._receive_input(t,!1)}}(this)),this.blur_event=n(window,"blur",function(e){return function(){var t,n,i,r;for(r=e._keys_down,n=0,i=r.length;i>n;n++)t=r[n],e._key_up(t,{});return e._keys_down=[]}}(this))}return e.prototype.destroy=function(){var e;return e=function(e,t,n){return null!=e.removeEventListener?e.removeEventListener(t,n):null!=e.removeEvent?e.removeEvent("on"+t,n):void 0},e(this.element,"keydown",this.keydown_event),e(this.element,"keyup",this.keyup_event),e(window,"blur",this.blur_event)},e.prototype._bug_catcher=function(e){var t;return"cmd"===b&&C.call(this._keys_down,"cmd")>=0&&"cmd"!==(t=s(e.keyCode))&&"shift"!==t&&"alt"!==t&&"caps"!==t&&"tab"!==t?this._receive_input(e,!1):void 0},e.prototype._cmd_bug_check=function(e){return"cmd"===b&&C.call(this._keys_down,"cmd")>=0&&C.call(e,"cmd")<0?!1:!0},e.prototype._prevent_default=function(e,t){return(t||this.should_suppress_event_defaults)&&!this.should_force_event_defaults&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation)?e.stopPropagation():void 0},e.prototype._get_active_combos=function(e){var t,n;return t=[],n=u(this._keys_down,function(t){return t!==e}),n.push(e),this._match_combo_arrays(n,function(e){return function(n){return e._cmd_bug_check(n.keys)?t.push(n):void 0}}(this)),this._fuzzy_match_combo_arrays(n,function(e){return function(n){return C.call(t,n)>=0?void 0:!n.is_solitary&&e._cmd_bug_check(n.keys)?t.push(n):void 0}}(this)),t},e.prototype._get_potential_combos=function(e){var t,n,i,r,o;for(n=[],o=this._registered_combos,i=0,r=o.length;r>i;i++)t=o[i],t.is_sequence||C.call(t.keys,e)>=0&&this._cmd_bug_check(t.keys)&&n.push(t);return n},e.prototype._add_to_active_combos=function(e){var t,n,i,r,o,s,a,l,c,u,d,h,f,p,m;if(l=!1,a=!0,r=!1,C.call(this._active_combos,e)>=0)return!0;if(this._active_combos.length)for(s=c=0,p=this._active_combos.length;p>=0?p>c:c>p;s=p>=0?++c:--c)if(t=this._active_combos[s],t&&t.is_exclusive&&e.is_exclusive){if(i=t.keys,!l)for(u=0,h=i.length;h>u;u++)if(n=i[u],l=!0,C.call(e.keys,n)<0){l=!1;break}if(a&&!l)for(m=e.keys,d=0,f=m.length;f>d;d++)if(o=m[d],a=!1,C.call(i,o)<0){a=!0;break}l&&(r?(t=this._active_combos.splice(s,1)[0],null!=t&&t.reset()):(t=this._active_combos.splice(s,1,e)[0],null!=t&&t.reset(),r=!0),a=!1)}return a&&this._active_combos.unshift(e),l||a},e.prototype._remove_from_active_combos=function(e){var t,n,i,r;for(n=i=0,r=this._active_combos.length;r>=0?r>i:i>r;n=r>=0?++i:--i)if(t=this._active_combos[n],t===e){e=this._active_combos.splice(n,1)[0],e.reset();break}},e.prototype._get_possible_sequences=function(){var e,t,n,i,r,o,s,a,l,c,d,h,f;for(r=[],d=this._registered_combos,s=0,c=d.length;c>s;s++)for(e=d[s],n=a=1,h=this._sequence.length;h>=1?h>=a:a>=h;n=h>=1?++a:--a)if(o=this._sequence.slice(-n),e.is_sequence&&(!(C.call(e.keys,"shift")<0)||(o=u(o,function(e){return"shift"!==e}),o.length))){for(t=l=0,f=o.length;f>=0?f>l:l>f;t=f>=0?++l:--l){if(e.keys[t]!==o[t]){i=!1;break}i=!0}i&&r.push(e)}return r},e.prototype._add_key_to_sequence=function(e,t){var n,i,r,o;if(this._sequence.push(e),i=this._get_possible_sequences(),i.length){for(r=0,o=i.length;o>r;r++)n=i[r],this._prevent_default(t,n.prevent_default);this._sequence_timer&&clearTimeout(this._sequence_timer),this.sequence_delay>-1&&(this._sequence_timer=setTimeout(function(){return this._sequence=[]},this.sequence_delay))}else this._sequence=[]},e.prototype._get_sequence=function(e){var t,n,i,r,o,s,a,l,c,d,h,f,p;for(h=this._registered_combos,a=0,d=h.length;d>a;a++)if(t=h[a],t.is_sequence){for(i=l=1,f=this._sequence.length;f>=1?f>=l:l>=f;i=f>=1?++l:--l)if(s=u(this._sequence,function(e){return C.call(t.keys,"shift")>=0?!0:"shift"!==e}).slice(-i),t.keys.length===s.length)for(n=c=0,p=s.length;p>=0?p>c:c>p;n=p>=0?++c:--c)if(o=s[n],!(C.call(t.keys,"shift")<0&&"shift"===o||"shift"===e&&C.call(t.keys,"shift")<0)){if(t.keys[n]!==o){r=!1;break}r=!0}if(r)return t}return!1},e.prototype._receive_input=function(e,t){var n;return this._prevent_capture?void(this._keys_down.length&&(this._keys_down=[])):(n=s(e.keyCode),(t||this._keys_down.length||"alt"!==n&&n!==b)&&n?t?this._key_down(n,e):this._key_up(n,e):void 0)},e.prototype._fire=function(e,t,n,i){return"function"==typeof t["on_"+e]&&this._prevent_default(n,t["on_"+e].call(t["this"],n,t.count,i)!==!0),"release"===e&&(t.count=0),"keyup"===e?t.keyup_fired=!0:void 0},e.prototype._match_combo_arrays=function(e,t){var n,i,s,a;for(a=this._registered_combos,i=0,s=a.length;s>i;i++)n=a[i],(!n.is_unordered&&o(e,n.keys)||n.is_unordered&&r(e,n.keys))&&t(n)},e.prototype._fuzzy_match_combo_arrays=function(e,t){var n,i,r,o;for(o=this._registered_combos,i=0,r=o.length;r>i;i++)n=o[i],(!n.is_unordered&&f(n.keys,e)||n.is_unordered&&h(n.keys,e))&&t(n)},e.prototype._keys_remain=function(e){var t,n,i,r,o;for(o=e.keys,i=0,r=o.length;r>i;i++)if(t=o[i],C.call(this._keys_down,t)>=0){n=!0;break}return n},e.prototype._key_down=function(e,t){var n,i,r,o,s,l,c,u,d,h,f,p,m,g,v;d=a(e,t),d&&(e=d),this._add_key_to_sequence(e,t),u=this._get_sequence(e),u&&this._fire("keydown",u,t);for(s in w)r=w[s],t[r]&&(s===e||C.call(this._keys_down,s)>=0||this._keys_down.push(s));for(s in w)if(r=w[s],s!==e&&C.call(this._keys_down,s)>=0&&!t[r]){if("cmd"===s&&"cmd"!==b)continue;for(o=h=0,v=this._keys_down.length;v>=0?v>h:h>v;o=v>=0?++h:--h)this._keys_down[o]===s&&this._keys_down.splice(o,1)}for(i=this._get_active_combos(e),c=this._get_potential_combos(e),f=0,m=i.length;m>f;f++)n=i[f],this._handle_combo_down(n,c,e,t);if(c.length)for(p=0,g=c.length;g>p;p++)l=c[p],this._prevent_default(t,l.prevent_default);C.call(this._keys_down,e)<0&&this._keys_down.push(e)},e.prototype._handle_combo_down=function(e,t,n,i){var r,o,s,a,l,c;if(C.call(e.keys,n)<0)return!1;if(this._prevent_default(i,e&&e.prevent_default),r=!1,C.call(this._keys_down,n)>=0&&(r=!0,!e.allows_key_repeat()))return!1;if(a=this._add_to_active_combos(e,n),e.keyup_fired=!1,o=!1,e.is_exclusive)for(l=0,c=t.length;c>l;l++)if(s=t[l],s.is_exclusive&&s.keys.length>e.keys.length){o=!0;break}return!o&&(e.is_counting&&"function"==typeof e.on_keydown&&(e.count+=1),a)?this._fire("keydown",e,i,r):void 0},e.prototype._key_up=function(e,t){var n,i,r,o,s,l,c,u,d,h,f,p,m,g,y,b,w,x,k;if(u=e,c=a(e,t),c&&(e=c),c=v[u],t.shiftKey?c&&C.call(this._keys_down,c)>=0||(e=u):u&&C.call(this._keys_down,u)>=0||(e=c),l=this._get_sequence(e),l&&this._fire("keyup",l,t),C.call(this._keys_down,e)<0)return!1;for(s=d=0,b=this._keys_down.length;b>=0?b>d:d>b;s=b>=0?++d:--d)if((w=this._keys_down[s])===e||w===c||w===u){this._keys_down.splice(s,1);break}for(i=this._active_combos.length,o=[],x=this._active_combos,h=0,m=x.length;m>h;h++)n=x[h],C.call(n.keys,e)>=0&&o.push(n);for(f=0,g=o.length;g>f;f++)r=o[f],this._handle_combo_up(r,t,e);if(i>1)for(k=this._active_combos,p=0,y=k.length;y>p;p++)n=k[p],void 0===n||C.call(o,n)>=0||this._keys_remain(n)||this._remove_from_active_combos(n)},e.prototype._handle_combo_up=function(e,t,n){var i,o;this._prevent_default(t,e&&e.prevent_default),o=this._keys_remain(e),e.keyup_fired||(i=this._keys_down.slice(),i.push(n),(!e.is_solitary||r(i,e.keys))&&(this._fire("keyup",e,t),e.is_counting&&"function"==typeof e.on_keyup&&"function"!=typeof e.on_keydown&&(e.count+=1))),o||(this._fire("release",e,t),this._remove_from_active_combos(e))},e.prototype.simple_combo=function(e,t){return this.register_combo({keys:e,on_keydown:t})},e.prototype.counting_combo=function(e,t){return this.register_combo({keys:e,is_counting:!0,is_unordered:!1,on_keydown:t})},e.prototype.sequence_combo=function(e,t){return this.register_combo({keys:e,on_keydown:t,is_sequence:!0})},e.prototype.register_combo=function(e){var n,i,r,o;"string"==typeof e.keys&&(e.keys=e.keys.split(" ")),o=this._defaults;for(i in o)_.call(o,i)&&(r=o[i],void 0===e[i]&&(e[i]=r));return n=new t(e),k(n)?(this._registered_combos.push(n),n):void 0},e.prototype.register_many=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(this.register_combo(t));return r},e.prototype.unregister_combo=function(e){var n,i,s,a,l,c;if(!e)return!1;if(i=function(e){return function(t){var n,i,r,o;for(o=[],n=i=0,r=e._registered_combos.length;r>=0?r>i:i>r;n=r>=0?++i:--i){if(t===e._registered_combos[n]){e._registered_combos.splice(n,1);break}o.push(void 0)}return o}}(this),e instanceof t)return i(e);for("string"==typeof e&&(e=e.split(" ")),l=this._registered_combos,c=[],s=0,a=l.length;a>s;s++)n=l[s],null!=n&&(n.is_unordered&&r(e,n.keys)||!n.is_unordered&&o(e,n.keys)?c.push(i(n)):c.push(void 0));return c},e.prototype.unregister_many=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(this.unregister_combo(t));return r},e.prototype.get_registered_combos=function(){return this._registered_combos},e.prototype.reset=function(){return this._registered_combos=[]},e.prototype.listen=function(){return this._prevent_capture=!1},e.prototype.stop_listening=function(){return this._prevent_capture=!0},e.prototype.get_meta_key=function(){return b},e}(),l=function(){-1!==navigator.userAgent.indexOf("Mac OS X")&&(b="cmd")},i=function(){-1!==navigator.userAgent.indexOf("Opera")&&(g[17]="cmd")},s=function(e){return g[e]},u=function(e,t){var n;return e.filter?e.filter(t):function(){var i,r,o;for(o=[],i=0,r=e.length;r>i;i++)n=e[i],t(n)&&o.push(n);return o}()},r=function(e,t){var n,i,r;if(e.length!==t.length)return!1;for(i=0,r=e.length;r>i;i++)if(n=e[i],!(C.call(t,n)>=0))return!1;return!0},o=function(e,t){var n,i,r;if(e.length!==t.length)return!1;for(n=i=0,r=e.length;r>=0?r>i:i>r;n=r>=0?++i:--i)if(e[n]!==t[n])return!1;return!0},h=function(e,t){var n,i,r;for(i=0,r=e.length;r>i;i++)if(n=e[i],C.call(t,n)<0)return!1;return!0},d=Array.prototype.indexOf||function(e,t){var n,i,r;for(n=i=0,r=e.length;r>=0?r>=i:i>=r;n=r>=0?++i:--i)if(e[n]===t)return n;return-1},f=function(e,t){var n,i,r,o,s;for(r=0,o=0,s=e.length;s>o;o++){if(i=e[o],n=d.call(t,i),!(n>=r))return!1;r=n}return!0},y=function(){return n.debug?console.log.apply(console,arguments):void 0},p=function(e){var t,n,i;t=!1;for(i in g)if(n=g[i],e===n){t=!0;break}if(!t)for(i in v)if(n=v[i],e===n){t=!0;break}return t},k=function(e){var t,n,i,r,o,s,a,l,u,h,f,g,v,w,k;for(a=!0,e.keys.length||y("You're trying to bind a combo with no keys:",e),n=u=0,w=e.keys.length;w>=0?w>u:u>w;n=w>=0?++u:--u)i=e.keys[n],t=m[i],t&&(i=e.keys[n]=t),"meta"===i&&e.keys.splice(n,1,b),"cmd"===i&&y('Warning: use the "meta" key rather than "cmd" for Windows compatibility');for(k=e.keys,h=0,g=k.length;g>h;h++)i=k[h],p(i)||(y('Do not recognize the key "'+i+'"'),a=!1);if(C.call(e.keys,"meta")>=0||C.call(e.keys,"cmd")>=0){for(o=e.keys.slice(),f=0,v=x.length;v>f;f++)r=x[f],(n=d.call(o,r))>-1&&o.splice(n,1);o.length>1&&(y("META and CMD key combos cannot have more than 1 non-modifier keys",e,o),a=!1)}for(s in e)l=e[s],"undefined"===c[s]&&y("The property "+s+" is not a valid combo property. Your combo has still been registered.");return a},a=function(e,t){var n;return t.shiftKey?(n=v[e],null!=n?n:!1):!1},w={cmd:"metaKey",ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"},m={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",apostrophe:"'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"},v={"/":"?",".":">",",":"<","'":'"',";":":","[":"{","]":"}","\\":"|","`":"~","=":"+","-":"_",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"},g={0:"\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"-",173:"="},n._keycode_dictionary=g,n._is_array_in_array_sorted=f,l(),i(),"function"==typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof e&&null!==e?e.keypress=n:window.keypress=n}.call(this),n.define=i,t.exports}),System.register("npm:events@1.0.2/events",[],!0,function(require,e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}var a=System.global,l=a.define;return a.define=void 0,t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),l=1;r>l;l++)a[l-1]=arguments[l];n.apply(this,a)}else if(o(n)){for(r=arguments.length,a=new Array(r-1),l=1;r>l;l++)a[l-1]=arguments[l];for(c=n.slice(),r=c.length,l=0;r>l;l++)c[l].apply(this,a)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var r;r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0},a.define=l,t.exports}),System.register("npm:core-js@0.9.10/library/fn/object/create",["npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$");return t.exports=function(e,t){return r.create(e,t)},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/fn/object/get-own-property-descriptor",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/es6.object.statics-accept-primitives"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$");return require("npm:core-js@0.9.10/library/modules/es6.object.statics-accept-primitives"),t.exports=function(e,t){return r.getDesc(e,t)},n.define=i,t.exports}),System.register("github:phstc/jquery-dateFormat@1.0.2/dist/jquery-dateFormat",["github:components/jquery@2.1.4"],!1,function(e,t,n){return System.get("@@global-helpers").prepareGlobal(n.id,["github:components/jquery@2.1.4"]),function(){var e=this.DateFormat,e={};!function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],o={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},s=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;
e.format=function(){function e(e){return t[parseInt(e,10)]||e}function a(e){return n[parseInt(e,10)]||e}function l(e){var t=parseInt(e,10)-1;return i[t]||e}function c(e){var t=parseInt(e,10)-1;return r[t]||e}function u(e){return o[e]||e}function d(e){var t,n,i,r,o,s=e,a="";return-1!==s.indexOf(".")&&(r=s.split("."),s=r[0],a=r[1]),o=s.split(":"),3===o.length?(t=o[0],n=o[1],i=o[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),s=s.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:s,hour:t,minute:n,second:i,millis:a}):{time:"",hour:"",minute:"",second:"",millis:""}}function h(e,t){for(var n=t-String(e).length,i=0;n>i;i++)e="0"+e;return e}return{parseDate:function(e){var t={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)t.year=String(e.getFullYear()),t.month=String(e.getMonth()+1),t.dayOfMonth=String(e.getDate()),t.time=d(e.toTimeString());else if(-1!=e.search(s))values=e.split(/[T\+-]/),t.year=values[0],t.month=values[1],t.dayOfMonth=values[2],t.time=d(values[3].split(".")[0]);else switch(values=e.split(" "),6===values.length&&isNaN(values[5])&&(values[values.length]="()"),values.length){case 6:t.year=values[5],t.month=u(values[1]),t.dayOfMonth=values[2],t.time=d(values[3]);break;case 2:subValues=values[0].split("-"),t.year=subValues[0],t.month=subValues[1],t.dayOfMonth=subValues[2],t.time=d(values[1]);break;case 7:case 9:case 10:t.year=values[3],t.month=u(values[1]),t.dayOfMonth=values[2],t.time=d(values[4]);break;case 1:subValues=values[0].split(""),t.year=subValues[0]+subValues[1]+subValues[2]+subValues[3],t.month=subValues[5]+subValues[6],t.dayOfMonth=subValues[8]+subValues[9],t.time=d(subValues[13]+subValues[14]+subValues[15]+subValues[16]+subValues[17]+subValues[18]+subValues[19]+subValues[20]);break;default:return null}return t.date=new Date(t.year,t.month-1,t.dayOfMonth),t.dayOfWeek=String(t.date.getDay()),t},date:function(t,n){try{var i=this.parseDate(t);if(null===i)return t;for(var r=(i.date,i.year),o=i.month,s=i.dayOfMonth,u=i.dayOfWeek,d=i.time,f="",p="",m="",g=!1,v=0;v<n.length;v++){var y=n.charAt(v),b=n.charAt(v+1);if(g)"'"==y?(p+=""===f?"'":f,f="",g=!1):f+=y;else switch(f+=y,m="",f){case"ddd":p+=e(u),f="";break;case"dd":if("d"===b)break;p+=h(s,2),f="";break;case"d":if("d"===b)break;p+=parseInt(s,10),f="";break;case"D":s=1==s||21==s||31==s?parseInt(s,10)+"st":2==s||22==s?parseInt(s,10)+"nd":3==s||23==s?parseInt(s,10)+"rd":parseInt(s,10)+"th",p+=s,f="";break;case"MMMM":p+=c(o),f="";break;case"MMM":if("M"===b)break;p+=l(o),f="";break;case"MM":if("M"===b)break;p+=h(o,2),f="";break;case"M":if("M"===b)break;p+=parseInt(o,10),f="";break;case"y":case"yyy":if("y"===b)break;p+=f,f="";break;case"yy":if("y"===b)break;p+=String(r).slice(-2),f="";break;case"yyyy":p+=r,f="";break;case"HH":p+=h(d.hour,2),f="";break;case"H":if("H"===b)break;p+=parseInt(d.hour,10),f="";break;case"hh":hour=0===parseInt(d.hour,10)?12:d.hour<13?d.hour:d.hour-12,p+=h(hour,2),f="";break;case"h":if("h"===b)break;hour=0===parseInt(d.hour,10)?12:d.hour<13?d.hour:d.hour-12,p+=parseInt(hour,10),f="";break;case"mm":p+=h(d.minute,2),f="";break;case"m":if("m"===b)break;p+=d.minute,f="";break;case"ss":p+=h(d.second.substring(0,2),2),f="";break;case"s":if("s"===b)break;p+=d.second,f="";break;case"S":case"SS":if("S"===b)break;p+=f,f="";break;case"SSS":p+=d.millis.substring(0,3),f="";break;case"a":p+=d.hour>=12?"PM":"AM",f="";break;case"p":p+=d.hour>=12?"p.m.":"a.m.",f="";break;case"E":p+=a(u),f="";break;case"'":f="",g=!0;break;default:p+=y,f=""}}return p+=m}catch(w){return console&&console.log&&console.log(w),t}},prettyDate:function(e){var t,n,i;return("string"==typeof e||"number"==typeof e)&&(t=new Date(e)),"object"==typeof e&&(t=new Date(e.toString())),n=((new Date).getTime()-t.getTime())/1e3,i=Math.floor(n/86400),isNaN(i)||0>i?void 0:60>n?"just now":120>n?"1 minute ago":3600>n?Math.floor(n/60)+" minutes ago":7200>n?"1 hour ago":86400>n?Math.floor(n/3600)+" hours ago":1===i?"Yesterday":7>i?i+" days ago":31>i?Math.ceil(i/7)+" weeks ago":i>=31?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(e,t){return this.date(new Date(e),t||"MM/dd/yyyy HH:mm:ss")}}}()}(e),function(t){t.format=e.format}(jQuery),this.DateFormat=e}.call(System.global),System.get("@@global-helpers").retrieveGlobal(n.id,!1)}),System.register("npm:codemirror@5.4.0/lib/codemirror",["github:jspm/nodelibs-process@0.1.1"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){!function(n){if("object"==typeof e&&"object"==typeof t)t.exports=n();else{if("function"==typeof define&&define.amd)return define([],n);this.CodeMirror=n()}}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?zr(i):{},zr(Go,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new ys(r,i.mode)),this.doc=r;var o=new e.inputStyles[i.inputStyle](this),s=this.display=new t(n,r,o);s.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Co&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Sr,keySeq:null,specialChars:null};var l=this;po&&11>mo&&setTimeout(function(){l.display.input.reset(!0)},20),Ht(this),Ur(),bt(this),this.curOp.forceUpdate=!0,Yi(this,r),i.autofocus&&!Co||l.hasFocus()?setTimeout(Ir(pn,this),20):mn(this);for(var u in Vo)Vo.hasOwnProperty(u)&&Vo[u](this,i[u],Xo);k(this),i.finishInit&&i.finishInit(this);for(var d=0;d<es.length;++d)es[d](this);xt(this),go&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Fr("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Fr("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Fr("div",null,"CodeMirror-code"),i.selectionDiv=Fr("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Fr("div",null,"CodeMirror-cursors"),i.measure=Fr("div",null,"CodeMirror-measure"),i.lineMeasure=Fr("div",null,"CodeMirror-measure"),i.lineSpace=Fr("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Fr("div",[Fr("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Fr("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Fr("div",null,null,"position: absolute; height: "+js+"px; width: 1px;"),i.gutters=Fr("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Fr("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Fr("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),po&&8>mo&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),go||uo&&Co||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Re(e,100),e.state.modeGen++,e.curOp&&zt(e)}function r(e){e.options.lineWrapping?(Ws(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Bs(e.display.wrapper,"CodeMirror-wrap"),h(e)),s(e),zt(e),st(e),setTimeout(function(){y(e)},100)}function o(e){var t=vt(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/yt(e.display)-3);return function(r){if(bi(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function s(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&Ji(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),st(e)}function l(e){c(e),zt(e),setTimeout(function(){x(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;Pr(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(Fr("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function d(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=hi(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=fi(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function h(e){var t=e.display,n=e.doc;t.maxLine=Gi(n,n.first),t.maxLineLength=d(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=d(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=Mr(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Be(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Ke(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var i=this.vert=Fr("div",[Fr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Fr("div",[Fr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),Cs(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Cs(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedOverlay=!1,po&&8>mo&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Bs(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Cs(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?tn(t,e):en(t,e)},t),t.display.scrollbars.addClass&&Ws(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=p(e));var n=e.display.barWidth,i=e.display.barHeight;b(e,t);for(var r=0;4>r&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&O(e),b(e,p(e)),n=e.display.barWidth,i=e.display.barHeight}function b(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-qe(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=Zi(t,i),s=Zi(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;o>a?(o=a,s=Zi(t,er(Gi(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=Zi(t,er(Gi(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=C(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function k(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=_(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Fr("div",[Fr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(e),!0}return!1}function _(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function C(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function $(e,t,n){var i=e.display;this.viewport=t,this.visible=w(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ue(e),this.force=n,this.dims=E(e),this.events=[]}function S(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ke(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ke(e)+"px",t.scrollbarsClipped=!0)}function T(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return At(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Pt(e))return!1;k(e)&&(At(e),t.dims=E(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Oo&&(o=vi(e.doc,o),s=yi(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ft(e,o,s),n.viewOffset=er(Gi(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Pt(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=qr();return l>4&&(n.lineDiv.style.display="none"),z(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&qr()!=c&&c.offsetHeight&&c.focus(),Pr(n.cursorDiv),Pr(n.selectionDiv),n.gutters.style.height=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Re(e,400)),n.updateLineNumbers=null,!0}function j(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ue(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Be(e.display)-Ye(e),n.top)}),t.visible=w(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&T(e,t);i=!1){O(e);var r=p(e);Ee(e),M(e,r),y(e,r)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function D(e,t){var n=new $(e,t);if(T(e,n)){O(e),j(e,n);var i=p(e);Ee(e),M(e,i),y(e,i),n.finish()}}function M(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+Ke(e),t.clientHeight)+"px"}function O(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(po&&8>mo){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(2>r&&(r=vt(t)),(l>.001||-.001>l)&&(Ji(o.line,r),L(o.line),o.rest))for(var c=0;c<o.rest.length;c++)L(o.rest[c])}}}function L(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function E(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[s]]=o.clientWidth;return{fixedPos:C(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function z(e,t,n){function i(t){var n=t.nextSibling;return go&&$o&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,o=e.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var h=o&&null!=t&&c>=t&&d.lineNumber;d.changes&&(Mr(d.changes,"gutter")>-1&&(h=!1),I(e,d,c,n)),h&&(Pr(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(_(e.options,c)))),a=d.node.nextSibling}else{var f=B(e,d,c,n);s.insertBefore(f,a)}c+=d.size}for(;a;)a=i(a)}function I(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?F(e,t):"gutter"==o?H(e,t,n,i):"class"==o?P(t):"widget"==o&&q(e,t,i)}t.changes=null}function A(e){return e.node==e.text&&(e.node=Fr("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),po&&8>mo&&(e.node.style.zIndex=2)),e.node}function N(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=A(e);e.background=n.insertBefore(Fr("div",null,t),n.firstChild)}}function R(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Ii(e,t)}function F(e,t){var n=t.text.className,i=R(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,P(t)):n&&(t.text.className=n)}function P(e){N(e),e.line.wrapClass?A(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function H(e,t,n,i){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var o=A(t),s=t.gutter=Fr("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px");if(e.display.input.setUneditable(s),o.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Fr("div",_(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=r.hasOwnProperty(l)&&r[l];c&&s.appendChild(Fr("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function q(e,t,n){t.alignable&&(t.alignable=null);for(var i,r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}W(e,t,n)}function B(e,t,n,i){var r=R(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),P(t),H(e,t,n,i),W(e,t,i),t.node}function W(e,t,n){if(K(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)K(e,t.rest[i],t,n,!1)}function K(e,t,n,i,r){if(t.widgets)for(var o=A(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=Fr("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),U(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),wr(l,"redraw")}}function U(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Y(e){return Lo(e.line,e.ch)}function G(e,t){return Eo(e,t)<0?t:e}function V(e,t){return Eo(e,t)<0?e:t}function X(e){e.state.focused||(e.display.input.focus(),pn(e))}function J(e){return e.options.readOnly||e.doc.cantEdit}function Q(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=Ys(t),l=null;s&&i.ranges.length>1&&(zo&&zo.join("\n")==t?l=i.ranges.length%zo.length==0&&Or(zo,Ys):a.length==i.ranges.length&&(l=Or(a,function(e){return[e]})));for(var c=i.ranges.length-1;c>=0;c--){var u=i.ranges[c],d=u.from(),h=u.to();u.empty()&&(n&&n>0?d=Lo(d.line,d.ch-n):e.state.overwrite&&!s&&(h=Lo(h.line,Math.min(Gi(o,h.line).text.length,h.ch+Dr(a).length))));var f=e.curOp.updateInput,p={from:d,to:h,text:l?l[c%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};_n(e.doc,p),wr(e,"inputRead",e,p)}t&&!s&&ee(e,t),In(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),jt(t,function(){Q(t,n,0,null,"paste")}),!0):void 0}function ee(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Nn(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Gi(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Nn(e,r.head.line,"smart"));s&&wr(e,"electricInput",e,r.head.line)}}}function te(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:Lo(r,0),head:Lo(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ne(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ie(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Sr,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function re(){var e=Fr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Fr("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return go?e.style.width="1000px":e.setAttribute("wrap","off"),_o&&(e.style.border="1px solid black"),ne(e),t}function oe(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Sr,this.gracePeriod=!1}function se(e,t){var n=Qe(e,t.line);if(!n||n.hidden)return null;var i=Gi(e.doc,t.line),r=Ve(n,i,t.line),o=tr(i),s="left";if(o){var a=so(o,t.ch);s=a%2?"right":"left"}var l=tt(r.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function ae(e,t){return t&&(e.bad=!0),e}function le(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return ae(e.clipPos(Lo(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return ce(o,t,n)}}function ce(e,t,n){function i(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=0>r?c.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=Qi(0>r?e.line:e.rest[r]),d=o[s]+i;return(0>i||a!=t)&&(d=o[s+(i?1:0)]),Lo(l,d)}}}var r=e.text.firstChild,o=!1;if(!t||!Ps(r,t))return ae(Lo(Qi(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var s=e.rest?Dr(e.rest):e.line;return ae(Lo(Qi(s),s.text.length),o)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=e.measure,u=c.maps,d=i(a,l,n);if(d)return ae(d,o);for(var h=l.nextSibling,f=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(d=i(h,h.firstChild,0))return ae(Lo(d.line,d.ch-f),o);f+=h.textContent.length}for(var p=l.previousSibling,f=n;p;p=p.previousSibling){if(d=i(p,p.firstChild,-1))return ae(Lo(d.line,d.ch+f),o);f+=h.textContent.length}}function ue(e,t,n,i,r){function o(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var c,u=t.getAttribute("cm-marker");if(u){var d=e.findMarks(Lo(i,0),Lo(r+1,0),o(+u));return void(d.length&&(c=d[0].find())&&(a+=Vi(e.doc,c.from,c.to).join("\n")))}if("false"==t.getAttribute("contenteditable"))return;for(var h=0;h<t.childNodes.length;h++)s(t.childNodes[h]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var f=t.nodeValue;if(!f)return;l&&(a+="\n",l=!1),a+=f}}for(var a="",l=!1;s(t),t!=n;)t=t.nextSibling;return a}function de(e,t){this.ranges=e,this.primIndex=t}function he(e,t){this.anchor=e,this.head=t}function fe(e,t){var n=e[t];e.sort(function(e,t){return Eo(e.from(),t.from())}),t=Mr(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(Eo(o.to(),r.from())>=0){var s=V(o.from(),r.from()),a=G(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;t>=i&&--t,e.splice(--i,2,new he(l?a:s,l?s:a))}}return new de(e,t)}function pe(e,t){return new de([new he(e,t||e)],0)}function me(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return Lo(e.first,0);var n=e.first+e.size-1;return t.line>n?Lo(n,Gi(e,n).text.length):ve(t,Gi(e,t.line).text.length)}function ve(e,t){var n=e.ch;return null==n||n>t?Lo(e.line,t):0>n?Lo(e.line,0):e}function ye(e,t){return t>=e.first&&t<e.first+e.size}function be(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=ge(e,t[i]);return n}function we(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=Eo(n,r)<0;o!=Eo(i,r)<0?(r=n,n=i):o!=Eo(n,i)<0&&(n=i)}return new he(r,n)}return new he(i||n,n)}function xe(e,t,n,i){Te(e,new de([we(e,e.sel.primary(),t,n)],0),i)}function ke(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=we(e,e.sel.ranges[r],t[r],null);var o=fe(i,e.sel.primIndex);Te(e,o,n)}function _e(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,Te(e,fe(r,e.sel.primIndex),i)}function Ce(e,t,n,i){Te(e,pe(t,n),i)}function $e(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new he(ge(e,t[n].anchor),ge(e,t[n].head))}};return Ss(e,"beforeSelectionChange",e,n),e.cm&&Ss(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?fe(n.ranges,n.ranges.length-1):t}function Se(e,t,n){var i=e.history.done,r=Dr(i);r&&r.ranges?(i[i.length-1]=t,je(e,t,n)):Te(e,t,n)}function Te(e,t,n){je(e,t,n),lr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function je(e,t,n){(Cr(e,"beforeSelectionChange")||e.cm&&Cr(e.cm,"beforeSelectionChange"))&&(t=$e(e,t));var i=n&&n.bias||(Eo(t.primary().head,e.sel.primary().head)<0?-1:1);De(e,Oe(e,t,i,!0)),n&&n.scroll===!1||!e.cm||In(e.cm)}function De(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,_r(e.cm)),wr(e,"cursorActivity",e))}function Me(e){De(e,Oe(e,e.sel,null,!1),Ms)}function Oe(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=Le(e,s.anchor,n,i),l=Le(e,s.head,n,i);(r||a!=s.anchor||l!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new he(a,l))}return r?fe(r,t.primIndex):t}function Le(e,t,n,i){var r=!1,o=t,s=n||1;e.cantEdit=!1;e:for(;;){var a=Gi(e,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(i&&(Ss(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var d=u.find(0>s?-1:1);if(0==Eo(d,o)&&(d.ch+=s,d.ch<0?d=d.line>e.first?ge(e,Lo(d.line-1)):null:d.ch>a.text.length&&(d=d.line<e.first+e.size-1?Lo(d.line+1,0):null),!d)){if(r)return i?(e.cantEdit=!0,Lo(e.first,0)):Le(e,t,n,!0);r=!0,d=t,s=-s}o=d;continue e}}return o}}function Ee(e){e.display.input.showSelection(e.display.input.prepareSelection())}function ze(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s],l=a.empty();(l||e.options.showCursorWhenSelecting)&&Ie(e,a,r),l||Ae(e,a,o)}return i}function Ie(e,t,n){var i=ht(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(Fr("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(Fr("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Ae(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(Fr("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function o(n,i){return dt(e,Lo(t,n),"div",d,i)}var a,l,d=Gi(s,t),h=d.text.length;return Jr(tr(d),n||0,null==r?h:r,function(e,t,s){var d,f,p,m=o(e,"left");if(e==t)d=m,f=p=m.left;else{if(d=o(t-1,"right"),"rtl"==s){var g=m;m=d,d=g}f=m.left,p=d.right}null==n&&0==e&&(f=c),d.top-m.top>3&&(i(f,m.top,null,m.bottom),f=c,m.bottom<d.top&&i(f,m.bottom,null,d.top)),null==r&&t==h&&(p=u),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),c+1>f&&(f=c),i(f,d.top,p-f,d.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=We(e.display),c=l.left,u=Math.max(o.sizerWidth,Ue(e)-o.sizer.offsetLeft)-l.right,d=t.from(),h=t.to();if(d.line==h.line)r(d.line,d.ch,h.ch);else{var f=Gi(s,d.line),p=Gi(s,h.line),m=mi(f)==mi(p),g=r(d.line,d.ch,m?f.text.length+1:null).end,v=r(h.line,m?0:null,h.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(c,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(c,g.bottom,null,v.top)}n.appendChild(a)}function Ne(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Re(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Ir(Fe,e))}function Fe(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=ns(t.mode,He(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=Oi(e,o,i,!0);o.styles=a.styles;var l=o.styleClasses,c=a.classes;
c?o.styleClasses=c:l&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),d=0;!u&&d<s.length;++d)u=s[d]!=o.styles[d];u&&r.push(t.frontier),o.stateAfter=ns(t.mode,i)}else Ei(e,o.text,i),o.stateAfter=t.frontier%5==0?ns(t.mode,i):null;return++t.frontier,+new Date>n?(Re(e,e.options.workDelay),!0):void 0}),r.length&&jt(e,function(){for(var t=0;t<r.length;t++)It(e,r[t],"text")})}}function Pe(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Gi(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=Es(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function He(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=Pe(e,t,n),s=o>i.first&&Gi(i,o-1).stateAfter;return s=s?ns(i.mode,s):is(i.mode),i.iter(o,t,function(n){Ei(e,n.text,s);var a=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?ns(i.mode,s):null,++o}),n&&(i.frontier=o),s}function qe(e){return e.lineSpace.offsetTop}function Be(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function We(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Hr(e.measure,Fr("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Ke(e){return js-e.display.nativeBarWidth}function Ue(e){return e.display.scroller.clientWidth-Ke(e)-e.display.barWidth}function Ye(e){return e.display.scroller.clientHeight-Ke(e)-e.display.barHeight}function Ge(e,t,n){var i=e.options.lineWrapping,r=i&&Ue(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Ve(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(Qi(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Xe(e,t){t=mi(t);var n=Qi(t),i=e.display.externalMeasured=new Lt(e.doc,t,n);i.lineN=n;var r=i.built=Ii(e,i);return i.text=r.pre,Hr(e.display.lineMeasure,r.pre),i}function Je(e,t,n,i){return et(e,Ze(e,t),n,i)}function Qe(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Nt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Ze(e,t){var n=Qi(t),i=Qe(e,n);i&&!i.text?i=null:i&&i.changes&&I(e,i,n,E(e)),i||(i=Xe(e,t));var r=Ve(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function et(e,t,n,i,r){t.before&&(n=-1);var o,s=n+(i||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ge(e,t.view,t.rect),t.hasHeights=!0),o=nt(e,t,n,i),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function tt(e,t,n){for(var i,r,o,s,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(l>t?(r=0,o=1,s="left"):c>t?(r=t-l,o=r+1):(a==e.length-3||t==c&&e[a+3]>t)&&(o=c-l,r=o-1,t>=c&&(s="right")),null!=r){if(i=e[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[(a-=3)+2],s="left";if("right"==n&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],s="right";break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function nt(e,t,n,i){var r,o=tt(t.map,n,i),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;4>u;u++){for(;a&&Rr(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&Rr(t.line.text.charAt(o.coverStart+l));)++l;if(po&&9>mo&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(po&&e.options.lineWrapping){var d=As(s,a,l).getClientRects();r=d.length?d["right"==i?d.length-1:0]:Ro}else r=As(s,a,l).getBoundingClientRect()||Ro;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}po&&11>mo&&(r=it(e.display.measure,r))}else{a>0&&(c=i="right");var d;r=e.options.lineWrapping&&(d=s.getClientRects()).length>1?d["right"==i?d.length-1:0]:s.getBoundingClientRect()}if(po&&9>mo&&!a&&(!r||!r.left&&!r.right)){var h=s.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+yt(e.display),top:h.top,bottom:h.bottom}:Ro}for(var f=r.top-t.rect.top,p=r.bottom-t.rect.top,m=(f+p)/2,g=t.view.measure.heights,u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,y=g[u],b={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=f,b.rbottom=p),b}function it(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Xr(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function rt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ot(e){e.display.externalMeasure=null,Pr(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)rt(e.display.view[t])}function st(e){ot(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function at(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function lt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ct(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=ki(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=er(t);if("local"==i?s+=qe(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:lt());var l=a.left+("window"==i?0:at());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function ut(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=at(),r-=lt();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function dt(e,t,n,i,r){return i||(i=Gi(e.doc,t.line)),ct(e,i,Je(e,i,t.ch,r),n)}function ht(e,t,n,i,r,o){function s(t,s){var a=et(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,ct(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==Qr(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=Zr(n)-(n.level%2?0:1),i=!0):e==Zr(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Qr(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?s(e-1):s(e,i)}i=i||Gi(e.doc,t.line),r||(r=Ze(e,i));var l=tr(i),c=t.ch;if(!l)return s(c);var u=so(l,c),d=a(c,u);return null!=Qs&&(d.other=a(c,Qs)),d}function ft(e,t){var n=0,t=ge(e.doc,t);e.options.lineWrapping||(n=yt(e.display)*t.ch);var i=Gi(e.doc,t.line),r=er(i)+qe(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function pt(e,t,n,i){var r=Lo(e,t);return r.xRel=i,n&&(r.outside=!0),r}function mt(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,0>n)return pt(i.first,0,!0,-1);var r=Zi(i,n),o=i.first+i.size-1;if(r>o)return pt(i.first+i.size-1,Gi(i,o).text.length,!0,1);0>t&&(t=0);for(var s=Gi(i,r);;){var a=gt(e,s,r,t,n),l=fi(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=Qi(s=c.to.line)}}function gt(e,t,n,i,r){function o(i){var r=ht(e,Lo(n,i),"line",t,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-er(t),a=!1,l=2*e.display.wrapper.clientWidth,c=Ze(e,t),u=tr(t),d=t.text.length,h=eo(t),f=to(t),p=o(h),m=a,g=o(f),v=a;if(i>g)return pt(n,f,v,1);for(;;){if(u?f==h||f==lo(t,h,1):1>=f-h){for(var y=p>i||g-i>=i-p?h:f,b=i-(y==h?p:g);Rr(t.text.charAt(y));)++y;var w=pt(n,y,y==h?m:v,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(d/2),k=h+x;if(u){k=h;for(var _=0;x>_;++_)k=lo(t,k,1)}var C=o(k);C>i?(f=k,g=C,(v=a)&&(g+=1e3),d=x):(h=k,p=C,m=a,d-=x)}}function vt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Io){Io=Fr("pre");for(var t=0;49>t;++t)Io.appendChild(document.createTextNode("x")),Io.appendChild(Fr("br"));Io.appendChild(document.createTextNode("x"))}Hr(e.measure,Io);var n=Io.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Pr(e.measure),n||1}function yt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Fr("span","xxxxxxxxxx"),n=Fr("pre",[t]);Hr(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function bt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Po},Fo?Fo.ops.push(e.curOp):e.curOp.ownsGroup=Fo={ops:[e.curOp],delayedCallbacks:[]}}function wt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++](r.cm)}}while(n<t.length)}function xt(e){var t=e.curOp,n=t.ownsGroup;if(n)try{wt(n)}finally{Fo=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;kt(n)}}function kt(e){for(var t=e.ops,n=0;n<t.length;n++)_t(t[n]);for(var n=0;n<t.length;n++)Ct(t[n]);for(var n=0;n<t.length;n++)$t(t[n]);for(var n=0;n<t.length;n++)St(t[n]);for(var n=0;n<t.length;n++)Tt(t[n])}function _t(e){var t=e.cm,n=t.display;S(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new $(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ct(e){e.updatedDisplay=e.mustUpdate&&T(e.cm,e.update)}function $t(e){var t=e.cm,n=t.display;e.updatedDisplay&&O(t),e.barMeasure=p(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Je(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ke(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ue(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function St(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&tn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&M(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&Ne(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==qr()&&X(e.cm)}function Tt(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&j(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Ue(t),e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,x(t)),e.scrollToPos){var r=On(t,ge(i,e.scrollToPos.from),ge(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Mn(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ss(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Ss(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ss(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function jt(e,t){if(e.curOp)return t();bt(e);try{return t()}finally{xt(e)}}function Dt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);bt(e);try{return t.apply(e,arguments)}finally{xt(e)}}}function Mt(e){return function(){if(this.curOp)return e.apply(this,arguments);bt(this);try{return e.apply(this,arguments)}finally{xt(this)}}}function Ot(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);bt(t);try{return e.apply(this,arguments)}finally{xt(t)}}}function Lt(e,t,n){this.line=t,this.rest=gi(t),this.size=this.rest?Qi(Dr(this.rest))-n+1:1,this.node=this.text=null,this.hidden=bi(e,t)}function Et(e,t,n){for(var i,r=[],o=t;n>o;o=i){var s=new Lt(e.doc,Gi(e.doc,o),o);i=o+s.size,r.push(s)}return r}function zt(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Oo&&vi(e.doc,t)<r.viewTo&&At(e);else if(n<=r.viewFrom)Oo&&yi(e.doc,n+i)>r.viewFrom?At(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)At(e);else if(t<=r.viewFrom){var o=Rt(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):At(e)}else if(n>=r.viewTo){var o=Rt(e,t,t,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):At(e)}else{var s=Rt(e,t,t,-1),a=Rt(e,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(Et(e,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):At(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function It(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[Nt(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Mr(s,n)&&s.push(n)}}}function At(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Nt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,0>t)return i}function Rt(e,t,n,i){var r,o=Nt(e,t),s=e.display.view;if(!Oo||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=t){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-t,o++}else r=l-t;t+=r,n+=r}for(;vi(e.doc,n)!=n;){if(o==(0>i?0:s.length-1))return null;n+=i*s[o-(0>i?1:0)].size,o+=i}return{index:o,lineN:n}}function Ft(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=Et(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=Et(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(Nt(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(Et(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Nt(e,n)))),i.viewTo=n}function Pt(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function Ht(e){function t(){r.activeTouch&&(o=setTimeout(function(){r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Cs(r.scroller,"mousedown",Dt(e,Ut)),po&&11>mo?Cs(r.scroller,"dblclick",Dt(e,function(t){if(!kr(e,t)){var n=Kt(e,t);if(n&&!Jt(e,t)&&!Wt(e.display,t)){xs(t);var i=e.findWordAt(n);xe(e.doc,i.anchor,i.head)}}})):Cs(r.scroller,"dblclick",function(t){kr(e,t)||xs(t)}),Do||Cs(r.scroller,"contextmenu",function(t){gn(e,t)});var o,s={end:0};Cs(r.scroller,"touchstart",function(e){if(!n(e)){clearTimeout(o);var t=+new Date;r.activeTouch={start:t,moved:!1,prev:t-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),Cs(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Cs(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!Wt(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(r.activeTouch,"page");s=!o.prev||i(o,o.prev)?new he(a,a):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(a):new he(Lo(a.line,0),ge(e.doc,Lo(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),xs(n)}t()}),Cs(r.scroller,"touchcancel",t),Cs(r.scroller,"scroll",function(){r.scroller.clientHeight&&(en(e,r.scroller.scrollTop),tn(e,r.scroller.scrollLeft,!0),Ss(e,"scroll",e))}),Cs(r.scroller,"mousewheel",function(t){nn(e,t)}),Cs(r.scroller,"DOMMouseScroll",function(t){nn(e,t)}),Cs(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={simple:function(t){kr(e,t)||_s(t)},start:function(t){Zt(e,t)},drop:Dt(e,Qt)};var a=r.input.getField();Cs(a,"keyup",function(t){dn.call(e,t)}),Cs(a,"keydown",Dt(e,cn)),Cs(a,"keypress",Dt(e,hn)),Cs(a,"focus",Ir(pn,e)),Cs(a,"blur",Ir(mn,e))}function qt(t,n,i){var r=i&&i!=e.Init;if(!n!=!r){var o=t.display.dragFunctions,s=n?Cs:$s;s(t.display.scroller,"dragstart",o.start),s(t.display.scroller,"dragenter",o.simple),s(t.display.scroller,"dragover",o.simple),s(t.display.scroller,"drop",o.drop)}}function Bt(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Wt(e,t){for(var n=yr(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Kt(e,t,n,i){var r=e.display;if(!n&&"true"==yr(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=mt(e,o,s);if(i&&1==c.xRel&&(l=Gi(e.doc,c.line).text).length==c.ch){var u=Es(l,l.length,e.options.tabSize)-l.length;c=Lo(c.line,Math.max(0,Math.round((o-We(e.display).left)/yt(e.display))-u))}return c}function Ut(e){var t=this,n=t.display;if(!(n.activeTouch&&n.input.supportsTouch()||kr(t,e))){if(n.shift=e.shiftKey,Wt(n,e))return void(go||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Jt(t,e)){var i=Kt(t,e);switch(window.focus(),br(e)){case 1:i?Yt(t,e,i):yr(e)==n.scroller&&xs(e);break;case 2:go&&(t.state.lastMiddleDown=+new Date),i&&xe(t.doc,i),setTimeout(function(){n.input.focus()},20),xs(e);break;case 3:Do?gn(t,e):fn(t)}}}}function Yt(e,t,n){po?setTimeout(Ir(X,e),0):e.curOp.focus=qr();var i,r=+new Date;No&&No.time>r-400&&0==Eo(No.pos,n)?i="triple":Ao&&Ao.time>r-400&&0==Eo(Ao.pos,n)?(i="double",No={time:r,pos:n}):(i="single",Ao={time:r,pos:n});var o,s=e.doc.sel,a=$o?t.metaKey:t.ctrlKey;e.options.dragDrop&&Us&&!J(e)&&"single"==i&&(o=s.contains(n))>-1&&(Eo((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(Eo(o.to(),n)>0||n.xRel<0)?Gt(e,t,n,a):Vt(e,t,n,i,a)}function Gt(e,t,n,i){var r=e.display,o=+new Date,s=Dt(e,function(a){go&&(r.scroller.draggable=!1),e.state.draggingText=!1,$s(document,"mouseup",s),$s(r.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(xs(a),!i&&+new Date-200<o&&xe(e.doc,n),go||po&&9==mo?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});go&&(r.scroller.draggable=!0),e.state.draggingText=s,r.scroller.dragDrop&&r.scroller.dragDrop(),Cs(document,"mouseup",s),Cs(r.scroller,"drop",s)}function Vt(e,t,n,i,r){function o(t){if(0!=Eo(g,t))if(g=t,"rect"==i){for(var r=[],o=e.options.tabSize,s=Es(Gi(c,n.line).text,n.ch,o),a=Es(Gi(c,t.line).text,t.ch,o),l=Math.min(s,a),f=Math.max(s,a),p=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=p;p++){var v=Gi(c,p).text,y=Tr(v,l,o);l==f?r.push(new he(Lo(p,y),Lo(p,y))):v.length>y&&r.push(new he(Lo(p,y),Lo(p,Tr(v,f,o))))}r.length||r.push(new he(n,n)),Te(c,fe(h.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,w=b.anchor,x=t;if("single"!=i){if("double"==i)var k=e.findWordAt(t);else var k=new he(Lo(t.line,0),ge(c,Lo(t.line+1,0)));Eo(k.anchor,w)>0?(x=k.head,w=V(b.from(),k.anchor)):(x=k.anchor,w=G(b.to(),k.head))}var r=h.ranges.slice(0);r[d]=new he(ge(c,w),x),Te(c,fe(r,d),Os)}}function s(t){var n=++y,r=Kt(e,t,!0,"rect"==i);if(r)if(0!=Eo(r,g)){e.curOp.focus=qr(),o(r);var a=w(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Dt(e,function(){y==n&&s(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(Dt(e,function(){y==n&&(l.scroller.scrollTop+=u,s(t))}),50)}}function a(e){y=1/0,xs(e),l.input.focus(),$s(document,"mousemove",b),$s(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;xs(t);var u,d,h=c.sel,f=h.ranges;if(r&&!t.shiftKey?(d=c.sel.contains(n),u=d>-1?f[d]:new he(n,n)):(u=c.sel.primary(),d=c.sel.primIndex),t.altKey)i="rect",r||(u=new he(n,n)),n=Kt(e,t,!0,!0),d=-1;else if("double"==i){var p=e.findWordAt(n);u=e.display.shift||c.extend?we(c,u,p.anchor,p.head):p}else if("triple"==i){var m=new he(Lo(n.line,0),ge(c,Lo(n.line+1,0)));u=e.display.shift||c.extend?we(c,u,m.anchor,m.head):m}else u=we(c,u,n);r?-1==d?(d=f.length,Te(c,fe(f.concat([u]),d),{scroll:!1,origin:"*mouse"})):f.length>1&&f[d].empty()&&"single"==i&&!t.shiftKey?(Te(c,fe(f.slice(0,d).concat(f.slice(d+1)),0)),h=c.sel):_e(c,d,u,Os):(d=0,Te(c,new de([u],0),Os),h=c.sel);var g=n,v=l.wrapper.getBoundingClientRect(),y=0,b=Dt(e,function(e){br(e)?s(e):a(e)}),x=Dt(e,a);Cs(document,"mousemove",b),Cs(document,"mouseup",x)}function Xt(e,t,n,i,r){try{var o=t.clientX,s=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&xs(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!Cr(e,n))return vr(t);s-=l.top-a.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=a.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=o){var d=Zi(e.doc,s),h=e.options.gutters[c];return r(e,n,e,d,h,t),vr(t)}}}function Jt(e,t){return Xt(e,t,"gutterClick",!0,wr)}function Qt(e){var t=this;if(!kr(t,e)&&!Wt(t.display,e)){xs(e),po&&(Ho=+new Date);var n=Kt(t,e,!0),i=e.dataTransfer.files;if(n&&!J(t))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){var a=new FileReader;a.onload=Dt(t,function(){if(o[i]=a.result,++s==r){n=ge(t.doc,n);var e={from:n,to:n,text:Ys(o.join("\n")),origin:"paste"};_n(t.doc,e),Se(t.doc,pe(n,Yo(e)))}}),a.readAsText(e)},l=0;r>l;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!($o?e.altKey:e.ctrlKey))var c=t.listSelections();if(je(t.doc,pe(n,n)),c)for(var l=0;l<c.length;++l)Dn(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Zt(e,t){if(po&&(!e.state.draggingText||+new Date-Ho<100))return void _s(t);if(!kr(e,t)&&!Wt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!wo)){var n=Fr("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",bo&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),bo&&n.parentNode.removeChild(n)}}function en(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,uo||D(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),uo&&D(e),Re(e,100))}function tn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function nn(e,t){var n=Wo(t),i=n.x,r=n.y,o=e.display,s=o.scroller;if(i&&s.scrollWidth>s.clientWidth||r&&s.scrollHeight>s.clientHeight){if(r&&$o&&go)e:for(var a=t.target,l=o.view;a!=s;a=a.parentNode)for(var c=0;c<l.length;c++)if(l[c].node==a){e.display.currentWheelTarget=a;break e}if(i&&!uo&&!bo&&null!=Bo)return r&&en(e,Math.max(0,Math.min(s.scrollTop+r*Bo,s.scrollHeight-s.clientHeight))),tn(e,Math.max(0,Math.min(s.scrollLeft+i*Bo,s.scrollWidth-s.clientWidth))),xs(t),void(o.wheelStartX=null);if(r&&null!=Bo){var u=r*Bo,d=e.doc.scrollTop,h=d+o.wrapper.clientHeight;0>u?d=Math.max(0,d+u-50):h=Math.min(e.doc.height,h+u+50),D(e,{top:d,bottom:h})}20>qo&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Bo=(Bo*qo+n)/(qo+1),++qo)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function rn(e,t,n){if("string"==typeof t&&(t=rs[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{J(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Ds}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function on(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=ss(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&ss(t,e.options.extraKeys,n,e)||ss(t,e.options.keyMap,n,e)}function sn(e,t,n,i){var r=e.state.keySeq;if(r){if(as(t))return"handled";Ko.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=on(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&wr(e,"keyHandled",e,t,n),("handled"==o||"multi"==o)&&(xs(n),Ne(e)),r&&!o&&/\'$/.test(t)?(xs(n),!0):!!o}function an(e,t){var n=ls(t,!0);return n?t.shiftKey&&!e.state.keySeq?sn(e,"Shift-"+n,t,function(t){return rn(e,t,!0)})||sn(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?rn(e,t):void 0}):sn(e,n,t,function(t){return rn(e,t)}):!1}function ln(e,t,n){return sn(e,"'"+n+"'",t,function(t){return rn(e,t,!0)})}function cn(e){var t=this;if(t.curOp.focus=qr(),!kr(t,e)){po&&11>mo&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=an(t,e);bo&&(Uo=i?n:null,!i&&88==n&&!Vs&&($o?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||un(t)}}function un(e){function t(e){18!=e.keyCode&&e.altKey||(Bs(n,"CodeMirror-crosshair"),$s(document,"keyup",t),$s(document,"mouseover",t))}var n=e.display.lineDiv;Ws(n,"CodeMirror-crosshair"),Cs(document,"keyup",t),Cs(document,"mouseover",t)}function dn(e){16==e.keyCode&&(this.doc.sel.shift=!1),kr(this,e)}function hn(e){var t=this;if(!(Wt(t.display,e)||kr(t,e)||e.ctrlKey&&!e.altKey||$o&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(bo&&n==Uo)return Uo=null,void xs(e);if(!bo||e.which&&!(e.which<10)||!an(t,e)){var r=String.fromCharCode(null==i?n:i);ln(t,e,r)||t.display.input.onKeyPress(e)}}}function fn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,mn(e))},100)}function pn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ss(e,"focus",e),e.state.focused=!0,Ws(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),go&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ne(e))}function mn(e){e.state.delayingBlurEvent||(e.state.focused&&(Ss(e,"blur",e),e.state.focused=!1,Bs(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function gn(e,t){Wt(e.display,t)||vn(e,t)||e.display.input.onContextMenu(t)}function vn(e,t){return Cr(e,"gutterContextMenu")?Xt(e,t,"gutterContextMenu",!1,Ss):!1}function yn(e,t){if(Eo(e,t.from)<0)return e;if(Eo(e,t.to)<=0)return Yo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Yo(t).ch-t.to.ch),Lo(n,i)}function bn(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new he(yn(r.anchor,t),yn(r.head,t)))}return fe(n,e.sel.primIndex)}function wn(e,t,n){return e.line==t.line?Lo(n.line,e.ch-t.ch+n.ch):Lo(n.line+(e.line-t.line),e.ch)}function xn(e,t,n){for(var i=[],r=Lo(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=wn(a.from,r,o),c=wn(Yo(a),r,o);if(r=a.to,o=c,"around"==n){var u=e.sel.ranges[s],d=Eo(u.head,u.anchor)<0;i[s]=new he(d?c:l,d?l:c)}else i[s]=new he(l,l)}return new de(i,e.sel.primIndex)}function kn(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=ge(e,t)),n&&(this.to=ge(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Ss(e,"beforeChange",e,i),e.cm&&Ss(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function _n(e,t,n){if(e.cm){if(!e.cm.curOp)return Dt(e.cm,_n)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Cr(e,"beforeChange")||e.cm&&Cr(e.cm,"beforeChange"))||(t=kn(e,t,!0))){var i=Mo&&!n&&oi(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Cn(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Cn(e,t)}}function Cn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Eo(t.from,t.to)){var n=bn(e,t);sr(e,t,n,e.cm?e.cm.curOp.id:NaN),Tn(e,t,n,ni(e,t));var i=[];Ui(e,function(e,n){n||-1!=Mr(i,e.history)||(gr(e.history,t),i.push(e.history)),Tn(e,t,null,ni(e,t))})}}function $n(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;i=s.pop(),i.ranges;){if(cr(i,a),n&&!i.equals(e.sel))return void Te(e,i,{clearRedo:!1});o=i}var c=[];cr(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=Cr(e,"beforeChange")||e.cm&&Cr(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var d=i.changes[l];if(d.origin=t,u&&!kn(e,d,!1))return void(s.length=0);c.push(ir(e,d));var h=l?bn(e,d):Dr(s);Tn(e,d,h,ri(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:Yo(d)});var f=[];Ui(e,function(e,t){t||-1!=Mr(f,e.history)||(gr(e.history,d),f.push(e.history)),Tn(e,d,null,ri(e,d))})}}}}function Sn(e,t){if(0!=t&&(e.first+=t,e.sel=new de(Or(e.sel.ranges,function(e){return new he(Lo(e.anchor.line+t,e.anchor.ch),Lo(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){zt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)It(e.cm,i,"gutter")}}function Tn(e,t,n,i){if(e.cm&&!e.cm.curOp)return Dt(e.cm,Tn)(e,t,n,i);if(t.to.line<e.first)return void Sn(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Sn(e,r),t={from:Lo(e.first,0),to:Lo(t.to.line+r,t.to.ch),text:[Dr(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Lo(o,Gi(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Vi(e,t.from,t.to),n||(n=bn(e,t)),e.cm?jn(e.cm,t,i):Bi(e,t,i),je(e,n,Ms)}}function jn(e,t,n){var i=e.doc,r=e.display,s=t.from,a=t.to,l=!1,c=s.line;e.options.lineWrapping||(c=Qi(mi(Gi(i,s.line))),i.iter(c,a.line+1,function(e){return e==r.maxLine?(l=!0,!0):void 0})),i.sel.contains(t.from,t.to)>-1&&_r(e),Bi(i,t,n,o(e)),e.options.lineWrapping||(i.iter(c,s.line+t.text.length,function(e){var t=d(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),Re(e,400);var u=t.text.length-(a.line-s.line)-1;t.full?zt(e):s.line!=a.line||1!=t.text.length||qi(e.doc,t)?zt(e,s.line,a.line+1,u):It(e,s.line,"text");
var h=Cr(e,"changes"),f=Cr(e,"change");if(f||h){var p={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&wr(e,"change",e,p),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Dn(e,t,n,i,r){if(i||(i=n),Eo(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=Ys(t)),_n(e,{from:n,to:i,text:t,origin:r})}function Mn(e,t){if(!kr(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!ko){var o=Fr("div","\u200b",null,"position: absolute; top: "+(t.top-n.viewOffset-qe(e.display))+"px; height: "+(t.bottom-t.top+Ke(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}function On(e,t,n,i){null==i&&(i=0);for(var r=0;5>r;r++){var o=!1,s=ht(e,t),a=n&&n!=t?ht(e,n):s,l=En(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(en(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=l.scrollLeft&&(tn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return s}function Ln(e,t,n,i,r){var o=En(e,t,n,i,r);null!=o.scrollTop&&en(e,o.scrollTop),null!=o.scrollLeft&&tn(e,o.scrollLeft)}function En(e,t,n,i,r){var o=e.display,s=vt(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Ye(e),c={};r-n>l&&(r=n+l);var u=e.doc.height+Be(o),d=s>n,h=r>u-s;if(a>n)c.scrollTop=d?0:n;else if(r>a+l){var f=Math.min(n,(h?u:r)-l);f!=a&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Ue(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=i-t>m;return g&&(i=t+m),10>t?c.scrollLeft=0:p>t?c.scrollLeft=Math.max(0,t-(g?0:10)):i>m+p-3&&(c.scrollLeft=i+(g?0:10)-m),c}function zn(e,t,n){(null!=t||null!=n)&&An(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function In(e){An(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?Lo(t.line,t.ch-1):t,i=Lo(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function An(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=ft(e,t.from),i=ft(e,t.to),r=En(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Nn(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=He(e,t):n="prev");var s=e.options.tabSize,a=Gi(o,t),l=Es(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(r,a.text.slice(u.length),a.text),c==Ds||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?Es(Gi(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)h+=s,d+="	";if(c>h&&(d+=jr(c-h)),d!=u)return Dn(o,d,Lo(t,0),Lo(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];if(p.head.line==t&&p.head.ch<u.length){var h=Lo(t,u.length);_e(o,f,new he(h,h));break}}}function Rn(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=Gi(e,me(e,t)):r=Qi(t),null==r?null:(i(o,r)&&e.cm&&It(e.cm,r,n),o)}function Fn(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&Eo(o.from,Dr(i).to)<=0;){var s=i.pop();if(Eo(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}jt(e,function(){for(var t=i.length-1;t>=0;t--)Dn(e.doc,"",i[t].from,i[t].to,"+delete");In(e)})}function Pn(e,t,n,i,r){function o(){var t=a+n;return t<e.first||t>=e.first+e.size?d=!1:(a=t,u=Gi(e,t))}function s(e){var t=(r?lo:co)(u,l,n,!0);if(null==t){if(e||!o())return d=!1;l=r?(0>n?to:eo)(u):0>n?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,u=Gi(e,a),d=!0;if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var h=null,f="group"==i,p=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||s(!m);m=!1){var g=u.text.charAt(l)||"\n",v=Ar(g,p)?"w":f&&"\n"==g?"n":!f||/\s/.test(g)?null:"p";if(!f||m||v||(v="s"),h&&h!=v){0>n&&(n=1,s());break}if(v&&(h=v),n>0&&!s(!m))break}var y=Le(e,Lo(a,l),c,!0);return d||(y.hitSide=!0),y}function Hn(e,t,n,i){var r,o=e.doc,s=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(0>n?1.5:.5)*vt(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=mt(e,s,r);if(!l.outside)break;if(0>n?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function qn(t,n,i,r){e.defaults[t]=n,i&&(Vo[t]=r?function(e,t,n){n!=Xo&&i(e,t,n)}:i)}function Bn(e){for(var t,n,i,r,o=e.split(/-(?!$)/),e=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Wn(e){return"string"==typeof e?os[e]:e}function Kn(e,t,n,i,r){if(i&&i.shared)return Un(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Dt(e.cm,Kn)(e,t,n,i,r);var o=new ds(e,r),s=Eo(t,n);if(i&&zr(i,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Fr("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(pi(e,t.line,t,n,o)||t.line!=n.line&&pi(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Oo=!0}o.addToHistory&&sr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&mi(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Ji(e,0),Zn(e,new Xn(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){bi(e,t)&&Ji(t,0)}),o.clearOnEnter&&Cs(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Mo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++us,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)zt(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=t.line;u<=n.line;u++)It(c,u,"text");o.atomic&&Me(c.doc),wr(c,"markerAdded",c,o)}return o}function Un(e,t,n,i,r){i=zr(i),i.shared=!1;var o=[Kn(e,t,n,i,r)],s=o[0],a=i.widgetNode;return Ui(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(Kn(e,ge(e,t),ge(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Dr(o)}),new hs(o,s)}function Yn(e){return e.findMarks(Lo(e.first,0),e.clipPos(Lo(e.lastLine())),function(e){return e.parent})}function Gn(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(Eo(o,s)){var a=Kn(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Vn(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Ui(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==Mr(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function Xn(e,t,n){this.marker=e,this.from=t,this.to=n}function Jn(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Qn(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function Zn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function ei(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new Xn(s,o.from,l?null:o.to))}}return i}function ti(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new Xn(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function ni(e,t){if(t.full)return null;var n=ye(e,t.from.line)&&Gi(e,t.from.line).markedSpans,i=ye(e,t.to.line)&&Gi(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==Eo(t.from,t.to),a=ei(n,r,s),l=ti(i,o,s),c=1==t.text.length,u=Dr(t.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var f=Jn(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+u):h.to=r}}if(l)for(var d=0;d<l.length;++d){var h=l[d];if(null!=h.to&&(h.to+=u),null==h.from){var f=Jn(a,h.marker);f||(h.from=u,c&&(a||(a=[])).push(h))}else h.from+=u,c&&(a||(a=[])).push(h)}a&&(a=ii(a)),l&&l!=a&&(l=ii(l));var p=[a];if(!c){var m,g=t.text.length-2;if(g>0&&a)for(var d=0;d<a.length;++d)null==a[d].to&&(m||(m=[])).push(new Xn(a[d].marker,null,null));for(var d=0;g>d;++d)p.push(m);p.push(l)}return p}function ii(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ri(e,t){var n=hr(e,t),i=ni(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function oi(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=Mr(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(Eo(c.to,a.from)<0||Eo(c.from,a.to)>0)){var u=[l,1],d=Eo(c.from,a.from),h=Eo(c.to,a.to);(0>d||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function si(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ai(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function li(e){return e.inclusiveLeft?-1:0}function ci(e){return e.inclusiveRight?1:0}function ui(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=Eo(i.from,r.from)||li(e)-li(t);if(o)return-o;var s=Eo(i.to,r.to)||ci(e)-ci(t);return s?s:t.id-e.id}function di(e,t){var n,i=Oo&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||ui(n,r.marker)<0)&&(n=r.marker);return n}function hi(e){return di(e,!0)}function fi(e){return di(e,!1)}function pi(e,t,n,i,r){var o=Gi(e,t),s=Oo&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=Eo(c.from,n)||li(l.marker)-li(r),d=Eo(c.to,i)||ci(l.marker)-ci(r);if(!(u>=0&&0>=d||0>=u&&d>=0)&&(0>=u&&(Eo(c.to,n)>0||l.marker.inclusiveRight&&r.inclusiveLeft)||u>=0&&(Eo(c.from,i)<0||l.marker.inclusiveLeft&&r.inclusiveRight)))return!0}}}function mi(e){for(var t;t=hi(e);)e=t.find(-1,!0).line;return e}function gi(e){for(var t,n;t=fi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function vi(e,t){var n=Gi(e,t),i=mi(n);return n==i?t:Qi(i)}function yi(e,t){if(t>e.lastLine())return t;var n,i=Gi(e,t);if(!bi(e,i))return t;for(;n=fi(i);)i=n.find(1,!0).line;return Qi(i)+1}function bi(e,t){var n=Oo&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&wi(e,t,i))return!0}}function wi(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return wi(e,i.line,Jn(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&wi(e,t,r))return!0}function xi(e,t,n){er(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&zn(e,null,n)}function ki(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ps(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Hr(t.display.measure,Fr("div",[e.node],null,n))}return e.height=e.node.offsetHeight}function _i(e,t,n,i){var r=new fs(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Rn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!bi(e,t)){var i=er(t)<e.scrollTop;Ji(t,t.height+ki(r)),i&&zn(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Ci(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),si(e),ai(e,n);var r=i?i(e):1;r!=e.height&&Ji(e,r)}function $i(e){e.parent=null,si(e)}function Si(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Ti(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function ji(t,n,i,r){for(var o=0;10>o;o++){r&&(r[0]=e.innerMode(t,i).mode);var s=t.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function Di(e,t,n,i){function r(e){return{start:d.start,end:d.pos,string:d.current(),type:o||null,state:e?ns(s.mode,u):u}}var o,s=e.doc,a=s.mode;t=ge(s,t);var l,c=Gi(s,t.line),u=He(e,t.line,n),d=new cs(c.text,e.options.tabSize);for(i&&(l=[]);(i||d.pos<t.ch)&&!d.eol();)d.start=d.pos,o=ji(a,d,u),i&&l.push(r(!0));return i?l:r()}function Mi(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new cs(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Si(Ti(n,i),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,s&&Ei(e,t,i,d.pos),d.pos=t.length,l=null):l=Si(ji(n,d,i,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e4),r(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e4);r(p,u),c=p}}function Oi(e,t,n,i){var r=[e.state.modeGen],o={};Mi(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},o,i);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,c=0;Mi(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>c;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Li(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Oi(e,t,t.stateAfter=He(e,Qi(t)));t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ei(e,t,n,i){var r=e.doc.mode,o=new cs(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&Ti(r,n);!o.eol()&&o.pos<=e.options.maxHighlightLength;)ji(r,o,n),o.start=o.pos}function zi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?gs:ms;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Ii(e,t){var n=Fr("span",null,null,go?"padding-right: .1px":null),i={pre:Fr("pre",[n]),content:n,col:0,pos:0,cm:e,splitSpaces:(po||go)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,s=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=Ni,Vr(e.display.measure)&&(o=tr(s))&&(i.addToken=Fi(i.addToken,o)),i.map=[];var a=t!=e.display.externalMeasured&&Qi(s);Hi(s,i,Li(e,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=Wr(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=Wr(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Gr(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return go&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),Ss(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Wr(i.pre.className,i.textClass||"")),i}function Ai(e){var t=Fr("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Ni(e,t,n,i,r,o,s){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,Ri):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var h=l.exec(t),f=h?h.index-d:t.length-d;if(f){var p=document.createTextNode(a.slice(d,d+f));po&&9>mo?u.appendChild(Fr("span",[p])):u.appendChild(p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f}if(!h)break;if(d+=f+1,"	"==h[0]){var m=e.cm.options.tabSize,g=m-e.col%m,p=u.appendChild(Fr("span",jr(g),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","	"),e.col+=g}else{var p=e.cm.options.specialCharPlaceholder(h[0]);p.setAttribute("cm-text",h[0]),po&&9>mo?u.appendChild(Fr("span",[p])):u.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),po&&9>mo&&(c=!0),e.pos+=t.length}if(n||i||r||c||s){var v=n||"";i&&(v+=i),r&&(v+=r);var y=Fr("span",[u],v,s);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(u)}}function Ri(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"\xa0";return t+=" "}function Fi(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=0;d<t.length;d++){var h=t[d];if(h.to>c&&h.from<=c)break}if(h.to>=u)return e(n,i,r,o,s,a,l);e(n,i.slice(0,h.to-c),r,o,null,a,l),o=null,i=i.slice(h.to-c),c=h.to}}}function Pi(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function Hi(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,c,u,d,h,f=r.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=d=a="",h=null,v=1/0;for(var y=[],b=0;b<i.length;++b){var w=i[b],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=x.css),x.startStyle&&w.from==p&&(u+=" "+x.startStyle),x.endStyle&&w.to==v&&(c+=" "+x.endStyle),x.title&&!d&&(d=x.title),x.collapsed&&(!h||ui(h.marker,x)<0)&&(h=w)):w.from>p&&v>w.from&&(v=w.from)}if(h&&(h.from||0)==p){if(Pi(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}if(!h&&y.length)for(var b=0;b<y.length;++b)Pi(t,0,y[b])}if(p>=f)break;for(var k=Math.min(f,v);;){if(g){var _=p+g.length;if(!h){var C=_>k?g.slice(0,k-p):g;t.addToken(t,C,s?s+l:l,u,p+C.length==v?c:"",d,a)}if(_>=k){g=g.slice(k-p),p=k;break}p=_,u=""}g=r.slice(o,o=n[m++]),s=zi(n[m++],t.cm.options)}}else for(var m=1;m<n.length;m+=2)t.addToken(t,r.slice(o,o=n[m]),zi(n[m+1],t.cm.options))}function qi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Dr(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Bi(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){Ci(e,n,r,i),wr(e,"change",e,t)}function s(e,t){for(var n=e,o=[];t>n;++n)o.push(new ps(c[n],r(n),i));return o}var a=t.from,l=t.to,c=t.text,u=Gi(e,a.line),d=Gi(e,l.line),h=Dr(c),f=r(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(qi(e,t)){var m=s(0,c.length-1);o(d,d.text,f),p&&e.remove(a.line,p),m.length&&e.insert(a.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),f);else{var m=s(1,c.length-1);m.push(new ps(h+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,m)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(d,h+d.text.slice(l.ch),f);var m=s(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,m)}wr(e,"change",e,t)}function Wi(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Ki(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function Ui(e,t,n){function i(e,r,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;(!n||l)&&(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Yi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),n(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,zt(e)}function Gi(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(o>t){n=r;break}t-=o}return n.lines[t]}function Vi(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function Xi(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function Ji(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function Qi(e){if(null==e.parent)return null;for(var t=e.parent,n=Mr(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function Zi(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(o>t){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i],a=s.height;if(a>t)break;t-=a}return n+i}function er(e){e=mi(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function tr(e){var t=e.order;return null==t&&(t=e.order=Zs(e.text)),t}function nr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ir(e,t){var n={from:Y(t.from),to:Yo(t),text:Vi(e,t.from,t.to)};return ur(e,n,t.from.line,t.to.line+1),Ui(e,function(e){ur(e,n,t.from.line,t.to.line+1)},!0),n}function rr(e){for(;e.length;){var t=Dr(e);if(!t.ranges)break;e.pop()}}function or(e,t){return t?(rr(e.done),Dr(e.done)):e.done.length&&!Dr(e.done).ranges?Dr(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Dr(e.done)):void 0}function sr(e,t,n,i){var r=e.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=or(r,r.lastOp==i))){var a=Dr(o.changes);0==Eo(t.from,t.to)&&0==Eo(t.from,a.to)?a.to=Yo(t):o.changes.push(ir(e,t))}else{var l=Dr(r.done);for(l&&l.ranges||cr(e.sel,r.done),o={changes:[ir(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||Ss(e,"historyAdded")}function ar(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function lr(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||ar(e,o,Dr(r.done),t))?r.done[r.done.length-1]=t:cr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&i.clearRedo!==!1&&rr(r.undone)}function cr(e,t){var n=Dr(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ur(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function dr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function hr(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(dr(n[i]));return r}function fr(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?de.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&Mr(t,Number(c[1]))>-1&&(Dr(a)[d]=u[d],delete u[d])}}}return r}function pr(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function mr(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)pr(o.ranges[a].anchor,t,n,i),pr(o.ranges[a].head,t,n,i)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=Lo(l.from.line+i,l.from.ch),l.to=Lo(l.to.line+i,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function gr(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;mr(e.done,n,i,r),mr(e.undone,n,i,r)}function vr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function yr(e){return e.target||e.srcElement}function br(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),$o&&e.ctrlKey&&1==t&&(t=3),t}function wr(e,t){function n(e){return function(){e.apply(null,o)}}var i=e._handlers&&e._handlers[t];if(i){var r,o=Array.prototype.slice.call(arguments,2);Fo?r=Fo.delayedCallbacks:Ts?r=Ts:(r=Ts=[],setTimeout(xr,0));for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function xr(){var e=Ts;Ts=null;for(var t=0;t<e.length;++t)e[t]()}function kr(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ss(e,n||t.type,e,t),vr(t)||t.codemirrorIgnore}function _r(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==Mr(n,t[i])&&n.push(t[i])}function Cr(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function $r(e){e.prototype.on=function(e,t){Cs(this,e,t)},e.prototype.off=function(e,t){$s(this,e,t)}}function Sr(){this.id=null}function Tr(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("	",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}}function jr(e){for(;zs.length<=e;)zs.push(Dr(zs)+" ");return zs[e]}function Dr(e){return e[e.length-1]}function Mr(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Or(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Lr(){}function Er(e,t){var n;return Object.create?n=Object.create(e):(Lr.prototype=e,n=new Lr),t&&zr(t,n),n}function zr(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function Ir(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ar(e,t){return t?t.source.indexOf("\\w")>-1&&Rs(e)?!0:t.test(e):Rs(e)}function Nr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Rr(e){return e.charCodeAt(0)>=768&&Fs.test(e)}function Fr(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function Pr(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Hr(e,t){return Pr(e).appendChild(t)}function qr(){return document.activeElement}function Br(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Wr(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Br(n[i]).test(t)&&(t+=" "+n[i]);return t}function Kr(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Ur(){Ks||(Yr(),Ks=!0)}function Yr(){var e;Cs(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Kr(Bt)},100))}),Cs(window,"blur",function(){Kr(mn)})}function Gr(e){if(null==Hs){var t=Fr("span","\u200b");Hr(e,Fr("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Hs=t.offsetWidth<=1&&t.offsetHeight>2&&!(po&&8>mo))}var n=Hs?Fr("span","\u200b"):Fr("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Vr(e){if(null!=qs)return qs;var t=Hr(e,document.createTextNode("A\u062eA")),n=As(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=As(t,1,2).getBoundingClientRect();return qs=i.right-n.right<3}function Xr(e){if(null!=Xs)return Xs;var t=Hr(e,Fr("span","x")),n=t.getBoundingClientRect(),i=As(t,0,1).getBoundingClientRect();return Xs=Math.abs(n.left-i.left)>1}function Jr(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function Qr(e){return e.level%2?e.to:e.from}function Zr(e){return e.level%2?e.from:e.to}function eo(e){var t=tr(e);return t?Qr(t[0]):0}function to(e){var t=tr(e);return t?Zr(Dr(t)):e.text.length}function no(e,t){var n=Gi(e.doc,t),i=mi(n);i!=n&&(t=Qi(i));var r=tr(i),o=r?r[0].level%2?to(i):eo(i):0;return Lo(t,o)}function io(e,t){for(var n,i=Gi(e.doc,t);n=fi(i);)i=n.find(1,!0).line,t=null;var r=tr(i),o=r?r[0].level%2?eo(i):to(i):i.text.length;return Lo(null==t?Qi(i):t,o)}function ro(e,t){var n=no(e,t.line),i=Gi(e.doc,n.line),r=tr(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return Lo(n.line,s?0:o)}return n}function oo(e,t,n){var i=e[0].level;return t==i?!0:n==i?!1:n>t}function so(e,t){Qs=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return oo(e,r.level,e[n].level)?(r.from!=r.to&&(Qs=n),i):(r.from!=r.to&&(Qs=i),n);n=i}}return n}function ao(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&Rr(e.text.charAt(t)));return t}function lo(e,t,n,i){var r=tr(e);if(!r)return co(e,t,n,i);for(var o=so(r,t),s=r[o],a=ao(e,t,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return so(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?ao(e,s.to,-1,i):ao(e,s.from,1,i)}}function co(e,t,n,i){var r=t+n;if(i)for(;r>0&&Rr(e.text.charAt(r));)r+=n;return 0>r||r>e.text.length?null:r}var uo=/gecko\/\d/i.test(navigator.userAgent),ho=/MSIE \d/.test(navigator.userAgent),fo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),po=ho||fo,mo=po&&(ho?document.documentMode||6:fo[1]),go=/WebKit\//.test(navigator.userAgent),vo=go&&/Qt\/\d+\.\d+/.test(navigator.userAgent),yo=/Chrome\//.test(navigator.userAgent),bo=/Opera\//.test(navigator.userAgent),wo=/Apple Computer/.test(navigator.vendor),xo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),ko=/PhantomJS/.test(navigator.userAgent),_o=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Co=_o||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),$o=_o||/Mac/.test(navigator.platform),So=/win/i.test(navigator.platform),To=bo&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);
To&&(To=Number(To[1])),To&&To>=15&&(bo=!1,go=!0);var jo=$o&&(vo||bo&&(null==To||12.11>To)),Do=uo||po&&mo>=9,Mo=!1,Oo=!1;m.prototype=zr({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==i&&this.overlayHack(),this.checkedOverlay=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=$o&&!xo?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,n=function(e){yr(e)!=t.vert&&yr(e)!=t.horiz&&Dt(t.cm,Ut)(e)};Cs(this.vert,"mousedown",n),Cs(this.horiz,"mousedown",n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=zr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g},$.prototype.signal=function(e,t){Cr(e,t)&&this.events.push(arguments)},$.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ss.apply(null,this.events[e])};var Lo=e.Pos=function(e,t){return this instanceof Lo?(this.line=e,void(this.ch=t)):new Lo(e,t)},Eo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},zo=null;ie.prototype=zr({init:function(e){function t(e){if(i.somethingSelected())zo=i.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=zo.join("\n"),Is(o));else{if(!i.options.lineWiseCopyCut)return;var t=te(i);zo=t.text,"cut"==e.type?i.setSelections(t.ranges,null,Ms):(n.prevInput="",o.value=t.text.join("\n"),Is(o))}"cut"==e.type&&(i.state.cutIncoming=!0)}var n=this,i=this.cm,r=this.wrapper=re(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),_o&&(o.style.width="0px"),Cs(o,"input",function(){po&&mo>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Cs(o,"paste",function(e){return Z(e,i)?!0:(i.state.pasteIncoming=!0,void n.fastPoll())}),Cs(o,"cut",t),Cs(o,"copy",t),Cs(e.scroller,"paste",function(t){Wt(e,t)||(i.state.pasteIncoming=!0,n.focus())}),Cs(e.lineSpace,"selectstart",function(t){Wt(e,t)||xs(t)}),Cs(o,"compositionstart",function(){var e=i.getCursor("from");n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Cs(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=ze(e);if(e.options.moveInputWithCursor){var r=ht(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;Hr(n.cursorDiv,e.cursors),Hr(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary();t=Vs&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3);var s=t?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&Is(this.textarea),po&&mo>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",po&&mo>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Co||qr()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Gs(t)&&!n||J(e)||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(po&&mo>=9&&this.hasSelection===i||$o&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,i.length);s>o&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;return jt(e,function(){Q(e,i.slice(o),n.length-o,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){po&&mo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=r.somethingSelected(),t="\u200b"+(e?s.value:"");s.value="\u21da",s.value=t,i.prevInput=e?"":"\u200b",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.position="relative",s.style.cssText=u,po&&9>mo&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!po||po&&9>mo)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==i.prevInput?Dt(r,rs.selectAll)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=Kt(r,e),l=o.scroller.scrollTop;if(a&&!bo){var c=r.options.resetSelectionOnContextMenu;c&&-1==r.doc.sel.contains(a)&&Dt(r,Te)(r.doc,pe(a),Ms);var u=s.style.cssText;if(i.wrapper.style.position="absolute",s.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(po?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",go)var d=window.scrollY;if(o.input.focus(),go&&window.scrollTo(null,d),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),po&&mo>=9&&t(),Do){_s(e);var h=function(){$s(window,"mouseup",h),setTimeout(n,20)};Cs(window,"mouseup",h)}else setTimeout(n,50)}},setUneditable:Lr,needsContentAttribute:!1},ie.prototype),oe.prototype=zr({init:function(e){function t(e){if(i.somethingSelected())zo=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=te(i);zo=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Ms),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!_o)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",zo.join("\n"));else{var n=re(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=zo.join("\n");var o=document.activeElement;Is(r),setTimeout(function(){i.display.lineSpace.removeChild(n),o.focus()},50)}}var n=this,i=n.cm,r=n.div=e.lineDiv;r.contentEditable="true",ne(r),Cs(r,"paste",function(e){Z(e,i)}),Cs(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),o=i.getLine(r.head.line),s=o.indexOf(t,Math.max(0,r.head.ch-t.length));s>-1&&s<=r.head.ch&&(n.composing.sel=pe(Lo(r.head.line,s),Lo(r.head.line,s+t.length)))}}),Cs(r,"compositionupdate",function(e){n.composing.data=e.data}),Cs(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Cs(r,"touchstart",function(){n.forceCompositionEnd()}),Cs(r,"input",function(){n.composing||n.pollContent()||jt(n.cm,function(){zt(i)})}),Cs(r,"copy",t),Cs(r,"cut",t)},prepareSelection:function(){var e=ze(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=le(this.cm,e.anchorNode,e.anchorOffset),i=le(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=Eo(V(n,i),t.from())||0!=Eo(G(n,i),t.to())){var r=se(this.cm,t.from()),o=se(this.cm,t.to());if(r||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=As(r.node,r.offset,o.offset,o.node)}catch(d){}u&&(e.removeAllRanges(),e.addRange(u),a&&null==e.anchorNode?e.addRange(a):uo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Hr(this.cm.display.cursorDiv,e.cursors),Hr(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ps(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():jt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=le(t,e.anchorNode,e.anchorOffset),i=le(t,e.focusNode,e.focusOffset);n&&i&&jt(t,function(){Te(t.doc,pe(n,i),Ms),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o;if(i.line==t.viewFrom||0==(o=Nt(e,i.line)))var s=Qi(t.view[0].line),a=t.view[0].node;else var s=Qi(t.view[o].line),a=t.view[o-1].node.nextSibling;var l=Nt(e,r.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=Qi(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var d=Ys(ue(e,a,u,s,c)),h=Vi(e.doc,Lo(s,0),Lo(c,Gi(e.doc,c).text.length));d.length>1&&h.length>1;)if(Dr(d)==Dr(h))d.pop(),h.pop(),c--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),s++}for(var f=0,p=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);v>f&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var y=Dr(d),b=Dr(h),w=Math.min(y.length-(1==d.length?f:0),b.length-(1==h.length?f:0));w>p&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;d[d.length-1]=y.slice(0,y.length-p),d[0]=d[0].slice(f);var x=Lo(s,f),k=Lo(c,h.length?Dr(h).length-p:0);return d.length>1||d[0]||Eo(x,k)?(Dn(e.doc,d,x,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&Dt(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),Dt(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:Lr,resetPosition:Lr,needsContentAttribute:!0},oe.prototype),e.inputStyles={textarea:ie,contenteditable:oe},de.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=Eo(n.anchor,i.anchor)||0!=Eo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new he(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new de(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(Eo(t,i.from())>=0&&Eo(e,i.to())<=0)return n}return-1}},he.prototype={from:function(){return V(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Io,Ao,No,Ro={left:0,right:0,top:0,bottom:0},Fo=null,Po=0,Ho=0,qo=0,Bo=null;po?Bo=-.53:uo?Bo=15:yo?Bo=-.7:wo&&(Bo=-1/3);var Wo=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Wo(e);return t.x*=Bo,t.y*=Bo,t};var Ko=new Sr,Uo=null,Yo=e.changeEnd=function(e){return e.text?Lo(e.from.line+e.text.length-1,Dr(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Vo.hasOwnProperty(e)&&Dt(this,Vo[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Wn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Mt(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,zt(this)}),removeOverlay:Mt(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void zt(this)}}),indentLine:Mt(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ye(this.doc,e)&&Nn(this,e,t,n)}),indentSelection:Mt(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Nn(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&In(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;n>l;++l)Nn(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[i].from().ch>0&&_e(this.doc,i,new he(o,c[i].to()),Ms)}}}),getTokenAt:function(e,t){return Di(this,e,t)},getLineTokens:function(e,t){return Di(this,Lo(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,n=Li(this,Gi(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!ts.hasOwnProperty(t))return n;var i=ts[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=i[r[t][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==Mr(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=me(n,null==e?n.first+n.size-1:e),He(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?ge(this.doc,e):e?i.from():i.to(),ht(this,n,t||"page")},charCoords:function(e,t){return dt(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ut(this,e,t||"page"),mt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ut(this,{top:e,left:0},t||"page").top,Zi(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=Gi(this.doc,e)}else n=e;return ct(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-er(n):0)},defaultTextHeight:function(){return vt(this.display)},defaultCharWidth:function(){return yt(this.display)},setGutterMarker:Mt(function(e,t,n){return Rn(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Nr(i)&&(e.gutterMarkers=null),!0})}),clearGutter:Mt(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,It(t,i,"gutter"),Nr(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!ye(this.doc,e))return null;var t=e;if(e=Gi(this.doc,e),!e)return null}else{var t=Qi(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=ht(this,ge(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)s=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Ln(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:Mt(cn),triggerOnKeyPress:Mt(hn),triggerOnKeyUp:dn,execCommand:function(e){return rs.hasOwnProperty(e)?rs[e](this):void 0},triggerElectric:Mt(function(e){ee(this,e)}),findPosH:function(e,t,n,i){var r=1;0>t&&(r=-1,t=-t);for(var o=0,s=ge(this.doc,e);t>o&&(s=Pn(this.doc,s,r,n,i),!s.hitSide);++o);return s},moveH:Mt(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Pn(n.doc,i.head,e,t,n.options.rtlMoveVisually):0>e?i.from():i.to()},Ls)}),deleteH:Mt(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Fn(this,function(n){var r=Pn(i,n.head,e,t,!1);return 0>e?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;0>t&&(r=-1,t=-t);for(var s=0,a=ge(this.doc,e);t>s;++s){var l=ht(this,a,"div");if(null==o?o=l.left:l.left=o,a=Hn(this,l,r,n),a.hitSide)break}return a},moveV:Mt(function(e,t){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return 0>e?s.from():s.to();var a=ht(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Hn(n,a,e,t);return"page"==t&&s==i.sel.primary()&&zn(n,null,dt(n,l,"div").top-a.top),l},Ls),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=this.doc,n=Gi(t,e.line).text,i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var s=n.charAt(i),a=Ar(s,o)?function(e){return Ar(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Ar(e)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new he(Lo(e.line,i),Lo(e.line,r))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Ws(this.display.cursorDiv,"CodeMirror-overwrite"):Bs(this.display.cursorDiv,"CodeMirror-overwrite"),Ss(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==qr()},scrollTo:Mt(function(e,t){(null!=e||null!=t)&&An(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ke(this)-this.display.barHeight,width:e.scrollWidth-Ke(this)-this.display.barWidth,clientHeight:Ye(this),clientWidth:Ue(this)}},scrollIntoView:Mt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Lo(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)An(this),this.curOp.scrollToPos=e;else{var n=En(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Mt(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&ot(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){It(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Ss(i,"refresh",this)}),operation:function(e){return jt(this,e)},refresh:Mt(function(){var e=this.display.cachedTextHeight;zt(this),this.curOp.forceUpdate=!0,st(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-vt(this.display))>.5)&&s(this),Ss(this,"refresh",this)}),swapDoc:Mt(function(e){var t=this.doc;return t.cm=null,Yi(this,e),st(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$r(e);var Go=e.defaults={},Vo=e.optionHandlers={},Xo=e.Init={toString:function(){return"CodeMirror.Init"}};qn("value","",function(e,t){e.setValue(t)},!0),qn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),qn("indentUnit",2,n,!0),qn("indentWithTabs",!1),qn("smartIndent",!0),qn("tabSize",4,function(e){i(e),st(e),zt(e)},!0),qn("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),i!=e.Init&&t.refresh()}),qn("specialCharPlaceholder",Ai,function(e){e.refresh()},!0),qn("electricChars",!0),qn("inputStyle",Co?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),qn("rtlMoveVisually",!So),qn("wholeLineUpdateBefore",!0),qn("theme","default",function(e){a(e),l(e)},!0),qn("keyMap","default",function(t,n,i){var r=Wn(n),o=i!=e.Init&&Wn(i);o&&o.detach&&o.detach(t,r),r.attach&&r.attach(t,o||null)}),qn("extraKeys",null),qn("lineWrapping",!1,r,!0),qn("gutters",[],function(e){f(e.options),l(e)},!0),qn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?C(e.display)+"px":"0",e.refresh()},!0),qn("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),qn("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),qn("lineNumbers",!1,function(e){f(e.options),l(e)},!0),qn("firstLineNumber",1,l,!0),qn("lineNumberFormatter",function(e){return e},l,!0),qn("showCursorWhenSelecting",!1,Ee,!0),qn("resetSelectionOnContextMenu",!0),qn("lineWiseCopyCut",!0),qn("readOnly",!1,function(e,t){"nocursor"==t?(mn(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),qn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),qn("dragDrop",!0,qt),qn("cursorBlinkRate",530),qn("cursorScrollMargin",0),qn("cursorHeight",1,Ee,!0),qn("singleCursorHeightPerLine",!0,Ee,!0),qn("workTime",100),qn("workDelay",100),qn("flattenSpans",!0,i,!0),qn("addModeClass",!1,i,!0),qn("pollInterval",100),qn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),qn("historyEventDelay",1250),qn("viewportMargin",10,function(e){e.refresh()},!0),qn("maxHighlightLength",1e4,i,!0),qn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),qn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),qn("autofocus",null);var Jo=e.modes={},Qo=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Jo[t]=n},e.defineMIME=function(e,t){Qo[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Qo.hasOwnProperty(t))t=Qo[t];else if(t&&"string"==typeof t.name&&Qo.hasOwnProperty(t.name)){var n=Qo[t.name];"string"==typeof n&&(n={name:n}),t=Er(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=Jo[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(Zo.hasOwnProperty(n.name)){var o=Zo[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Zo=e.modeExtensions={};e.extendMode=function(e,t){var n=Zo.hasOwnProperty(e)?Zo[e]:Zo[e]={};zr(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){ys.prototype[e]=t},e.defineOption=qn;var es=[];e.defineInitHook=function(e){es.push(e)};var ts=e.helpers={};e.registerHelper=function(t,n,i){ts.hasOwnProperty(t)||(ts[t]=e[t]={_global:[]}),ts[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),ts[t]._global.push({pred:i,val:r})};var ns=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},is=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var rs=e.commands={selectAll:function(e){e.setSelection(Lo(e.firstLine(),0),Lo(e.lastLine()),Ms)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ms)},killLine:function(e){Fn(e,function(t){if(t.empty()){var n=Gi(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Lo(t.head.line+1,0)}:{from:t.head,to:Lo(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Fn(e,function(t){return{from:Lo(t.from().line,0),to:ge(e.doc,Lo(t.to().line+1,0))}})},delLineLeft:function(e){Fn(e,function(e){return{from:Lo(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Fn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){Fn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Lo(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Lo(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return no(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return ro(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return io(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ls)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ls)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?ro(e,t.head):i},Ls)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=Es(e.getLine(o.line),o.ch,i);t.push(new Array(i-s%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){jt(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=Gi(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new Lo(r.line,r.ch-1)),r.ch>0)r=new Lo(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),Lo(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){
var s=Gi(e.doc,r.line-1).text;s&&e.replaceRange(o.charAt(0)+"\n"+s.charAt(s.length-1),Lo(r.line-1,s.length-1),Lo(r.line,1),"+transpose")}n.push(new he(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){jt(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var i=e.listSelections()[n];e.replaceRange("\n",i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0),In(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},os=e.keyMap={};os.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},os.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},os.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},os.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},os["default"]=$o?os.macDefault:os.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Or(n.split(" "),Bn),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e};var ss=e.lookupKey=function(e,t,n,i){t=Wn(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ss(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=ss(e,t.fallthrough[o],n,i);if(s)return s}}},as=e.isModifierKey=function(e){var t="string"==typeof e?e:Js[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ls=e.keyName=function(e,t){if(bo&&34==e.keyCode&&e["char"])return!1;var n=Js[e.keyCode],i=n;return null==i||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(jo?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(jo?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=c.getValue()}if(n=n?zr(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=qr();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Cs(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&($s(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var cs=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};cs.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Es(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Es(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Es(this.string,null,this.tabSize)-(this.lineStart?Es(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return r(o)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var us=0,ds=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++us};$r(ds),ds.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&bt(e),Cr(this,"clear")){var n=this.find();n&&wr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Jn(s.markedSpans,this);e&&!this.collapsed?It(e,Qi(s),"text"):e&&(null!=a.to&&(r=Qi(s)),null!=a.from&&(i=Qi(s))),s.markedSpans=Qn(s.markedSpans,a),null==a.from&&this.collapsed&&!bi(this.doc,s)&&e&&Ji(s,vt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=mi(this.lines[o]),c=d(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&zt(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Me(e.doc)),e&&wr(e,"markerCleared",e,this),t&&xt(e),this.parent&&this.parent.clear()}},ds.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=Jn(o.markedSpans,this);if(null!=s.from&&(n=Lo(t?o:Qi(o),s.from),-1==e))return n;if(null!=s.to&&(i=Lo(t?o:Qi(o),s.to),1==e))return i}return n&&{from:n,to:i}},ds.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&jt(n,function(){var i=e.line,r=Qi(e.line),o=Qe(n,r);if(o&&(rt(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!bi(t.doc,i)&&null!=t.height){var s=t.height;t.height=null;var a=ki(t)-s;a&&Ji(i,i.height+a)}})},ds.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Mr(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ds.prototype.detachLine=function(e){if(this.lines.splice(Mr(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var us=0,hs=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};$r(hs),hs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();wr(this,"clear")}},hs.prototype.find=function(e,t){return this.primary.find(e,t)};var fs=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};$r(fs),fs.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=Qi(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=ki(this);Ji(n,Math.max(0,n.height-o)),e&&jt(e,function(){xi(e,n,-o),It(e,i,"widget")})}},fs.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=ki(this)-e;i&&(Ji(n,n.height+i),t&&jt(t,function(){t.curOp.forceUpdate=!0,xi(t,n,i)}))};var ps=e.Line=function(e,t,n){this.text=e,ai(this,t),this.height=n?n(this):1};$r(ps),ps.prototype.lineNo=function(){return Qi(this)};var ms={},gs={};Wi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;i>n;++n){var r=this.lines[n];this.height-=r.height,$i(r),wr(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},Ki.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>e){var o=Math.min(t,r-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Wi))){var a=[];this.collapse(a),this.children=[new Wi(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>=e){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var s=r.lines.splice(r.lines.length-25,25),a=new Wi(s);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Ki(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Mr(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Ki(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>e){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var vs=0,ys=e.Doc=function(e,t,n){if(!(this instanceof ys))return new ys(e,t,n);null==n&&(n=0),Ki.call(this,[new Wi([new ps("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Lo(n,0);this.sel=pe(i),this.history=new nr(null),this.id=++vs,this.modeOption=t,"string"==typeof e&&(e=Ys(e)),Bi(this,{from:i,to:i,text:e}),Te(this,pe(i),Ms)};ys.prototype=Er(Ki.prototype,{constructor:ys,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Xi(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:Ot(function(e){var t=Lo(this.first,0),n=this.first+this.size-1;_n(this,{from:t,to:Lo(n,Gi(this,n).text.length),text:Ys(e),origin:"setValue",full:!0},!0),Te(this,pe(t))}),replaceRange:function(e,t,n,i){t=ge(this,t),n=n?ge(this,n):t,Dn(this,e,t,n,i)},getRange:function(e,t,n){var i=Vi(this,ge(this,e),ge(this,t));return n===!1?i:i.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ye(this,e)?Gi(this,e):void 0},getLineNumber:function(e){return Qi(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Gi(this,e)),mi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ot(function(e,t,n){Ce(this,ge(this,"number"==typeof e?Lo(e,t||0):e),null,n)}),setSelection:Ot(function(e,t,n){Ce(this,ge(this,e),ge(this,t||e),n)}),extendSelection:Ot(function(e,t,n){xe(this,ge(this,e),t&&ge(this,t),n)}),extendSelections:Ot(function(e,t){ke(this,be(this,e,t))}),extendSelectionsBy:Ot(function(e,t){ke(this,Or(this.sel.ranges,e),t)}),setSelections:Ot(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new he(ge(this,e[i].anchor),ge(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Te(this,fe(r,t),n)}}),addSelection:Ot(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new he(ge(this,e),ge(this,t||e))),Te(this,fe(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Vi(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Vi(this,n[i].from(),n[i].to());e!==!1&&(r=r.join(e||"\n")),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Ot(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:Ys(e[o]),origin:n}}for(var a=t&&"end"!=t&&xn(this,i,t),o=i.length-1;o>=0;o--)_n(this,i[o]);a?Se(this,a):this.cm&&In(this.cm)}),undo:Ot(function(){$n(this,"undo")}),redo:Ot(function(){$n(this,"redo")}),undoSelection:Ot(function(){$n(this,"undo",!0)}),redoSelection:Ot(function(){$n(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new nr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fr(this.history.done),undone:fr(this.history.undone)}},setHistory:function(e){var t=this.history=new nr(this.history.maxGeneration);t.done=fr(e.done.slice(0),null,!0),t.undone=fr(e.undone.slice(0),null,!0)},addLineClass:Ot(function(e,t,n){return Rn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(Br(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Ot(function(e,t,n){return Rn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(Br(n));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Ot(function(e,t,n){return _i(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Kn(this,ge(this,e),ge(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ge(this,e),Kn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],n=Gi(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=ge(this,e),t=ge(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];r==e.line&&e.ch>l.to||null==l.from&&r!=e.line||r==t.line&&l.from>t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>e?(t=e,!0):(e-=r,void++n)}),ge(this,Lo(n,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ys(Xi(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new ys(Xi(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Gn(i,Yn(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Vn(Yn(this));break}}if(t.history==this.history){var r=[t.id];Ui(t,function(e){r.push(e.id)},!0),t.history=new nr(null),t.history.done=fr(this.history.done,r),t.history.undone=fr(this.history.undone,r)}},iterLinkedDocs:function(e){Ui(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ys.prototype.eachLine=ys.prototype.iter;var bs="iter insert remove copy getEditor constructor".split(" ");for(var ws in ys.prototype)ys.prototype.hasOwnProperty(ws)&&Mr(bs,ws)<0&&(e.prototype[ws]=function(e){return function(){return e.apply(this.doc,arguments)}}(ys.prototype[ws]));$r(ys);var xs=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},ks=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},_s=e.e_stop=function(e){xs(e),ks(e)},Cs=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},$s=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers&&e._handlers[t];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}},Ss=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Ts=null,js=30,Ds=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ms={scroll:!1},Os={origin:"*mouse"},Ls={origin:"+move"};Sr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Es=e.countColumn=function(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=i||0,s=r||0;;){var a=e.indexOf("	",o);if(0>a||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},zs=[""],Is=function(e){e.select()};_o?Is=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:po&&(Is=function(e){try{e.select()}catch(t){}});var As,Ns=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Rs=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Ns.test(e))},Fs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;As=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Ps=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};po&&11>mo&&(qr=function(){try{return document.activeElement}catch(e){return document.body}});var Hs,qs,Bs=e.rmClass=function(e,t){var n=e.className,i=Br(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Ws=e.addClass=function(e,t){var n=e.className;Br(t).test(n)||(e.className+=(n?" ":"")+t)},Ks=!1,Us=function(){if(po&&9>mo)return!1;var e=Fr("div");return"draggable"in e||"dragDrop"in e}(),Ys=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Gs=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Vs=function(){var e=Fr("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Xs=null,Js={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Js,function(){for(var e=0;10>e;e++)Js[e+48]=Js[e+96]=String(e);for(var e=65;90>=e;e++)Js[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Js[e+111]=Js[e+63235]="F"+e}();var Qs,Zs=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?i.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i,u=n.length,d=[],h=0;u>h;++h)d.push(i=e(n.charCodeAt(h)));for(var h=0,f=c;u>h;++h){var i=d[h];"m"==i?d[h]=f:f=i}for(var h=0,p=c;u>h;++h){var i=d[h];"1"==i&&"r"==p?d[h]="n":s.test(i)&&(p=i,"r"==i&&(d[h]="R"))}for(var h=1,f=d[0];u-1>h;++h){var i=d[h];"+"==i&&"1"==f&&"1"==d[h+1]?d[h]="1":","!=i||f!=d[h+1]||"1"!=f&&"n"!=f||(d[h]=f),f=i}for(var h=0;u>h;++h){var i=d[h];if(","==i)d[h]="N";else if("%"==i){for(var m=h+1;u>m&&"%"==d[m];++m);for(var g=h&&"!"==d[h-1]||u>m&&"1"==d[m]?"1":"N",v=h;m>v;++v)d[v]=g;h=m-1}}for(var h=0,p=c;u>h;++h){var i=d[h];"L"==p&&"1"==i?d[h]="L":s.test(i)&&(p=i)}for(var h=0;u>h;++h)if(o.test(d[h])){for(var m=h+1;u>m&&o.test(d[m]);++m);for(var y="L"==(h?d[h-1]:c),b="L"==(u>m?d[m]:c),g=y||b?"L":"R",v=h;m>v;++v)d[v]=g;h=m-1}for(var w,x=[],h=0;u>h;)if(a.test(d[h])){var k=h;for(++h;u>h&&a.test(d[h]);++h);x.push(new t(0,k,h))}else{var _=h,C=x.length;for(++h;u>h&&"L"!=d[h];++h);for(var v=_;h>v;)if(l.test(d[v])){v>_&&x.splice(C,0,new t(1,_,v));var $=v;for(++v;h>v&&l.test(d[v]);++v);x.splice(C,0,new t(2,$,v)),_=v}else++v;h>_&&x.splice(C,0,new t(1,_,h))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Dr(x).level&&(w=n.match(/\s+$/))&&(Dr(x).to-=w[0].length,x.push(new t(0,u-w[0].length,u))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Dr(x).level&&x.push(new t(x[0].level,u,u)),x}}();return e.version="5.4.0",e})}(require("github:jspm/nodelibs-process@0.1.1")),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/addon/search/searchcursor",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";function t(e,t,r,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),r=r?e.clipPos(r):i(0,0),this.pos={from:r,to:r},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,r){if(n){t.lastIndex=0;for(var o,s,a=e.getLine(r.line).slice(0,r.ch),l=0;;){t.lastIndex=l;var c=t.exec(a);if(!c)break;if(o=c,s=o.index,l=o.index+(o[0].length||1),l==a.length)break}var u=o&&o[0].length||0;u||(0==s&&0==a.length?o=void 0:s!=e.getLine(r.line).length&&u++)}else{t.lastIndex=r.ch;var a=e.getLine(r.line),o=t.exec(a),u=o&&o[0].length||0,s=o&&o.index;s+u==a.length||u||(u=1)}return o&&u?{from:i(r.line,s),to:i(r.line,s+u),match:o}:void 0};else{var s=t;o&&(t=t.toLowerCase());var a=o?function(e){return e.toLowerCase()}:function(e){return e},l=t.split("\n");if(1==l.length)t.length?this.matches=function(r,o){if(r){var l=e.getLine(o.line).slice(0,o.ch),c=a(l),u=c.lastIndexOf(t);if(u>-1)return u=n(l,c,u),{from:i(o.line,u),to:i(o.line,u+s.length)}}else{var l=e.getLine(o.line).slice(o.ch),c=a(l),u=c.indexOf(t);if(u>-1)return u=n(l,c,u)+o.ch,{from:i(o.line,u),to:i(o.line,u+s.length)}}}:this.matches=function(){};else{var c=s.split("\n");this.matches=function(t,n){var r=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(a(e.getLine(n.line).slice(0,c[r].length))!=l[l.length-1])return;for(var o=i(n.line,c[r].length),s=n.line-1,u=r-1;u>=1;--u,--s)if(l[u]!=a(e.getLine(s)))return;var d=e.getLine(s),h=d.length-c[0].length;if(a(d.slice(h))!=l[0])return;return{from:i(s,h),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var d=e.getLine(n.line),h=d.length-c[0].length;if(a(d.slice(h))==l[0]){for(var f=i(n.line,h),s=n.line+1,u=1;r>u;++u,++s)if(l[u]!=a(e.getLine(s)))return;if(a(e.getLine(s).slice(0,c[r].length))==l[r])return{from:f,to:i(s,c[r].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var i=Math.min(n,e.length);;){var r=e.slice(0,i).toLowerCase().length;if(n>r)++i;else{if(!(r>n))return i;--i}}}var i=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=i(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return t(0);r=i(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return t(o);r=i(r.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=i(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,i){return new t(this.doc,e,n,i)}),e.defineDocExtension("getSearchCursor",function(e,n,i){return new t(this,e,n,i)}),e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/addon/dialog/dialog",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){function t(e,t,n){var i,r=e.getWrapperElement();return i=r.appendChild(document.createElement("div")),n?i.className="CodeMirror-dialog CodeMirror-dialog-bottom":i.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?i.innerHTML=t:i.appendChild(t),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),
e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(i,r,o){function s(e){if("string"==typeof e)d.value=e;else{if(c)return;c=!0,l.parentNode.removeChild(l),u.focus(),o.onClose&&o.onClose(l)}}o||(o={}),n(this,null);var a,l=t(this,i,o.bottom),c=!1,u=this,d=l.getElementsByTagName("input")[0];return d?(o.value&&(d.value=o.value,o.selectValueOnOpen!==!1&&d.select()),o.onInput&&e.on(d,"input",function(e){o.onInput(e,d.value,s)}),o.onKeyUp&&e.on(d,"keyup",function(e){o.onKeyUp(e,d.value,s)}),e.on(d,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,d.value,s)||((27==t.keyCode||o.closeOnEnter!==!1&&13==t.keyCode)&&(d.blur(),e.e_stop(t),s()),13==t.keyCode&&r(d.value,t))}),o.closeOnBlur!==!1&&e.on(d,"blur",s),d.focus()):(a=l.getElementsByTagName("button")[0])&&(e.on(a,"click",function(){s(),u.focus()}),o.closeOnBlur!==!1&&e.on(a,"blur",s),a.focus()),s}),e.defineExtension("openConfirm",function(i,r,o){function s(){c||(c=!0,a.parentNode.removeChild(a),u.focus())}n(this,null);var a=t(this,i,o&&o.bottom),l=a.getElementsByTagName("button"),c=!1,u=this,d=1;l[0].focus();for(var h=0;h<l.length;++h){var f=l[h];!function(t){e.on(f,"click",function(n){e.e_preventDefault(n),s(),t&&t(u)})}(r[h]),e.on(f,"blur",function(){--d,setTimeout(function(){0>=d&&s()},200)}),e.on(f,"focus",function(){++d})}}),e.defineExtension("openNotification",function(i,r){function o(){l||(l=!0,clearTimeout(s),a.parentNode.removeChild(a))}n(this,o);var s,a=t(this,i,r&&r.bottom),l=!1,c=r&&"undefined"!=typeof r.duration?r.duration:5e3;return e.on(a,"click",function(t){e.e_preventDefault(t),o()}),c&&(s=setTimeout(o,c)),o})}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/xml/xml",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function i(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(a(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta"):(_=e.eat("/")?"closeTag":"openTag",t.tokenize=r,"tag bracket");if("&"==i){var o;return o=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),o?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=i,_=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return _="equals",null;if("<"==n){t.tokenize=i,t.state=d,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=o(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function o(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"};return t.isInAttribute=!0,t}function s(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=i;break}n.next()}return e}}function a(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=a(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=i;break}return n.tokenize=a(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,($.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function c(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!$.contextGrabbers.hasOwnProperty(n)||!$.contextGrabbers[n].hasOwnProperty(t))return;c(e)}}function d(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?f:d}function h(e,t,n){return"word"==e?(n.tagName=t.current(),C="tag",g):(C="error",h)}function f(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&$.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==i?(C="tag",p):(C="tag error",m)}return C="error",m}function p(e,t,n){return"endTag"!=e?(C="error",p):(c(n),d)}function m(e,t,n){return C="error",p(e,t,n)}function g(e,t,n){if("word"==e)return C="attribute",v;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||$.autoSelfClosers.hasOwnProperty(i)?u(n,i):(u(n,i),n.context=new l(n,i,r==n.indented)),d}return C="error",g}function v(e,t,n){return"equals"==e?y:($.allowMissing||(C="error"),g(e,t,n))}function y(e,t,n){return"string"==e?b:"word"==e&&$.allowUnquoted?(C="string",g):(C="error",g(e,t,n))}function b(e,t,n){return"string"==e?b:g(e,t,n)}var w=t.indentUnit,x=n.multilineTagIndentFactor||1,k=n.multilineTagIndentPastTag;null==k&&(k=!0);var _,C,$=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},S=n.alignCDATA;return{startState:function(){return{tokenize:i,state:d,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;_=null;var n=t.tokenize(e,t);return(n||_)&&"comment"!=n&&(C=null,t.state=t.state(_||n,e,t),C&&(n="error"==C?n+" error":C)),n},indent:function(t,n,o){var s=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(s&&s.noIndent)return e.Pass;if(t.tokenize!=r&&t.tokenize!=i)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return k?t.tagStart+t.tagName.length+2:t.tagStart+w*x;if(S&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;s;){if(s.tagName==a[2]){s=s.prev;break}if(!$.implicitlyClosed.hasOwnProperty(s.tagName))break;s=s.prev}else if(a)for(;s;){var l=$.contextGrabbers[s.tagName];if(!l||!l.hasOwnProperty(a[2]))break;s=s.prev}for(;s&&!s.startOfLine;)s=s.prev;return s?s.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/meta",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn, asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"kotlin",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps"},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["py","pyw"]},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"]},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"MariaDB",mime:"text/x-mariadb",mode:"sql"},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.mime==t)return i;if(i.mimes)for(var r=0;r<i.mimes.length;r++)if(i.mimes[r]==t)return i}},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.ext)for(var r=0;r<i.ext.length;r++)if(i.ext[r]==t)return i}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.file&&i.file.test(t))return i}var r=t.lastIndexOf("."),o=r>-1&&t.substring(r+1,t.length);return o?e.findModeByExtension(o):void 0},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var r=0;r<i.alias.length;r++)if(i.alias[r].toLowerCase()==t)return i}}}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/python/python",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){return e.scopes[e.scopes.length-1]}var i=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],s={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},a={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None","async","await"]};e.registerHelper("hintWords","python",r.concat(o)),e.defineMode("python",function(l,c){function u(e,t){if(e.sol()&&"py"==n(t).type){var i=n(t).offset;if(e.eatSpace()){var r=e.indentation();return r>i?f(e,t,"py"):i>r&&p(e,t)&&(t.errorToken=!0),null}var o=d(e,t);return i>0&&p(e,t)&&(o+=" "+g),o}return d(e,t)}function d(e,t){if(e.eatSpace())return null;var n=e.peek();if("#"==n)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var r=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),e.match(/^\d+\.\d*/)&&(r=!0),e.match(/^\.\d+/)&&(r=!0),r)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f]+/i)&&(o=!0),e.match(/^0b[01]+/i)&&(o=!0),e.match(/^0o[0-7]+/i)&&(o=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}return e.match(S)?(t.tokenize=h(e.current()),t.tokenize(e,t)):e.match(w)||e.match(b)?null:e.match(y)||e.match(x)?"operator":e.match(v)?null:e.match(T)||e.match(i)?"keyword":e.match(j)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(k)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),g)}function h(e){function t(t,r){for(;!t.eol();)if(t.eatWhile(/[^'"\\]/),t.eat("\\")){if(t.next(),n&&t.eol())return i}else{if(t.match(e))return r.tokenize=u,i;t.eat(/['"]/)}if(n){if(c.singleLineStringErrors)return g;r.tokenize=u}return i}for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";return t.isString=!0,t}function f(e,t,i){var r=0,o=null;if("py"==i)for(;"py"!=n(t).type;)t.scopes.pop();r=n(t).offset+("py"==i?l.indentUnit:_),"py"==i||e.match(/^(\s|#.*)*$/,!1)||(o=e.column()+1),t.scopes.push({offset:r,type:i,align:o})}function p(e,t){for(var i=e.indentation();n(t).offset>i;){if("py"!=n(t).type)return!0;t.scopes.pop()}return n(t).offset!=i}function m(e,t){var i=t.tokenize(e,t),r=e.current();if("."==r)return i=e.match(k,!1)?null:g,null==i&&"meta"==t.lastStyle&&(i="meta"),i;if("@"==r)return c.version&&3==parseInt(c.version,10)?e.match(k,!1)?"meta":"operator":e.match(k,!1)?"meta":g;"variable"!=i&&"builtin"!=i||"meta"!=t.lastStyle||(i="meta"),("pass"==r||"return"==r)&&(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=n(t).type||f(e,t,"py");var o=1==r.length?"[({".indexOf(r):-1;if(-1!=o&&f(e,t,"])}".slice(o,o+1)),o="])}".indexOf(r),-1!=o){if(n(t).type!=r)return g;t.scopes.pop()}return t.dedent>0&&e.eol()&&"py"==n(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),i}var g="error",v=c.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),y=c.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),b=c.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),w=c.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");if(c.version&&3==parseInt(c.version,10))var x=c.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!@]"),k=c.identifiers||new RegExp("^[_A-Za-z\xa1-\uffff][_A-Za-z0-9\xa1-\uffff]*");else var x=c.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),k=c.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var _=c.hangingIndent||l.indentUnit,C=r,$=o;if(void 0!=c.extra_keywords&&(C=C.concat(c.extra_keywords)),void 0!=c.extra_builtins&&($=$.concat(c.extra_builtins)),c.version&&3==parseInt(c.version,10)){C=C.concat(a.keywords),$=$.concat(a.builtins);var S=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{C=C.concat(s.keywords),$=$.concat(s.builtins);var S=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var T=t(C),j=t($),D={startState:function(e){return{tokenize:u,scopes:[{offset:e||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var i=m(e,t);t.lastStyle=i;var r=e.current();return r&&i&&(t.lastToken=r),e.eol()&&t.lambda&&(t.lambda=!1),n?i+" "+g:i},indent:function(t,i){if(t.tokenize!=u)return t.tokenize.isString?e.Pass:0;var r=n(t),o=i&&i.charAt(0)==r.type;return null!=r.align?r.align-(o?1:0):o&&t.scopes.length>1?t.scopes[t.scopes.length-2].offset:r.offset},closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return D}),e.defineMIME("text/x-python","python");var l=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:l("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/stex/stex",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";e.defineMode("stex",function(){function e(e,t){e.cmdState.push(t)}function t(e){return e.cmdState.length>0?e.cmdState[e.cmdState.length-1]:null}function n(e){var t=e.cmdState.pop();t&&t.closeBracket()}function i(e){for(var t=e.cmdState,n=t.length-1;n>=0;n--){var i=t[n];if("DEFAULT"!=i.name)return i}return{styleIdentifier:function(){return null}}}function r(e,t,n){return function(){this.name=e,this.bracketNo=0,this.style=t,this.styles=n,this.argument=null,this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null},this.openBracket=function(){return this.bracketNo++,"bracket"},this.closeBracket=function(){}}}function o(e,t){e.f=t}function s(n,r){var s;if(n.match(/^\\[a-zA-Z@]+/)){var u=n.current().slice(1);return s=c[u]||c.DEFAULT,s=new s,e(r,s),o(r,l),s.style}if(n.match(/^\\[$&%#{}_]/))return"tag";if(n.match(/^\\[,;!\/\\]/))return"tag";if(n.match("\\["))return o(r,function(e,t){return a(e,t,"\\]")}),"keyword";if(n.match("$$"))return o(r,function(e,t){return a(e,t,"$$")}),"keyword";if(n.match("$"))return o(r,function(e,t){return a(e,t,"$")}),"keyword";var d=n.next();return"%"==d?(n.skipToEnd(),"comment"):"}"==d||"]"==d?(s=t(r))?(s.closeBracket(d),o(r,l),"bracket"):"error":"{"==d||"["==d?(s=c.DEFAULT,s=new s,e(r,s),"bracket"):/\d/.test(d)?(n.eatWhile(/[\w.%]/),"atom"):(n.eatWhile(/[\w\-_]/),s=i(r),"begin"==s.name&&(s.argument=n.current()),s.styleIdentifier())}function a(e,t,n){if(e.eatSpace())return null;if(e.match(n))return o(t,s),"keyword";if(e.match(/^\\[a-zA-Z@]+/))return"tag";if(e.match(/^[a-zA-Z]+/))return"variable-2";if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/]/))return"tag";if(e.match(/^[\^_&]/))return"tag";if(e.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(e.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var i=e.next();return"{"==i||"}"==i||"["==i||"]"==i||"("==i||")"==i?"bracket":"%"==i?(e.skipToEnd(),"comment"):"error"}function l(e,i){var r,a=e.peek();return"{"==a||"["==a?(r=t(i),r.openBracket(a),e.eat(a),o(i,s),"bracket"):/[ \t\r]/.test(a)?(e.eat(a),null):(o(i,s),n(i),s(e,i))}var c={};return c.importmodule=r("importmodule","tag",["string","builtin"]),c.documentclass=r("documentclass","tag",["","atom"]),c.usepackage=r("usepackage","tag",["atom"]),c.begin=r("begin","tag",["atom"]),c.end=r("end","tag",["atom"]),c.DEFAULT=function(){this.name="DEFAULT",this.style="tag",this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){return{cmdState:[],f:s}},copyState:function(e){return{cmdState:e.cmdState.slice(),f:e.f}},token:function(e,t){return t.f(e,t)},blankLine:function(e){e.f=s,e.cmdState.length=0},lineComment:"%"}}),e.defineMIME("text/x-stex","stex"),e.defineMIME("text/x-latex","stex")}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/addon/mode/overlay",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";e.overlayMode=function(t,n,i){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:e.copyState(t,i.base),overlay:e.copyState(n,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=n.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||i&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/jinja2/jinja2",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";e.defineMode("jinja2",function(){function e(e,s){var a=e.peek();if(s.incomment)return e.skipTo("#}")?(e.eatWhile(/\#|}/),s.incomment=!1):e.skipToEnd(),"comment";if(s.intag){if(s.operator){if(s.operator=!1,e.match(r))return"atom";if(e.match(o))return"number"}if(s.sign){if(s.sign=!1,e.match(r))return"atom";if(e.match(o))return"number"}if(s.instring)return a==s.instring&&(s.instring=!1),e.next(),"string";if("'"==a||'"'==a)return s.instring=a,e.next(),"string";if(e.match(s.intag+"}")||e.eat("-")&&e.match(s.intag+"}"))return s.intag=!1,"tag";if(e.match(n))return s.operator=!0,"operator";if(e.match(i))s.sign=!0;else if(e.eat(" ")||e.sol()){if(e.match(t))return"keyword";if(e.match(r))return"atom";if(e.match(o))return"number";e.sol()&&e.next()}else e.next();return"variable"}if(e.eat("{")){if(a=e.eat("#"))return s.incomment=!0,e.skipTo("#}")?(e.eatWhile(/\#|}/),s.incomment=!1):e.skipToEnd(),"comment";if(a=e.eat(/\{|%/))return s.intag=a,"{"==a&&(s.intag="}"),e.eat("-"),"tag"}e.next()}var t=["and","as","block","endblock","by","cycle","debug","else","elif","extends","filter","endfilter","firstof","for","endfor","if","endif","ifchanged","endifchanged","ifequal","endifequal","ifnotequal","endifnotequal","in","include","load","not","now","or","parsed","regroup","reversed","spaceless","endspaceless","ssi","templatetag","openblock","closeblock","openvariable","closevariable","openbrace","closebrace","opencomment","closecomment","widthratio","url","with","endwith","get_current_language","trans","endtrans","noop","blocktrans","endblocktrans","get_available_languages","get_current_language_bidi","plural"],n=/^[+\-*&%=<>!?|~^]/,i=/^[:\[\(\{]/,r=["true","false"],o=/^(\d[+\-\*\/])?\d+(\.\d+)?/;return t=new RegExp("(("+t.join(")|(")+"))\\b"),r=new RegExp("(("+r.join(")|(")+"))\\b"),{startState:function(){return{tokenize:e}},token:function(e,t){return t.tokenize(e,t)}}})}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/javascript/javascript",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function i(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}function r(e,t,n){return ve=e,ye=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=s(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==n&&e.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if("="==n&&e.eat(">"))return r("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==n)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),r("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(i(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),r("regexp","string-2")):(e.eatWhile(Se),r("operator","operator",e.current()));if("`"==n)return t.tokenize=l,
l(e,t);if("#"==n)return e.skipToEnd(),r("error","error");if(Se.test(n))return e.eatWhile(Se),r("operator","operator",e.current());if(Ce.test(n)){e.eatWhile(Ce);var o=e.current(),c=$e.propertyIsEnumerable(o)&&$e[o];return c&&"."!=t.lastType?r(c.type,c.style,o):r("variable","variable",o)}}function s(e){return function(t,n){var i,s=!1;if(xe&&"@"==t.peek()&&t.match(Te))return n.tokenize=o,r("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||s);)s=!s&&"\\"==i;return s||(n.tokenize=o),r("string","string")}}function a(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=o;break}i="*"==n}return r("comment","comment")}function l(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}i=!i&&"\\"==n}return r("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var i=0,r=!1,o=n-1;o>=0;--o){var s=e.string.charAt(o),a=je.indexOf(s);if(a>=0&&3>a){if(!i){++o;break}if(0==--i)break}else if(a>=3&&6>a)++i;else if(Ce.test(s))r=!0;else{if(/["'\/]/.test(s))return;if(r&&!i){++o;break}}}r&&!i&&(t.fatArrowAt=o)}}function u(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function d(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==t)return!0}function h(e,t,n,i,r){var o=e.cc;for(Me.state=e,Me.stream=r,Me.marked=null,Me.cc=o,Me.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():ke?k:x;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Me.marked?Me.marked:"variable"==n&&d(e,i)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)Me.cc.push(arguments[e])}function p(){return f.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var i=Me.state;if(i.context){if(Me.marked="def",t(i.localVars))return;i.localVars={name:e,next:i.localVars}}else{if(t(i.globalVars))return;n.globalVars&&(i.globalVars={name:e,next:i.globalVars})}}function g(){Me.state.context={prev:Me.state.context,vars:Me.state.localVars},Me.state.localVars=Oe}function v(){Me.state.localVars=Me.state.context.vars,Me.state.context=Me.state.context.prev}function y(e,t){var n=function(){var n=Me.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new u(i,Me.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Me.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?p():";"==e?f():p(t)}return t}function x(e,t){return"var"==e?p(y("vardef",t.length),W,w(";"),b):"keyword a"==e?p(y("form"),k,x,b):"keyword b"==e?p(y("form"),x,b):"{"==e?p(y("}"),P,b):";"==e?p():"if"==e?("else"==Me.state.lexical.info&&Me.state.cc[Me.state.cc.length-1]==b&&Me.state.cc.pop()(),p(y("form"),k,x,b,V)):"function"==e?p(te):"for"==e?p(y("form"),X,x,b):"variable"==e?p(y("stat"),E):"switch"==e?p(y("form"),k,y("}","switch"),w("{"),P,b,b):"case"==e?p(k,w(":")):"default"==e?p(w(":")):"catch"==e?p(y("form"),g,w("("),ne,w(")"),x,b,v):"module"==e?p(y("form"),g,ae,v,b):"class"==e?p(y("form"),ie,b):"export"==e?p(y("form"),le,b):"import"==e?p(y("form"),ce,b):f(y("stat"),k,w(";"),b)}function k(e){return C(e,!1)}function _(e){return C(e,!0)}function C(e,t){if(Me.state.fatArrowAt==Me.stream.start){var n=t?L:O;if("("==e)return p(g,y(")"),R(K,")"),b,w("=>"),n,v);if("variable"==e)return f(g,K,w("=>"),n,v)}var i=t?j:T;return De.hasOwnProperty(e)?p(i):"function"==e?p(te,i):"keyword c"==e?p(t?S:$):"("==e?p(y(")"),$,me,w(")"),b,i):"operator"==e||"spread"==e?p(t?_:k):"["==e?p(y("]"),fe,b,i):"{"==e?F(I,"}",null,i):"quasi"==e?f(D,i):p()}function $(e){return e.match(/[;\}\)\],]/)?f():f(k)}function S(e){return e.match(/[;\}\)\],]/)?f():f(_)}function T(e,t){return","==e?p(k):j(e,t,!1)}function j(e,t,n){var i=0==n?T:j,r=0==n?k:_;return"=>"==e?p(g,n?L:O,v):"operator"==e?/\+\+|--/.test(t)?p(i):"?"==t?p(k,w(":"),r):p(r):"quasi"==e?f(D,i):";"!=e?"("==e?F(_,")","call",i):"."==e?p(z,i):"["==e?p(y("]"),$,w("]"),b,i):void 0:void 0}function D(e,t){return"quasi"!=e?f():"${"!=t.slice(t.length-2)?p(D):p(k,M)}function M(e){return"}"==e?(Me.marked="string-2",Me.state.tokenize=l,p(D)):void 0}function O(e){return c(Me.stream,Me.state),f("{"==e?x:k)}function L(e){return c(Me.stream,Me.state),f("{"==e?x:_)}function E(e){return":"==e?p(b,x):f(T,w(";"),b)}function z(e){return"variable"==e?(Me.marked="property",p()):void 0}function I(e,t){return"variable"==e||"keyword"==Me.style?(Me.marked="property",p("get"==t||"set"==t?A:N)):"number"==e||"string"==e?(Me.marked=xe?"property":Me.style+" property",p(N)):"jsonld-keyword"==e?p(N):"["==e?p(k,w("]"),N):void 0}function A(e){return"variable"!=e?f(N):(Me.marked="property",p(te))}function N(e){return":"==e?p(_):"("==e?f(te):void 0}function R(e,t){function n(i){if(","==i){var r=Me.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),p(e,n)}return i==t?p():p(w(t))}return function(i){return i==t?p():f(e,n)}}function F(e,t,n){for(var i=3;i<arguments.length;i++)Me.cc.push(arguments[i]);return p(y(t,n),R(e,t),b)}function P(e){return"}"==e?p():f(x,P)}function H(e){return _e&&":"==e?p(B):void 0}function q(e,t){return"="==t?p(_):void 0}function B(e){return"variable"==e?(Me.marked="variable-3",p()):void 0}function W(){return f(K,H,Y,G)}function K(e,t){return"variable"==e?(m(t),p()):"["==e?F(K,"]"):"{"==e?F(U,"}"):void 0}function U(e,t){return"variable"!=e||Me.stream.match(/^\s*:/,!1)?("variable"==e&&(Me.marked="property"),p(w(":"),K,Y)):(m(t),p(Y))}function Y(e,t){return"="==t?p(_):void 0}function G(e){return","==e?p(W):void 0}function V(e,t){return"keyword b"==e&&"else"==t?p(y("form","else"),x,b):void 0}function X(e){return"("==e?p(y(")"),J,w(")"),b):void 0}function J(e){return"var"==e?p(W,w(";"),Z):";"==e?p(Z):"variable"==e?p(Q):f(k,w(";"),Z)}function Q(e,t){return"in"==t||"of"==t?(Me.marked="keyword",p(k)):p(T,Z)}function Z(e,t){return";"==e?p(ee):"in"==t||"of"==t?(Me.marked="keyword",p(k)):f(k,w(";"),ee)}function ee(e){")"!=e&&p(k)}function te(e,t){return"*"==t?(Me.marked="keyword",p(te)):"variable"==e?(m(t),p(te)):"("==e?p(g,y(")"),R(ne,")"),b,x,v):void 0}function ne(e){return"spread"==e?p(ne):f(K,H,q)}function ie(e,t){return"variable"==e?(m(t),p(re)):void 0}function re(e,t){return"extends"==t?p(k,re):"{"==e?p(y("}"),oe,b):void 0}function oe(e,t){return"variable"==e||"keyword"==Me.style?"static"==t?(Me.marked="keyword",p(oe)):(Me.marked="property","get"==t||"set"==t?p(se,te,oe):p(te,oe)):"*"==t?(Me.marked="keyword",p(oe)):";"==e?p(oe):"}"==e?p():void 0}function se(e){return"variable"!=e?f():(Me.marked="property",p())}function ae(e,t){return"string"==e?p(x):"variable"==e?(m(t),p(he)):void 0}function le(e,t){return"*"==t?(Me.marked="keyword",p(he,w(";"))):"default"==t?(Me.marked="keyword",p(k,w(";"))):f(x)}function ce(e){return"string"==e?p():f(ue,he)}function ue(e,t){return"{"==e?F(ue,"}"):("variable"==e&&m(t),"*"==t&&(Me.marked="keyword"),p(de))}function de(e,t){return"as"==t?(Me.marked="keyword",p(ue)):void 0}function he(e,t){return"from"==t?(Me.marked="keyword",p(k)):void 0}function fe(e){return"]"==e?p():f(_,pe)}function pe(e){return"for"==e?f(me,w("]")):","==e?p(R(S,"]")):f(R(_,"]"))}function me(e){return"for"==e?p(X,me):"if"==e?p(k,me):void 0}function ge(e,t){return"operator"==e.lastType||","==e.lastType||Se.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var ve,ye,be=t.indentUnit,we=n.statementIndent,xe=n.jsonld,ke=n.json||xe,_e=n.typescript,Ce=n.wordCharacters||/[\w$\xa1-\uffff]/,$e=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"},s={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"debugger":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":i,"export":e("export"),"import":e("import"),"extends":i};if(_e){var a={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:a,number:a,bool:a,any:a};for(var c in l)s[c]=l[c]}return s}(),Se=/[+\-*&%=<>!?|~^]/,Te=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,je="([{}])",De={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Me={state:null,column:null,marked:null,cc:null},Oe={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new u((e||0)-be,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=a&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==ve?n:(t.lastType="operator"!=ve||"++"!=ye&&"--"!=ye?ve:"incdec",h(t,n,ve,ye,e))},indent:function(t,i){if(t.tokenize==a)return e.Pass;if(t.tokenize!=o)return 0;var r=i&&i.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(i))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==b)s=s.prev;else if(c!=V)break}"stat"==s.type&&"}"==r&&(s=s.prev),we&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var u=s.type,d=r==u;return"vardef"==u?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==u&&"{"==r?s.indented:"form"==u?s.indented+be:"stat"==u?s.indented+(ge(t,i)?we||be:0):"switch"!=s.info||d||0==n.doubleIndentSwitch?s.align?s.column+(d?0:1):s.indented+(d?0:be):s.indented+(/^(?:case|default)\b/.test(i)?be:2*be)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:ke?null:"/*",blockCommentEnd:ke?null:"*/",lineComment:ke?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:ke?"json":"javascript",jsonldMode:xe,jsonMode:ke}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/css/css",["npm:codemirror@5.4.0/lib/codemirror"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(i&&"/"==n){t.tokenize=null;break}i="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function i(e,t){return f=t,e}function r(e,t){var n=e.next();if(g[n]){var r=g[n](e,t);if(r!==!1)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?i(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),i("atom","hash")):"!"==n?(e.match(/^\s*\w*/),i("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),i("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=s,i("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),i("property","word")):i(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),i("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?i("variable-2","variable-definition"):i("variable-2","variable")):e.match(/^\w+-/)?i("meta","meta"):void 0}function o(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),i("string","string")}}function s(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),i(null,"(")}function a(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n){return e.context=new a(n,t.indentation()+m,e.context),n}function c(e){return e.context=e.context.prev,e.context.type}function u(e,t,n){return T[n.context.type](e,t,n)}function d(e,t,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return u(e,t,n)}function h(e){var t=e.current().toLowerCase();p=$.hasOwnProperty(t)?"atom":C.hasOwnProperty(t)?"keyword":"variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var f,p,m=t.indentUnit,g=n.tokenHooks,v=n.documentTypes||{},y=n.mediaTypes||{},b=n.mediaFeatures||{},w=n.propertyKeywords||{},x=n.nonStandardPropertyKeywords||{},k=n.fontProperties||{},_=n.counterDescriptors||{},C=n.colorKeywords||{},$=n.valueKeywords||{},S=n.allowNested,T={};return T.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return c(n);if(/@(media|supports|(-moz-)?document)/.test(e))return l(n,t,"atBlock");if(/@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)p="builtin";else if("word"==e)p="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(S&&"("==e)return l(n,t,"parens")}return n.context.type},T.block=function(e,t,n){if("word"==e){var i=t.current().toLowerCase();return w.hasOwnProperty(i)?(p="property","maybeprop"):x.hasOwnProperty(i)?(p="string-2","maybeprop"):S?(p=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(p+=" error","maybeprop")}return"meta"==e?"block":S||"hash"!=e&&"qualifier"!=e?T.top(e,t,n):(p="error","block")},T.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):u(e,t,n)},T.prop=function(e,t,n){if(";"==e)return c(n);if("{"==e&&S)return l(n,t,"propBlock");if("}"==e||"{"==e)return d(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)h(t);else if("interpolation"==e)return l(n,t,"interpolation")}else p+=" error";return"prop"},T.propBlock=function(e,t,n){return"}"==e?c(n):"word"==e?(p="property","maybeprop"):n.context.type},T.parens=function(e,t,n){return"{"==e||"}"==e?d(e,t,n):")"==e?c(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&h(t),"parens")},T.pseudo=function(e,t,n){return"word"==e?(p="variable-3",n.context.type):u(e,t,n)},T.atBlock=function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e)return d(e,t,n);if("{"==e)return c(n)&&l(n,t,S?"block":"top");if("word"==e){var i=t.current().toLowerCase();p="only"==i||"not"==i||"and"==i||"or"==i?"keyword":v.hasOwnProperty(i)?"tag":y.hasOwnProperty(i)?"attribute":b.hasOwnProperty(i)?"property":w.hasOwnProperty(i)?"property":x.hasOwnProperty(i)?"string-2":$.hasOwnProperty(i)?"atom":"error"}return n.context.type},T.atBlock_parens=function(e,t,n){return")"==e?c(n):"{"==e||"}"==e?d(e,t,n,2):T.atBlock(e,t,n)},T.restricted_atBlock_before=function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(p="variable","restricted_atBlock_before"):u(e,t,n)},T.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,c(n)):"word"==e?(p="@font-face"==n.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!_.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},T.keyframes=function(e,t,n){return"word"==e?(p="variable","keyframes"):"{"==e?l(n,t,"top"):u(e,t,n)},T.at=function(e,t,n){return";"==e?c(n):"{"==e||"}"==e?d(e,t,n):("word"==e?p="tag":"hash"==e&&(p="builtin"),"at")},T.interpolation=function(e,t,n){return"}"==e?c(n):"{"==e||";"==e?d(e,t,n):("word"==e?p="variable":"variable"!=e&&"("!=e&&")"!=e&&(p="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",stateArg:null,context:new a("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||r)(e,t);return n&&"object"==typeof n&&(f=n[1],n=n[0]),p=n,t.state=T[t.state](f,e,t),p},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),!n.prev||("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type)&&(")"!=i||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"atBlock"!=n.type)||(r=n.indent-m,n=n.prev),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var i=["domain","regexp","url","url-prefix"],r=t(i),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],l=t(a),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=t(c),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=t(d),f=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],p=t(f),m=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],g=t(m),v=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],y=t(v),b=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small"],w=t(b),x=i.concat(o).concat(a).concat(c).concat(d).concat(v).concat(b);
e.registerHelper("hintWords","css",x),e.defineMIME("text/css",{documentTypes:r,mediaTypes:s,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:h,fontProperties:p,counterDescriptors:g,colorKeywords:y,valueKeywords:w,tokenHooks:{"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:h,colorKeywords:y,valueKeywords:w,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:h,colorKeywords:y,valueKeywords:w,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/htmlmixed/htmlmixed",["npm:codemirror@5.4.0/lib/codemirror","npm:codemirror@5.4.0/mode/xml/xml","npm:codemirror@5.4.0/mode/javascript/javascript","npm:codemirror@5.4.0/mode/css/css"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror"),require("npm:codemirror@5.4.0/mode/xml/xml"),require("npm:codemirror@5.4.0/mode/javascript/javascript"),require("npm:codemirror@5.4.0/mode/css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],n):n(CodeMirror)}(function(e){"use strict";e.defineMode("htmlmixed",function(t,n){function i(e,t){var n=t.htmlState.tagName;n&&(n=n.toLowerCase());var i=a.token(e,t.htmlState);if("script"==n&&/\btag\b/.test(i)&&">"==e.current()){var r=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);r=r?r[1]:"",r&&/[\"\']/.test(r.charAt(0))&&(r=r.slice(1,r.length-1));for(var u=0;u<c.length;++u){var d=c[u];if("string"==typeof d.matches?r==d.matches:d.matches.test(r)){d.mode&&(t.token=o,t.localMode=d.mode,t.localState=d.mode.startState&&d.mode.startState(a.indent(t.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(i)&&">"==e.current()&&(t.token=s,t.localMode=l,t.localState=l.startState(a.indent(t.htmlState,"")));return i}function r(e,t,n){var i=e.current(),r=i.search(t);return r>-1?e.backUp(i.length-r):i.match(/<\/?$/)&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}function o(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=i,t.localState=t.localMode=null,null):r(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function s(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=i,t.localState=t.localMode=null,null):r(e,/<\/\s*style\s*>/,l.token(e,t.localState))}var a=e.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=e.getMode(t,"css"),c=[],u=n&&n.scriptTypes;if(c.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")}),u)for(var d=0;d<u.length;++d){var h=u[d];c.push({matches:h.matches,mode:h.mode&&e.getMode(t,h.mode)})}return c.push({matches:/./,mode:e.getMode(t,"text/plain")}),{startState:function(){var e=a.startState();return{token:i,localMode:null,localState:null,htmlState:e}},copyState:function(t){if(t.localState)var n=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:n,htmlState:e.copyState(a,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?a.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||a}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$",["npm:core-js@0.9.10/library/modules/$.fw"],!0,function(require,e,t){function n(e){return isNaN(e=+e)?0:(e>0?m:p)(e)}function i(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function r(e,t,n){return e[t]=n,e}function o(e){return y?function(t,n,r){return w.setDesc(t,n,i(e,r))}:r}function s(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function a(e){return"function"==typeof e}function l(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var c=System.global,u=c.define;c.define=void 0;var c="undefined"!=typeof self?self:Function("return this")(),d={},h=Object.defineProperty,f={}.hasOwnProperty,p=Math.ceil,m=Math.floor,g=Math.max,v=Math.min,y=!!function(){try{return 2==h({},"a",{get:function(){return 2}}).a}catch(e){}}(),b=o(1),w=t.exports=require("npm:core-js@0.9.10/library/modules/$.fw")({g:c,core:d,html:c.document&&document.documentElement,isObject:s,isFunction:a,it:function(e){return e},that:function(){return this},toInteger:n,toLength:function(e){return e>0?v(n(e),9007199254740991):0},toIndex:function(e,t){return e=n(e),0>e?g(e+t,0):v(e,t)},has:function(e,t){return f.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:y,desc:i,getDesc:Object.getOwnPropertyDescriptor,setDesc:h,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:l,ES5Object:Object,toObject:function(e){return w.ES5Object(l(e))},hide:b,def:o(0),set:c.Symbol?r:b,each:[].forEach});return"undefined"!=typeof __e&&(__e=d),"undefined"!=typeof __g&&(__g=c),c.define=u,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.wks",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.uid"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var n=require("npm:core-js@0.9.10/library/modules/$").g,r={};return t.exports=function(e){return r[e]||(r[e]=n.Symbol&&n.Symbol[e]||require("npm:core-js@0.9.10/library/modules/$.uid").safe("Symbol."+e))},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.iter",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.cof","npm:core-js@0.9.10/library/modules/$.assert","npm:core-js@0.9.10/library/modules/$.wks"],!0,function(require,e,t){function n(e,t){o.hide(e,l,t),c in[]&&o.hide(e,c,t)}var i=System.global,r=i.define;i.define=void 0;var o=require("npm:core-js@0.9.10/library/modules/$"),s=require("npm:core-js@0.9.10/library/modules/$.cof"),a=require("npm:core-js@0.9.10/library/modules/$.assert").obj,l=require("npm:core-js@0.9.10/library/modules/$.wks")("iterator"),c="@@iterator",u={},d={};return n(d,o.that),t.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:u,step:function(e,t){return{value:t,done:!!e}},is:function(e){var t=Object(e),n=o.g.Symbol,i=n&&n.iterator||c;return i in t||l in t||o.has(u,s.classof(t))},get:function(e){var t=o.g.Symbol,n=e[t&&t.iterator||c],i=n||e[l]||u[s.classof(e)];return a(i.call(e))},set:n,create:function(e,t,n,i){e.prototype=o.create(i||d,{next:o.desc(1,n)}),s.set(e,t+" Iterator")}},i.define=r,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.iter-define",["npm:core-js@0.9.10/library/modules/$.def","npm:core-js@0.9.10/library/modules/$.redef","npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.cof","npm:core-js@0.9.10/library/modules/$.iter","npm:core-js@0.9.10/library/modules/$.wks"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.def"),o=require("npm:core-js@0.9.10/library/modules/$.redef"),s=require("npm:core-js@0.9.10/library/modules/$"),a=require("npm:core-js@0.9.10/library/modules/$.cof"),l=require("npm:core-js@0.9.10/library/modules/$.iter"),c=require("npm:core-js@0.9.10/library/modules/$.wks")("iterator"),u="@@iterator",d="keys",h="values",f=l.Iterators;return t.exports=function(e,t,n,i,p,m,g){function v(e){function t(t){return new n(t,e)}switch(e){case d:return function(){return t(this)};case h:return function(){return t(this)}}return function(){return t(this)}}l.create(n,t,i);var y,b,w=t+" Iterator",x=e.prototype,k=x[c]||x[u]||p&&x[p],_=k||v(p);if(k){var C=s.getProto(_.call(new e));a.set(C,w,!0),s.FW&&s.has(x,u)&&l.set(C,s.that)}if(s.FW&&l.set(x,_),f[t]=_,f[w]=s.that,p)if(y={keys:m?_:v(d),values:p==h?_:v(h),entries:p!=h?_:v("entries")},g)for(b in y)b in x||o(x,b,y[b]);else r(r.P+r.F*l.BUGGY,t,y)},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/es6.string.iterator",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.string-at","npm:core-js@0.9.10/library/modules/$.uid","npm:core-js@0.9.10/library/modules/$.iter","npm:core-js@0.9.10/library/modules/$.iter-define"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$").set,o=require("npm:core-js@0.9.10/library/modules/$.string-at")(!0),s=require("npm:core-js@0.9.10/library/modules/$.uid").safe("iter"),a=require("npm:core-js@0.9.10/library/modules/$.iter"),l=a.step;return require("npm:core-js@0.9.10/library/modules/$.iter-define")(String,"String",function(e){r(this,s,{o:String(e),i:0})},function(){var e,t=this[s],n=t.o,i=t.i;return i>=n.length?l(1):(e=o(n,i),t.i+=e.length,l(0,e))}),n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/get-iterator",["npm:core-js@0.9.10/library/fn/get-iterator"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/get-iterator"),__esModule:!0},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.for-of",["npm:core-js@0.9.10/library/modules/$.ctx","npm:core-js@0.9.10/library/modules/$.iter","npm:core-js@0.9.10/library/modules/$.iter-call"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.ctx"),o=require("npm:core-js@0.9.10/library/modules/$.iter").get,s=require("npm:core-js@0.9.10/library/modules/$.iter-call");return t.exports=function(e,t,n,i){for(var a,l=o(e),c=r(n,i,t?2:1);!(a=l.next()).done;)if(s(l,c,a.value,t)===!1)return s.close(l)},n.define=i,t.exports}),System.register("npm:process@0.10.1",["npm:process@0.10.1/browser"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:process@0.10.1/browser"),n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/object/define-property",["npm:core-js@0.9.10/library/fn/object/define-property"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/object/define-property"),__esModule:!0},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.assign",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.enum-keys"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$"),o=require("npm:core-js@0.9.10/library/modules/$.enum-keys");return t.exports=Object.assign||function(e,t){for(var n=Object(r.assertDefined(e)),i=arguments.length,s=1;i>s;)for(var a,l=r.ES5Object(arguments[s++]),c=o(l),u=c.length,d=0;u>d;)n[a=c[d++]]=l[a];return n},n.define=i,t.exports}),function(){function e(){}e.amd={},System.register("github:showdownjs/showdown@0.5.4",["github:showdownjs/showdown@0.5.4/showdown"],!1,function(e,t,n){return function(e){return e}.call(this,e("github:showdownjs/showdown@0.5.4/showdown"))})}(),function(){function e(){}e.amd={},System.register("github:components/jquery@2.1.4",["github:components/jquery@2.1.4/jquery"],!1,function(e,t,n){return function(e){return e}.call(this,e("github:components/jquery@2.1.4/jquery"))})}(),System.register("npm:core-js@0.9.10/library/modules/es6.set",["npm:core-js@0.9.10/library/modules/$.collection-strong","npm:core-js@0.9.10/library/modules/$.collection"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.collection-strong");return require("npm:core-js@0.9.10/library/modules/$.collection")("Set",{add:function(e){return r.def(this,e=0===e?0:e,e)}},r),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/es7.set.to-json",["npm:core-js@0.9.10/library/modules/$.collection-to-json"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,require("npm:core-js@0.9.10/library/modules/$.collection-to-json")("Set"),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/fn/array/from",["npm:core-js@0.9.10/library/modules/es6.string.iterator","npm:core-js@0.9.10/library/modules/es6.array.from","npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,require("npm:core-js@0.9.10/library/modules/es6.string.iterator"),require("npm:core-js@0.9.10/library/modules/es6.array.from"),t.exports=require("npm:core-js@0.9.10/library/modules/$").core.Array.from,n.define=i,t.exports}),System.register("npm:unorm@1.3.3",["npm:unorm@1.3.3/lib/unorm"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:unorm@1.3.3/lib/unorm"),n.define=i,t.exports}),System.register("github:vitmalina/w2ui@1.4.3",["github:vitmalina/w2ui@1.4.3/dist/w2ui"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("github:vitmalina/w2ui@1.4.3/dist/w2ui"),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/fn/object/get-own-property-names",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/es6.object.statics-accept-primitives"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$");return require("npm:core-js@0.9.10/library/modules/es6.object.statics-accept-primitives"),t.exports=function(e){return r.getNames(e)},n.define=i,t.exports}),System.register("npm:js-cookie@1.5.1",["npm:js-cookie@1.5.1/src/js.cookie"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:js-cookie@1.5.1/src/js.cookie"),n.define=i,t.exports}),System.register("npm:punycode@1.3.2",["npm:punycode@1.3.2/punycode"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:punycode@1.3.2/punycode"),n.define=i,t.exports}),System.register("npm:querystring@0.2.0/index",["npm:querystring@0.2.0/decode","npm:querystring@0.2.0/encode"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,e.decode=e.parse=require("npm:querystring@0.2.0/decode"),e.encode=e.stringify=require("npm:querystring@0.2.0/encode"),n.define=i,t.exports}),System.register("npm:keypress.js@2.1.0",["npm:keypress.js@2.1.0/keypress"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:keypress.js@2.1.0/keypress"),n.define=i,t.exports}),System.register("npm:events@1.0.2",["npm:events@1.0.2/events"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:events@1.0.2/events"),n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/object/create",["npm:core-js@0.9.10/library/fn/object/create"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/object/create"),__esModule:!0},n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/object/get-own-property-descriptor",["npm:core-js@0.9.10/library/fn/object/get-own-property-descriptor"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/object/get-own-property-descriptor"),__esModule:!0},n.define=i,t.exports}),System.register("github:phstc/jquery-dateFormat@1.0.2",["github:phstc/jquery-dateFormat@1.0.2/dist/jquery-dateFormat"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("github:phstc/jquery-dateFormat@1.0.2/dist/jquery-dateFormat"),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/addon/search/search",["npm:codemirror@5.4.0/lib/codemirror","npm:codemirror@5.4.0/addon/search/searchcursor","npm:codemirror@5.4.0/addon/dialog/dialog"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror"),require("npm:codemirror@5.4.0/addon/search/searchcursor"),require("npm:codemirror@5.4.0/addon/dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],n):n(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);return n&&n.index==t.pos?(t.pos+=n[0].length,"searching"):void(n?t.pos=n.index:t.skipToEnd())}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function i(e){return e.state.search||(e.state.search=new n)}function r(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,r(t))}function s(e,t,n,i,r){e.openDialog?e.openDialog(t,r,{value:i,selectValueOnOpen:!0}):r(prompt(n,i))}function a(e,t,n,i){e.openConfirm?e.openConfirm(t,i):confirm(n)&&i[0]()}function l(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(n){}return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function c(e,n){var o=i(e);if(o.query)return u(e,n);var a=e.getSelection()||o.lastQuery;s(e,f,"Search for:",a,function(i){e.operation(function(){i&&!o.query&&(o.query=l(i),e.removeOverlay(o.overlay,r(o.query)),o.overlay=t(o.query,r(o.query)),e.addOverlay(o.overlay),e.showMatchesOnScrollbar&&(o.annotate&&(o.annotate.clear(),o.annotate=null),o.annotate=e.showMatchesOnScrollbar(o.query,r(o.query))),o.posFrom=o.posTo=e.getCursor(),u(e,n))})})}function u(t,n){t.operation(function(){var r=i(t),s=o(t,r.query,n?r.posFrom:r.posTo);(s.find(n)||(s=o(t,r.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0)),s.find(n)))&&(t.setSelection(s.from(),s.to()),t.scrollIntoView({from:s.from(),to:s.to()}),r.posFrom=s.from(),r.posTo=s.to())})}function d(e){e.operation(function(){var t=i(e);t.lastQuery=t.query,t.query&&(t.query=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function h(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||i(e).lastQuery;s(e,p,"Replace:",n,function(n){n&&(n=l(n),s(e,m,"Replace with:","",function(i){if(t)e.operation(function(){for(var t=o(e,n);t.findNext();)if("string"!=typeof n){var r=e.getRange(t.from(),t.to()).match(n);t.replace(i.replace(/\$(\d)/g,function(e,t){return r[t]}))}else t.replace(i)});else{d(e);var r=o(e,n,e.getCursor()),s=function(){var t,i=r.from();!(t=r.findNext())&&(r=o(e,n),!(t=r.findNext())||i&&r.from().line==i.line&&r.from().ch==i.ch)||(e.setSelection(r.from(),r.to()),e.scrollIntoView({from:r.from(),to:r.to()}),a(e,g,"Replace?",[function(){l(t)},s]))},l=function(e){r.replace("string"==typeof n?i:i.replace(/\$(\d)/g,function(t,n){return e[n]})),s()};s()}}))})}}var f='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',p='Replace: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',m='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',g="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";e.commands.find=function(e){d(e),c(e)},e.commands.findNext=c,e.commands.findPrev=function(e){c(e,!0)},e.commands.clearSearch=d,e.commands.replace=h,e.commands.replaceAll=function(e){h(e,!0)}}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/markdown/markdown",["npm:codemirror@5.4.0/lib/codemirror","npm:codemirror@5.4.0/mode/xml/xml","npm:codemirror@5.4.0/mode/meta"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror"),require("npm:codemirror@5.4.0/mode/xml/xml"),require("npm:codemirror@5.4.0/mode/meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],n):n(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function i(n){if(e.findModeByName){var i=e.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var r=e.getMode(t,n);return"null"==r.name?null:r}function r(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function s(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,x||e.f!=l||(e.f=f,e.block=a),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function a(e,t){var o=e.sol(),s=t.list!==!1,a=t.indentedCode;t.indentedCode=!1,s&&(t.indentationDiff>=0?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):t.indentation>0?(t.list=null,t.listDepth=Math.floor(t.indentation/4)):(t.list=!1,t.listDepth=0));var l=null;if(t.indentationDiff>=4)return e.skipToEnd(),a||!t.prevLineHasContent?(t.indentation-=4,t.indentedCode=!0,$):null;if(e.eatSpace())return null;if((l=e.match(W))&&l[1].length<=6)return t.header=l[1].length,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,d(t);if(t.prevLineHasContent&&!t.quote&&!s&&!a&&(l=e.match(K)))return t.header="="==l[0].charAt(0)?1:2,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,d(t);if(e.eat(">"))return t.quote=o?1:t.quote+1,n.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),d(t);if("["===e.peek())return r(e,t,v);if(e.match(P,!0))return t.hr=!0,M;if((!t.prevLineHasContent||s)&&(e.match(H,!1)||e.match(q,!1))){var u=null;return e.match(H,!0)?u="ul":(e.match(q,!0),u="ol"),t.indentation+=4,t.list=!0,t.listDepth++,n.taskLists&&e.match(B,!1)&&(t.taskList=!0),t.f=t.inline,n.highlightFormatting&&(t.formatting=["list","list-"+u]),d(t)}return n.fencedCodeBlocks&&e.match(/^```[ \t]*([\w+#]*)/,!0)?(t.localMode=i(RegExp.$1),t.localMode&&(t.localState=t.localMode.startState()),t.f=t.block=c,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0,d(t)):r(e,t,t.inline)}function l(e,t){var n=k.token(e,t.htmlState);return(x&&null===t.htmlState.tagStart&&!t.htmlState.context||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=f,t.block=a,t.htmlState=null),n}function c(e,t){return e.sol()&&e.match("```",!1)?(t.localMode=t.localState=null,t.f=t.block=u,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),$)}function u(e,t){e.match("```"),t.block=a,t.f=f,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0;var i=d(t);return t.code=!1,i}function d(e){var t=[];if(e.formatting){t.push(L),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)t.push(L+"-"+e.formatting[i]),"header"===e.formatting[i]&&t.push(L+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(L+"-"+e.formatting[i]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(A,"url"):(e.strong&&t.push(R),e.em&&t.push(N),e.strikethrough&&t.push(F),e.linkText&&t.push(I),e.code&&t.push($)),e.header&&(t.push(C),t.push(C+"-"+e.header)),e.quote&&(t.push(S),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(S+"-"+e.quote):t.push(S+"-"+n.maxBlockquoteDepth)),e.list!==!1){var r=(e.listDepth-1)%3;r?1===r?t.push(j):t.push(D):t.push(T)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function h(e,t){return e.match(U,!0)?d(t):void 0}function f(t,i){var r=i.text(t,i);if("undefined"!=typeof r)return r;if(i.list)return i.list=null,d(i);if(i.taskList){var s="x"!==t.match(B,!0)[1];return s?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,d(i)}if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),d(i);var a=t.sol(),c=t.next();if("\\"===c&&(t.next(),n.highlightFormatting)){var u=d(i);return u?u+" formatting-escape":"formatting-escape"}if(i.linkTitle){i.linkTitle=!1;var h=c;"("===c&&(h=")"),h=(h+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var f="^\\s*(?:[^"+h+"\\\\]+|\\\\\\\\|\\\\.)"+h;if(t.match(new RegExp(f),!0))return A}if("`"===c){var g=i.formatting;n.highlightFormatting&&(i.formatting="code");var v=d(i),y=t.pos;t.eatWhile("`");var b=1+t.pos-y;return i.code?b===_?(i.code=!1,v):(i.formatting=g,d(i)):(_=b,i.code=!0,d(i))}if(i.code)return d(i);if("!"===c&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),i.inline=i.f=m,O;if("["===c&&t.match(/.*\](\(.*\)| ?\[.*\])/,!1))return i.linkText=!0,n.highlightFormatting&&(i.formatting="link"),d(i);if("]"===c&&i.linkText&&t.match(/\(.*\)| ?\[.*\]/,!1)){n.highlightFormatting&&(i.formatting="link");var u=d(i);return i.linkText=!1,i.inline=i.f=m,u}if("<"===c&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=p,n.highlightFormatting&&(i.formatting="link");var u=d(i);return u?u+=" ":u="",u+E}if("<"===c&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=p,n.highlightFormatting&&(i.formatting="link");var u=d(i);return u?u+=" ":u="",u+z}if("<"===c&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var w=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(k),o(t,i,l)}if("<"===c&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var x=!1;if(!n.underscoresBreakWords&&"_"===c&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var C=t.pos-2;if(C>=0){var $=t.string.charAt(C);"_"!==$&&$.match(/(\w)/,!1)&&(x=!0)}}if("*"===c||"_"===c&&!x)if(a&&" "===t.peek());else{if(i.strong===c&&t.eat(c)){n.highlightFormatting&&(i.formatting="strong");var v=d(i);return i.strong=!1,v}if(!i.strong&&t.eat(c))return i.strong=c,n.highlightFormatting&&(i.formatting="strong"),d(i);if(i.em===c){n.highlightFormatting&&(i.formatting="em");var v=d(i);return i.em=!1,v}if(!i.em)return i.em=c,n.highlightFormatting&&(i.formatting="em"),d(i)}else if(" "===c&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return d(i);t.backUp(1)}if(n.strikethrough)if("~"===c&&t.eatWhile(c)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");var v=d(i);return i.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),d(i)}else if(" "===c&&t.match(/^~~/,!0)){if(" "===t.peek())return d(i);t.backUp(2)}return" "===c&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),d(i)}function p(e,t){var i=e.next();if(">"===i){t.f=t.inline=f,n.highlightFormatting&&(t.formatting="link");var r=d(t);return r?r+=" ":r="",r+E}return e.match(/^[^>]+/,!0),E}function m(e,t){if(e.eatSpace())return null;var i=e.next();return"("===i||"["===i?(t.f=t.inline=g("("===i?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,d(t)):"error"}function g(e){return function(t,i){var r=t.next();if(r===e){i.f=i.inline=f,n.highlightFormatting&&(i.formatting="link-string");var o=d(i);return i.linkHref=!1,o}return t.match(w(e),!0)&&t.backUp(1),i.linkHref=!0,d(i)}}function v(e,t){return e.match(/^[^\]]*\]:/,!1)?(t.f=y,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,d(t)):r(e,t,f)}function y(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=b,n.highlightFormatting&&(t.formatting="link");var i=d(t);return t.linkText=!1,i}return e.match(/^[^\]]+/,!0),I}function b(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=f,A+" url")}function w(e){return Y[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),Y[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),Y[e]}var x=e.modes.hasOwnProperty("xml"),k=e.getMode(t,x?{name:"xml",htmlMode:!0}:"text/plain");void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.fencedCodeBlocks&&(n.fencedCodeBlocks=!1),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1);var _=0,C="header",$="comment",S="quote",T="variable-2",j="variable-3",D="keyword",M="hr",O="tag",L="formatting",E="link",z="link",I="link",A="string",N="em",R="strong",F="strikethrough",P=/^([*\-_])(?:\s*\1){2,}\s*$/,H=/^[*\-+]\s+/,q=/^[0-9]+([.)])\s+/,B=/^\[(x| )\](?=\s)/,W=/^(#+)(?: |$)/,K=/^ *(?:\={1,}|-{1,})\s*$/,U=/^[^#!\[\]*_\\<>` "'(~]+/,Y=[],G={startState:function(){return{f:a,prevLineHasContent:!1,thisLineHasContent:!1,block:a,htmlState:null,indentation:0,inline:f,text:h,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:t.htmlState&&e.copyState(k,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(e,t){if(t.formatting=!1,e.sol()){var n=!!t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n)return t.prevLineHasContent=!1,s(t),n?this.token(e,t):null;t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,r=4*Math.floor((i-t.indentation)/4);r>4&&(r=4);var o=t.indentation+r;if(t.indentationDiff=o-t.indentation,t.indentation=o,i>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==l?{state:e.htmlState,mode:k}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:G}},blankLine:s,getType:d,fold:"markdown"};return G},"xml"),e.defineMIME("text/x-markdown","markdown")}),n.define=i,t.exports}),System.register("npm:codemirror@5.4.0/mode/rst/rst",["npm:codemirror@5.4.0/lib/codemirror","npm:codemirror@5.4.0/mode/python/python","npm:codemirror@5.4.0/mode/stex/stex","npm:codemirror@5.4.0/addon/mode/overlay"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,
function(n){"object"==typeof e&&"object"==typeof t?n(require("npm:codemirror@5.4.0/lib/codemirror"),require("npm:codemirror@5.4.0/mode/python/python"),require("npm:codemirror@5.4.0/mode/stex/stex"),require("npm:codemirror@5.4.0/addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../python/python","../stex/stex","../../addon/mode/overlay"],n):n(CodeMirror)}(function(e){"use strict";e.defineMode("rst",function(t,n){var i=/^\*\*[^\*\s](?:[^\*]*[^\*\s])?\*\*/,r=/^\*[^\*\s](?:[^\*]*[^\*\s])?\*/,o=/^``[^`\s](?:[^`]*[^`\s])``/,s=/^(?:[\d]+(?:[\.,]\d+)*)/,a=/^(?:\s\+[\d]+(?:[\.,]\d+)*)/,l=/^(?:\s\-[\d]+(?:[\.,]\d+)*)/,c="[Hh][Tt][Tt][Pp][Ss]?://",u="(?:[\\d\\w.-]+)\\.(?:\\w{2,6})",d="(?:/[\\d\\w\\#\\%\\&\\-\\.\\,\\/\\:\\=\\?\\~]+)*",h=new RegExp("^"+c+u+d),f={token:function(e){if(e.match(i)&&e.match(/\W+|$/,!1))return"strong";if(e.match(r)&&e.match(/\W+|$/,!1))return"em";if(e.match(o)&&e.match(/\W+|$/,!1))return"string-2";if(e.match(s))return"number";if(e.match(a))return"positive";if(e.match(l))return"negative";if(e.match(h))return"link";for(;!(null==e.next()||e.match(i,!1)||e.match(r,!1)||e.match(o,!1)||e.match(s,!1)||e.match(a,!1)||e.match(l,!1)||e.match(h,!1)););return null}},p=e.getMode(t,n.backdrop||"rst-base");return e.overlayMode(p,f,!0)},"python","stex"),e.defineMode("rst-base",function(t){function n(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})}function i(t,n){var o=null;if(t.sol()&&t.match(X,!1))u(n,l,{mode:f,local:e.startState(f)});else if(t.sol()&&t.match(S))u(n,r),o="meta";else if(t.sol()&&t.match($))u(n,i),o="header";else if(h(n)==N||t.match(N,!1))switch(d(n)){case 0:u(n,i,c(N,1)),t.match(/^:/),o="meta";break;case 1:u(n,i,c(N,2)),t.match(b),o="keyword",t.current().match(/^(?:math|latex)/)&&(n.tmp_stex=!0);break;case 2:u(n,i,c(N,3)),t.match(/^:`/),o="meta";break;case 3:if(n.tmp_stex&&(n.tmp_stex=void 0,n.tmp={mode:p,local:e.startState(p)}),n.tmp){if("`"==t.peek()){u(n,i,c(N,4)),n.tmp=void 0;break}o=n.tmp.mode.token(t,n.tmp.local);break}u(n,i,c(N,4)),t.match(C),o="string";break;case 4:u(n,i,c(N,5)),t.match(/^`/),o="meta";break;case 5:u(n,i,c(N,6)),t.match(v);break;default:u(n,i)}else if(h(n)==R||t.match(R,!1))switch(d(n)){case 0:u(n,i,c(R,1)),t.match(/^`/),o="meta";break;case 1:u(n,i,c(R,2)),t.match(C),o="string";break;case 2:u(n,i,c(R,3)),t.match(/^`:/),o="meta";break;case 3:u(n,i,c(R,4)),t.match(b),o="keyword";break;case 4:u(n,i,c(R,5)),t.match(/^:/),o="meta";break;case 5:u(n,i,c(R,6)),t.match(v);break;default:u(n,i)}else if(h(n)==F||t.match(F,!1))switch(d(n)){case 0:u(n,i,c(F,1)),t.match(/^:/),o="meta";break;case 1:u(n,i,c(F,2)),t.match(b),o="keyword";break;case 2:u(n,i,c(F,3)),t.match(/^:/),o="meta";break;case 3:u(n,i,c(F,4)),t.match(v);break;default:u(n,i)}else if(h(n)==L||t.match(L,!1))switch(d(n)){case 0:u(n,i,c(L,1)),t.match(q),o="variable-2";break;case 1:u(n,i,c(L,2)),t.match(/^_?_?/)&&(o="link");break;default:u(n,i)}else if(t.match(E))u(n,i),o="quote";else if(t.match(z))u(n,i),o="quote";else if(t.match(I))u(n,i),(!t.peek()||t.peek().match(/^\W$/))&&(o="link");else if(h(n)==A||t.match(A,!1))switch(d(n)){case 0:!t.peek()||t.peek().match(/^\W$/)?u(n,i,c(A,1)):t.match(A);break;case 1:u(n,i,c(A,2)),t.match(/^`/),o="link";break;case 2:u(n,i,c(A,3)),t.match(C);break;case 3:u(n,i,c(A,4)),t.match(/^`_/),o="link";break;default:u(n,i)}else t.match(V)?u(n,s):t.next()&&u(n,i);return o}function r(t,n){var s=null;if(h(n)==D||t.match(D,!1))switch(d(n)){case 0:u(n,r,c(D,1)),t.match(q),s="variable-2";break;case 1:u(n,r,c(D,2)),t.match(B);break;case 2:u(n,r,c(D,3)),t.match(W),s="keyword";break;case 3:u(n,r,c(D,4)),t.match(K),s="meta";break;default:u(n,i)}else if(h(n)==j||t.match(j,!1))switch(d(n)){case 0:u(n,r,c(j,1)),t.match(P),s="keyword",t.current().match(/^(?:math|latex)/)?n.tmp_stex=!0:t.current().match(/^python/)&&(n.tmp_py=!0);break;case 1:u(n,r,c(j,2)),t.match(H),s="meta",(t.match(/^latex\s*$/)||n.tmp_stex)&&(n.tmp_stex=void 0,u(n,l,{mode:p,local:e.startState(p)}));break;case 2:u(n,r,c(j,3)),(t.match(/^python\s*$/)||n.tmp_py)&&(n.tmp_py=void 0,u(n,l,{mode:f,local:e.startState(f)}));break;default:u(n,i)}else if(h(n)==T||t.match(T,!1))switch(d(n)){case 0:u(n,r,c(T,1)),t.match(U),t.match(Y),s="link";break;case 1:u(n,r,c(T,2)),t.match(G),s="meta";break;default:u(n,i)}else t.match(M)?(u(n,i),s="quote"):t.match(O)?(u(n,i),s="quote"):(t.eatSpace(),t.eol()?u(n,i):(t.skipToEnd(),u(n,o),s="comment"));return s}function o(e,t){return a(e,t,"comment")}function s(e,t){return a(e,t,"meta")}function a(e,t,n){return e.eol()||e.eatSpace()?(e.skipToEnd(),n):(u(t,i),null)}function l(e,t){return t.ctx.mode&&t.ctx.local?e.sol()?(e.eatSpace()||u(t,i),null):t.ctx.mode.token(e,t.ctx.local):(u(t,i),null)}function c(e,t,n,i){return{phase:e,stage:t,mode:n,local:i}}function u(e,t,n){e.tok=t,e.ctx=n||{}}function d(e){return e.ctx.stage||0}function h(e){return e.ctx.phase}var f=e.getMode(t,"python"),p=e.getMode(t,"stex"),m="\\s+",g="(?:\\s*|\\W|$)",v=new RegExp(n("^{0}",g)),y="(?:[^\\W\\d_](?:[\\w!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",b=new RegExp(n("^{0}",y)),w="(?:[^\\W\\d_](?:[\\w\\s!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",x=n("(?:{0}|`{1}`)",y,w),k="(?:[^\\s\\|](?:[^\\|]*[^\\s\\|])?)",_="(?:[^\\`]+)",C=new RegExp(n("^{0}",_)),$=new RegExp("^([!'#$%&\"()*+,-./:;<=>?@\\[\\\\\\]^_`{|}~])\\1{3,}\\s*$"),S=new RegExp(n("^\\.\\.{0}",m)),T=new RegExp(n("^_{0}:{1}|^__:{1}",x,g)),j=new RegExp(n("^{0}::{1}",x,g)),D=new RegExp(n("^\\|{0}\\|{1}{2}::{3}",k,m,x,g)),M=new RegExp(n("^\\[(?:\\d+|#{0}?|\\*)]{1}",x,g)),O=new RegExp(n("^\\[{0}\\]{1}",x,g)),L=new RegExp(n("^\\|{0}\\|",k)),E=new RegExp(n("^\\[(?:\\d+|#{0}?|\\*)]_",x)),z=new RegExp(n("^\\[{0}\\]_",x)),I=new RegExp(n("^{0}__?",x)),A=new RegExp(n("^`{0}`_",_)),N=new RegExp(n("^:{0}:`{1}`{2}",y,_,g)),R=new RegExp(n("^`{1}`:{0}:{2}",y,_,g)),F=new RegExp(n("^:{0}:{1}",y,g)),P=new RegExp(n("^{0}",x)),H=new RegExp(n("^::{0}",g)),q=new RegExp(n("^\\|{0}\\|",k)),B=new RegExp(n("^{0}",m)),W=new RegExp(n("^{0}",x)),K=new RegExp(n("^::{0}",g)),U=new RegExp("^_"),Y=new RegExp(n("^{0}|_",x)),G=new RegExp(n("^:{0}",g)),V=new RegExp("^::\\s*$"),X=new RegExp("^\\s+(?:>>>|In \\[\\d+\\]:)\\s");return{startState:function(){return{tok:i,ctx:c(void 0,0)}},copyState:function(t){var n=t.ctx,i=t.tmp;return n.local&&(n={mode:n.mode,local:e.copyState(n.mode,n.local)}),i&&(i={mode:i.mode,local:e.copyState(i.mode,i.local)}),{tok:t.tok,ctx:n,tmp:i}},innerMode:function(e){return e.tmp?{state:e.tmp.local,mode:e.tmp.mode}:e.ctx.mode?{state:e.ctx.local,mode:e.ctx.mode}:null},token:function(e,t){return t.tok(e,t)}}},"python","stex"),e.defineMIME("text/x-rst","rst")}),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.unscope",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.wks"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$"),o=require("npm:core-js@0.9.10/library/modules/$.wks")("unscopables");return!r.FW||o in[]||r.hide(Array.prototype,o,{}),t.exports=function(e){r.FW&&([][o][e]=!0)},n.define=i,t.exports}),System.register("github:jspm/nodelibs-process@0.1.1/index",["npm:process@0.10.1"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=System._nodeRequire?process:require("npm:process@0.10.1"),n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/helpers/create-class",["npm:babel-runtime@5.4.3/core-js/object/define-property"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:babel-runtime@5.4.3/core-js/object/define-property")["default"];return e["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),e.__esModule=!0,n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/es6.object.assign",["npm:core-js@0.9.10/library/modules/$.def","npm:core-js@0.9.10/library/modules/$.assign"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$.def");return r(r.S,"Object",{assign:require("npm:core-js@0.9.10/library/modules/$.assign")}),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/fn/set",["npm:core-js@0.9.10/library/modules/es6.object.to-string","npm:core-js@0.9.10/library/modules/es6.string.iterator","npm:core-js@0.9.10/library/modules/web.dom.iterable","npm:core-js@0.9.10/library/modules/es6.set","npm:core-js@0.9.10/library/modules/es7.set.to-json","npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,require("npm:core-js@0.9.10/library/modules/es6.object.to-string"),require("npm:core-js@0.9.10/library/modules/es6.string.iterator"),require("npm:core-js@0.9.10/library/modules/web.dom.iterable"),require("npm:core-js@0.9.10/library/modules/es6.set"),require("npm:core-js@0.9.10/library/modules/es7.set.to-json"),t.exports=require("npm:core-js@0.9.10/library/modules/$").core.Set,n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/array/from",["npm:core-js@0.9.10/library/fn/array/from"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/array/from"),__esModule:!0},n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/object/get-own-property-names",["npm:core-js@0.9.10/library/fn/object/get-own-property-names"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/object/get-own-property-names"),__esModule:!0},n.define=i,t.exports}),System.register("npm:querystring@0.2.0",["npm:querystring@0.2.0/index"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:querystring@0.2.0/index"),n.define=i,t.exports}),System.register("github:jspm/nodelibs-events@0.1.1/index",["npm:events@1.0.2"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=System._nodeRequire?System._nodeRequire("events"):require("npm:events@1.0.2"),n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/helpers/inherits",["npm:babel-runtime@5.4.3/core-js/object/create"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:babel-runtime@5.4.3/core-js/object/create")["default"];return e["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=r(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},e.__esModule=!0,n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/helpers/get",["npm:babel-runtime@5.4.3/core-js/object/get-own-property-descriptor"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:babel-runtime@5.4.3/core-js/object/get-own-property-descriptor")["default"];return e["default"]=function(e,t,n){for(var i=!0;i;){var o=e,s=t,a=n;l=u=c=void 0,i=!1;var l=r(o,s);if(void 0!==l){if("value"in l)return l.value;var c=l.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=s,n=a,i=!0}},e.__esModule=!0,n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/es6.array.iterator",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.unscope","npm:core-js@0.9.10/library/modules/$.uid","npm:core-js@0.9.10/library/modules/$.iter","npm:core-js@0.9.10/library/modules/$.iter-define"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:core-js@0.9.10/library/modules/$"),o=require("npm:core-js@0.9.10/library/modules/$.unscope"),s=require("npm:core-js@0.9.10/library/modules/$.uid").safe("iter"),a=require("npm:core-js@0.9.10/library/modules/$.iter"),l=a.step,c=a.Iterators;return require("npm:core-js@0.9.10/library/modules/$.iter-define")(Array,"Array",function(e,t){r.set(this,s,{o:r.toObject(e),i:0,k:t})},function(){var e=this[s],t=e.o,n=e.k,i=e.i++;return!t||i>=t.length?(e.o=void 0,l(1)):"keys"==n?l(0,i):"values"==n?l(0,t[i]):l(0,[i,t[i]])},"values"),c.Arguments=c.Array,o("keys"),o("values"),o("entries"),n.define=i,t.exports}),System.register("github:jspm/nodelibs-process@0.1.1",["github:jspm/nodelibs-process@0.1.1/index"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("github:jspm/nodelibs-process@0.1.1/index"),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/fn/object/assign",["npm:core-js@0.9.10/library/modules/es6.object.assign","npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,require("npm:core-js@0.9.10/library/modules/es6.object.assign"),t.exports=require("npm:core-js@0.9.10/library/modules/$").core.Object.assign,n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/set",["npm:core-js@0.9.10/library/fn/set"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/set"),__esModule:!0},n.define=i,t.exports}),System.register("npm:url@0.10.3/url",["npm:punycode@1.3.2","npm:querystring@0.2.0"],!0,function(require,e,t){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,i){if(e&&l(e)&&e instanceof n)return e;var r=new n;return r.parse(e,t,i),r}function r(e){return a(e)&&(e=i(e)),e instanceof n?e.format():n.prototype.format.call(e)}function o(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}function a(e){return"string"==typeof e}function l(e){return"object"==typeof e&&null!==e}function c(e){return null===e}function u(e){return null==e}var d=System.global,h=d.define;d.define=void 0;var f=require("npm:punycode@1.3.2");e.parse=i,e.resolve=o,e.resolveObject=s,e.format=r,e.Url=n;var p=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","	"],v=["{","}","|","\\","^","`"].concat(g),y=["'"].concat(v),b=["%","/","?",";","#"].concat(y),w=["/","?","#"],x=255,k=/^[a-z0-9A-Z_-]{0,63}$/,_=/^([a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},$={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=require("npm:querystring@0.2.0");return n.prototype.parse=function(e,t,n){if(!a(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e;i=i.trim();var r=p.exec(i);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,i=i.substr(r.length)}if(n||r||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||r&&$[r]||(i=i.substr(2),this.slashes=!0)}if(!$[r]&&(s||r&&!S[r])){for(var l=-1,c=0;c<w.length;c++){var u=i.indexOf(w[c]);-1!==u&&(-1===l||l>u)&&(l=u)}var d,h;h=-1===l?i.lastIndexOf("@"):i.lastIndexOf("@",l),-1!==h&&(d=i.slice(0,h),i=i.slice(h+1),this.auth=decodeURIComponent(d)),l=-1;for(var c=0;c<b.length;c++){var u=i.indexOf(b[c]);-1!==u&&(-1===l||l>u)&&(l=u)}-1===l&&(l=i.length),this.host=i.slice(0,l),i=i.slice(l),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),c=0,v=g.length;v>c;c++){var j=g[c];if(j&&!j.match(k)){for(var D="",M=0,O=j.length;O>M;M++)D+=j.charCodeAt(M)>127?"x":j[M];if(!D.match(k)){var L=g.slice(0,c),E=g.slice(c+1),z=j.match(_);z&&(L.push(z[1]),E.unshift(z[2])),E.length&&(i="/"+E.join(".")+i),this.hostname=L.join(".");break}}}if(this.hostname.length>x?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var I=this.hostname.split("."),A=[],c=0;c<I.length;++c){var N=I[c];A.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(N):N)}this.hostname=A.join(".")}var R=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+R,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!C[o])for(var c=0,v=y.length;v>c;c++){var P=y[c],H=encodeURIComponent(P);H===P&&(H=escape(P)),i=i.split(P).join(H)}var q=i.indexOf("#");-1!==q&&(this.hash=i.substr(q),i=i.slice(0,q));var B=i.indexOf("?");if(-1!==B?(this.search=i.substr(B),this.query=i.substr(B+1),t&&(this.query=T.parse(this.query)),i=i.slice(0,B)):t&&(this.search="",this.query={}),i&&(this.pathname=i),S[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",N=this.search||"";this.path=R+N}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||S[t])&&r!==!1?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+r+n+s+i},n.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(a(e)){var t=new n;t.parse(e,!1,!0),e=t}var i=new n;if(Object.keys(this).forEach(function(e){i[e]=this[e]},this),i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(i[t]=e[t])}),S[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i;if(e.protocol&&e.protocol!==i.protocol){if(!S[e.protocol])return Object.keys(e).forEach(function(t){i[t]=e[t]}),i.href=i.format(),i;if(i.protocol=e.protocol,e.host||$[e.protocol])i.pathname=e.pathname;else{for(var r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),i.pathname=r.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var o=i.pathname||"",s=i.search||"";i.path=o+s}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var l=i.pathname&&"/"===i.pathname.charAt(0),d=e.host||e.pathname&&"/"===e.pathname.charAt(0),h=d||l||i.host&&e.pathname,f=h,p=i.pathname&&i.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],m=i.protocol&&!S[i.protocol];if(m&&(i.hostname="",i.port=null,i.host&&(""===p[0]?p[0]=i.host:p.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),h=h&&(""===r[0]||""===p[0])),d)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,p=r;else if(r.length)p||(p=[]),p.pop(),p=p.concat(r),i.search=e.search,i.query=e.query;else if(!u(e.search)){if(m){i.hostname=i.host=p.shift();var g=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;g&&(i.auth=g.shift(),i.host=i.hostname=g.shift())}return i.search=e.search,i.query=e.query,c(i.pathname)&&c(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!p.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var v=p.slice(-1)[0],y=(i.host||e.host)&&("."===v||".."===v)||""===v,b=0,w=p.length;w>=0;w--)v=p[w],"."==v?p.splice(w,1):".."===v?(p.splice(w,1),b++):b&&(p.splice(w,1),b--);if(!h&&!f)for(;b--;b)p.unshift("..");!h||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),y&&"/"!==p.join("/").substr(-1)&&p.push("");var x=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(m){i.hostname=i.host=x?"":p.length?p.shift():"";var g=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;g&&(i.auth=g.shift(),i.host=i.hostname=g.shift())}return h=h||i.host&&p.length,h&&!x&&p.unshift(""),p.length?i.pathname=p.join("/"):(i.pathname=null,i.path=null),c(i.pathname)&&c(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var e=this.host,t=m.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},d.define=h,t.exports}),System.register("github:jspm/nodelibs-events@0.1.1",["github:jspm/nodelibs-events@0.1.1/index"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("github:jspm/nodelibs-events@0.1.1/index"),n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/web.dom.iterable",["npm:core-js@0.9.10/library/modules/es6.array.iterator","npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.iter","npm:core-js@0.9.10/library/modules/$.wks"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0,require("npm:core-js@0.9.10/library/modules/es6.array.iterator");var r=require("npm:core-js@0.9.10/library/modules/$"),o=require("npm:core-js@0.9.10/library/modules/$.iter").Iterators,s=require("npm:core-js@0.9.10/library/modules/$.wks")("iterator"),a=o.Array,l=r.g.NodeList;return!r.FW||!l||s in l.prototype||r.hide(l.prototype,s,a),o.NodeList=a,n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/$.task",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.ctx","npm:core-js@0.9.10/library/modules/$.cof","npm:core-js@0.9.10/library/modules/$.invoke","npm:core-js@0.9.10/library/modules/$.dom-create","github:jspm/nodelibs-process@0.1.1"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(e){"use strict";function n(){var e=+this;if(a.has(x,e)){var t=x[e];delete x[e],t()}}function i(e){n.call(e.data)}var r,o,s,a=require("npm:core-js@0.9.10/library/modules/$"),l=require("npm:core-js@0.9.10/library/modules/$.ctx"),c=require("npm:core-js@0.9.10/library/modules/$.cof"),u=require("npm:core-js@0.9.10/library/modules/$.invoke"),d=require("npm:core-js@0.9.10/library/modules/$.dom-create"),h=a.g,f=a.isFunction,p=a.html,e=h.process,m=h.setImmediate,g=h.clearImmediate,v=h.postMessage,y=h.addEventListener,b=h.MessageChannel,w=0,x={},k="onreadystatechange";f(m)&&f(g)||(m=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return x[++w]=function(){u(f(e)?e:Function(e),t)},r(w),w},g=function(e){delete x[e]},"process"==c(e)?r=function(t){e.nextTick(l(n,t,1))}:y&&f(v)&&!h.importScripts?(r=function(e){v(e,"*")},y("message",i,!1)):f(b)?(o=new b,s=o.port2,o.port1.onmessage=i,r=l(s.postMessage,s,1)):r=k in d("script")?function(e){p.appendChild(d("script"))[k]=function(){p.removeChild(this),n.call(e)}}:function(e){setTimeout(l(n,e,1),0)}),t.exports={set:m,clear:g}}(require("github:jspm/nodelibs-process@0.1.1")),n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/object/assign",["npm:core-js@0.9.10/library/fn/object/assign"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/object/assign"),__esModule:!0},n.define=i,t.exports}),System.register("npm:url@0.10.3",["npm:url@0.10.3/url"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:url@0.10.3/url"),n.define=i,t.exports}),System.register("npm:fullscreen@1.0.0/index",["github:jspm/nodelibs-events@0.1.1"],!0,function(require,e,t){function n(){return!!r(document.body)}function i(e){function t(){return s()?void d.emit("attain"):d.emit("release")}function n(){d.emit("error")}function i(){return u.call(e)}function o(){var t=e.exitFullscreen||e.exitFullscreen||e.webkitExitFullScreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.mozCancelFullscreen||e.mozExitFullScreen||e.mozExitFullscreen||e.msExitFullScreen||e.msExitFullscreen||e.oExitFullScreen||e.oExitFullscreen;if(t)return void t.call(e);var n=c.exitFullscreen||c.exitFullscreen||c.webkitExitFullScreen||c.webkitExitFullscreen||c.mozCancelFullScreen||c.mozCancelFullscreen||c.mozExitFullScreen||c.mozExitFullscreen||c.msExitFullScreen||c.msExitFullscreen||c.oExitFullScreen||c.oExitFullscreen;n.call(c)}function s(){return 0||c.fullScreenElement||c.fullscreenElement||c.webkitFullScreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.mozFullscreenElement||c.msFullScreenElement||c.msFullscreenElement||c.oFullScreenElement||c.oFullscreenElement||null}for(var l=e.addEventListener||e.attachEvent,c=e.ownerDocument,u=(c.body,r(e)),d=new a,h=["","webkit","moz","o"],f=0,p=h.length;p>f;++f)l.call(c,h[f]+"fullscreenchange",t),l.call(c,h[f]+"fullscreenerror",n);return l.call(c,"MSFullscreenChange",t),l.call(c,"MSFullscreenError",n),d.release=o,d.request=i,d.target=s,r||setTimeout(function(){d.emit("error",new Error("fullscreen is not supported"))},0),d}function r(e){return e.requestFullscreen||e.webkitRequestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.msRequestFullScreen||e.oRequestFullscreen||e.oRequestFullScreen}var o=System.global,s=o.define;o.define=void 0,t.exports=i,i.available=n;var a=require("github:jspm/nodelibs-events@0.1.1").EventEmitter;return o.define=s,t.exports}),System.register("npm:core-js@0.9.10/library/fn/is-iterable",["npm:core-js@0.9.10/library/modules/web.dom.iterable","npm:core-js@0.9.10/library/modules/es6.string.iterator","npm:core-js@0.9.10/library/modules/core.iter-helpers","npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,require("npm:core-js@0.9.10/library/modules/web.dom.iterable"),require("npm:core-js@0.9.10/library/modules/es6.string.iterator"),require("npm:core-js@0.9.10/library/modules/core.iter-helpers"),t.exports=require("npm:core-js@0.9.10/library/modules/$").core.isIterable,n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/modules/es6.promise",["npm:core-js@0.9.10/library/modules/$","npm:core-js@0.9.10/library/modules/$.ctx","npm:core-js@0.9.10/library/modules/$.cof","npm:core-js@0.9.10/library/modules/$.def","npm:core-js@0.9.10/library/modules/$.assert","npm:core-js@0.9.10/library/modules/$.for-of","npm:core-js@0.9.10/library/modules/$.set-proto","npm:core-js@0.9.10/library/modules/$.species","npm:core-js@0.9.10/library/modules/$.wks","npm:core-js@0.9.10/library/modules/$.uid","npm:core-js@0.9.10/library/modules/$.task","npm:core-js@0.9.10/library/modules/$.mix","npm:core-js@0.9.10/library/modules/$.iter-detect","github:jspm/nodelibs-process@0.1.1"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,function(e){"use strict";function t(e){var t=C(e)[m];return void 0!=t?t:e}function n(e){var t;return k(e)&&(t=e.then),x(t)?t:!1}function i(e){var t=e.c;t.length&&b(function(){function i(t){var i,s,a=o?t.ok:t.fail;try{a?(o||(e.h=!0),i=a===!0?r:a(r),i===t.P?t.rej(TypeError("Promise-chain cycle")):(s=n(i))?s.call(i,t.res,t.rej):t.res(i)):t.rej(r)}catch(l){t.rej(l)}}for(var r=e.v,o=1==e.s,s=0;t.length>s;)i(t[s++]);t.length=0})}function r(e){var t,n=e[g],i=n.a||n.c,o=0;if(n.h)return!1;for(;i.length>o;)if(t=i[o++],t.fail||!r(t.P))return!1;return!0}function o(t){var n,o=this;o.d||(o.d=!0,o=o.r||o,o.v=t,o.s=2,o.a=o.c.slice(),setTimeout(function(){b(function(){r(n=o.p)&&("process"==c(e)?e.emit("unhandledRejection",t,n):y.console&&x(console.error)&&console.error("Unhandled promise rejection",t)),o.a=void 0})},1),i(o))}function s(e){var t,r,a=this;if(!a.d){a.d=!0,a=a.r||a;try{(t=n(e))?(r={r:a,d:!1},t.call(e,l(s,r,1),l(o,r,1))):(a.v=e,a.s=1,i(a))}catch(c){o.call(r||{r:a,d:!1},c)}}}var a=require("npm:core-js@0.9.10/library/modules/$"),l=require("npm:core-js@0.9.10/library/modules/$.ctx"),c=require("npm:core-js@0.9.10/library/modules/$.cof"),u=require("npm:core-js@0.9.10/library/modules/$.def"),d=require("npm:core-js@0.9.10/library/modules/$.assert"),h=require("npm:core-js@0.9.10/library/modules/$.for-of"),f=require("npm:core-js@0.9.10/library/modules/$.set-proto").set,p=require("npm:core-js@0.9.10/library/modules/$.species"),m=require("npm:core-js@0.9.10/library/modules/$.wks")("species"),g=require("npm:core-js@0.9.10/library/modules/$.uid").safe("record"),v="Promise",y=a.g,e=y.process,b=e&&e.nextTick||require("npm:core-js@0.9.10/library/modules/$.task").set,w=y[v],x=a.isFunction,k=a.isObject,_=d.fn,C=d.obj,$=function(){function e(t){var n=new w(t);return f(n,e.prototype),n}var t,n=!1;try{n=x(w)&&x(w.resolve)&&w.resolve(t=new w(function(){}))==t,f(e,w),e.prototype=a.create(w.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(n=!1)}catch(i){n=!1}return n}();$||(w=function(e){_(e);var t={p:d.inst(this,w,v),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1};a.hide(this,g,t);try{e(l(s,t,1),l(o,t,1))}catch(n){o.call(t,n)}},require("npm:core-js@0.9.10/library/modules/$.mix")(w.prototype,{then:function(e,t){var n=C(C(this).constructor)[m],r={ok:x(e)?e:!0,fail:x(t)?t:!1},o=r.P=new(void 0!=n?n:w)(function(e,t){r.res=_(e),r.rej=_(t)}),s=this[g];return s.c.push(r),s.a&&s.a.push(r),s.s&&i(s),o},"catch":function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!$,{Promise:w}),c.set(w,v),p(w),p(a.core[v]),u(u.S+u.F*!$,v,{reject:function(e){return new(t(this))(function(t,n){n(e)})},resolve:function(e){return k(e)&&g in e&&a.getProto(e)===this.prototype?e:new(t(this))(function(t){t(e)})}}),u(u.S+u.F*!($&&require("npm:core-js@0.9.10/library/modules/$.iter-detect")(function(e){w.all(e)["catch"](function(){})})),v,{all:function(e){var n=t(this),i=[];return new n(function(t,r){h(e,!1,i.push,i);var o=i.length,s=Array(o);o?a.each.call(i,function(e,i){n.resolve(e).then(function(e){s[i]=e,--o||t(s)},r)}):t(s)})},race:function(e){var n=t(this);return new n(function(t,i){h(e,!1,function(e){n.resolve(e).then(t,i)})})}})}(require("github:jspm/nodelibs-process@0.1.1")),n.define=i,t.exports}),System.register("github:jspm/nodelibs-url@0.1.0/index",["npm:url@0.10.3"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=System._nodeRequire?System._nodeRequire("url"):require("npm:url@0.10.3"),n.define=i,t.exports}),System.register("npm:fullscreen@1.0.0",["npm:fullscreen@1.0.0/index"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports=require("npm:fullscreen@1.0.0/index"),n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/is-iterable",["npm:core-js@0.9.10/library/fn/is-iterable"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/is-iterable"),__esModule:!0},n.define=i,t.exports}),System.register("npm:core-js@0.9.10/library/fn/promise",["npm:core-js@0.9.10/library/modules/es6.object.to-string","npm:core-js@0.9.10/library/modules/es6.string.iterator","npm:core-js@0.9.10/library/modules/web.dom.iterable","npm:core-js@0.9.10/library/modules/es6.promise","npm:core-js@0.9.10/library/modules/$"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,require("npm:core-js@0.9.10/library/modules/es6.object.to-string"),require("npm:core-js@0.9.10/library/modules/es6.string.iterator"),require("npm:core-js@0.9.10/library/modules/web.dom.iterable"),require("npm:core-js@0.9.10/library/modules/es6.promise"),t.exports=require("npm:core-js@0.9.10/library/modules/$").core.Promise,n.define=i,t.exports}),System.register("github:jspm/nodelibs-url@0.1.0",["github:jspm/nodelibs-url@0.1.0/index"],!0,function(require,e,t){
var n=System.global,i=n.define;return n.define=void 0,t.exports=require("github:jspm/nodelibs-url@0.1.0/index"),n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/helpers/sliced-to-array",["npm:babel-runtime@5.4.3/core-js/is-iterable","npm:babel-runtime@5.4.3/core-js/get-iterator"],!0,function(require,e,t){var n=System.global,i=n.define;n.define=void 0;var r=require("npm:babel-runtime@5.4.3/core-js/is-iterable")["default"],o=require("npm:babel-runtime@5.4.3/core-js/get-iterator")["default"];return e["default"]=function(e,t){if(Array.isArray(e))return e;if(r(Object(e))){var n=[],i=!0,s=!1,a=void 0;try{for(var l,c=o(e);!(i=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{!i&&c["return"]&&c["return"]()}finally{if(s)throw a}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e.__esModule=!0,n.define=i,t.exports}),System.register("npm:babel-runtime@5.4.3/core-js/promise",["npm:core-js@0.9.10/library/fn/promise"],!0,function(require,e,t){var n=System.global,i=n.define;return n.define=void 0,t.exports={"default":require("npm:core-js@0.9.10/library/fn/promise"),__esModule:!0},n.define=i,t.exports}),System.register("src/editor",["npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","npm:babel-runtime@5.4.3/core-js/object/assign","npm:babel-runtime@5.4.3/core-js/get-iterator","npm:babel-runtime@5.4.3/core-js/promise","src/util","src/demo-api","src/settings","src/prevent","github:components/jquery@2.1.4","github:vitmalina/w2ui@1.4.3"],function(e){var t,n,i,r,o,s,a,l,c,u,d;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e.alert},function(e){a=e["default"]},function(e){l=e["default"]},function(e){c=e["default"]},function(e){u=e["default"]},function(e){}],execute:function(){"use strict";l.register({name:"autoSaveInterval",defaultValue:0,type:"int",options:{min:0},html:{caption:"Auto save every",text:"&nbsp;second(s) (use 0 to disable)."}}),d=function(){function e(t,o){var s=o.editors,a=void 0===s?[]:s;n(this,e),i(this,c),this.pelicide=t,this._handlers=[],this._box=null,this._dirty=!1,this._autoSavePending=null,this.editors=[],this._types={},this._editor=null,this._currentFile=null;var l=!0,u=!1,d=void 0;try{for(var h,f=r(a);!(l=(h=f.next()).done);l=!0){var p=h.value;this.editors.push(p);var m=!0,g=!1,v=void 0;try{for(var y,b=r(p.formats);!(m=(y=b.next()).done);m=!0){var w=y.value;this._types[w]=p}}catch(x){g=!0,v=x}finally{try{!m&&b["return"]&&b["return"]()}finally{if(g)throw v}}}}catch(x){u=!0,d=x}finally{try{!l&&f["return"]&&f["return"]()}finally{if(u)throw d}}}return t(e,[{key:"layout",get:function(){var e=this;return{toolbar:{items:[{type:"button",id:"save",disabled:!0,icon:"fa fa-save",hint:"Save ("+this.pelicide.metaKey+"-S)",onClick:function(){return e.save()["catch"](s)}},{type:"button",id:"rebuild_page",icon:"fa fa-wrench",hint:"Rebuild page ("+this.pelicide.metaKey+"-E)",disabled:!0,onClick:function(){return e.rebuild()["catch"](s)}},{type:"spacer",id:"editor_spacer"}]}}}},{key:"isCurrentFile",value:function(e){return e&&this._currentFile&&this._currentFile.dir.concat([this._currentFile.name]).join("/")==e.dir.concat([e.name]).join("/")}},{key:"render",value:function(e,t){var n=this;this._box=e,this._toolbar=t,this.pelicide.project.on("update",function(e){var t=e.target;n.isCurrentFile(t)&&(n._currentFile=t)}),this.on({type:"rebuild",execute:"before"},function(){return n._toolbar.set("rebuild_page",{disabled:!0})}),this.on({type:"rebuild",execute:"after"},function(){return n._toolbar.set("rebuild_page",{disabled:null===n._editor||"content"!=n._currentFile.dir[0]})}),this.on({type:"open",execute:"after",success:!0},function(e){var t=e.file;"content"==t.dir[0]&&n._toolbar.enable("rebuild_page")}),this.on({type:"dirty"},function(e){var t=e.dirty;return n._toolbar.set("save",{disabled:!t})}),this.pelicide.listen("meta s",function(){n._toolbar.get("save").disabled||n.save()["catch"](s)}),this.pelicide.listen("meta e",function(){n._toolbar.get("rebuild_page").disabled||n.rebuild()["catch"](s)}),this.on({type:"change"},function(){l.get("autoSaveInterval")&&!n.isCurrentFile(n._autoSavePending)&&(n._autoSavePending=n._currentFile,setTimeout(function(){n.isCurrentFile(n._autoSavePending)&&(n._autoSavePending=null,n.save())},1e3*l.get("autoSaveInterval")))})}},{key:"addEditorToolbarItem",value:function(e){this._toolbar.insert("editor_spacer",i({type:"button",editorItem:!0},e))}},{key:"addEditorToolbarItems",value:function(e){var t=!0,n=!1,i=void 0;try{for(var o,s=r(e);!(t=(o=s.next()).done);t=!0){var a=o.value;this.addEditorToolbarItem(a)}}catch(l){n=!0,i=l}finally{try{!t&&s["return"]&&s["return"]()}finally{if(n)throw i}}}},{key:"removeEditorToolbarItems",value:function(){for(var e=this._toolbar.items.length-1;e>=0;--e){var t=this._toolbar.items[e];t&&t.editorItem&&this._toolbar.remove(t.id)}}},{key:"getEditor",value:function(e){var t=this._types[e.mimetype];return"undefined"==typeof t&&(t=this._types[e.mimetype.split("/")[0]]),t?t:null}},{key:"change",value:function(){this.dirty=!0,this.trigger({type:"change",target:this})}},{key:"dirty",get:function(){return this._dirty},set:function(e){e!=this._dirty&&(this._dirty=e,this.trigger({type:"dirty",target:this,dirty:e}))}},{key:"state",get:function(){return null===this._editor?null:{file:this._currentFile,content:this._editor.content()}}},{key:"open",value:function(e){var t=this;if(!e)return o.reject(new Error("File not found."));var n=this.getEditor(e);if(!n)return o.reject(new Error("No editor is registered for this file type."));var r={type:"open",execute:"before",target:this,file:e};return this.trigger(r).then(function(){return t.close()}).then(function(){return a.get_file(e.dir,e.name)}).then(function(i){t._currentFile=e,t._editor=new n(t,t._box,i)}).then(function(){return t.trigger(i(r,{execute:"after",success:!0}))},function(e){return t.trigger(i(r,{execute:"after",success:!1,error:e})),o.reject(e)})}},{key:"save",value:function(){var e=this;if(null===this._editor)return o.resolve();var t={type:"save",execute:"before",target:this,file:this._currentFile};return this.trigger(t).then(function(){return a.put_file(e._currentFile.dir,e._currentFile.name,e._editor.content())}).then(function(){e.dirty=!1,e.trigger(i(t,{execute:"after",success:!0}))},function(n){return e.trigger(i(t,{execute:"after",success:!1,error:n})),o.reject(n)})}},{key:"_checkClose",value:function(e){var t=this;return this.dirty&&e?l.get("autoSaveInterval")?this.save():new o(function(e,n){return u().w2popup({title:"Confirm close",width:450,height:220,body:'<div class="w2ui-centered w2ui-confirm-msg" style="font-size: 13px;"><p>The content of the currently opened file has changed.</p><p>Are you sure you want to close this file?</p></div>',buttons:'<button value="save" class="w2ui-popup-btn w2ui-btn px-confirm-close" style="width: 80px; margin: 0 10px">Save</button><button value="discard" class="w2ui-popup-btn w2ui-btn px-confirm-close" style="width: 80px; margin: 0 10px">Discard</button><button value="cancel" class="w2ui-popup-btn w2ui-btn px-confirm-close" style="width: 80px; margin: 0 10px">Cancel</button>',onOpen:function(i){i.onComplete=function(){u(".px-confirm-close").on("click",function(i){w2popup.close();var r=u(i.target).val();switch(r){case"save":e(t.save());break;case"discard":t.dirty=!1,e();break;default:n()}})}}})}):o.resolve()}},{key:"close",value:function(){var e=this,t=void 0===arguments[0]?!0:arguments[0];if(null===this._editor)return o.resolve();var n={type:"close",execute:"before",target:this,file:this._currentFile,saveBeforeClose:t};return this.trigger(n).then(function(){return e._checkClose(t)}).then(function(){e.removeEditorToolbarItems(),e._editor.close(),e._editor=null,e._currentFile=null,u(e._box).empty()}).then(function(){return e.trigger(i(n,{execute:"after",success:!0}))},function(t){return e.trigger(i(n,{execute:"after",success:!1,error:t})),o.reject(t)})}},{key:"rebuild",value:function(){var e=this,t=this.state;if(!t)return o.reject(new Error("No open file."));var n={type:"rebuild",execute:"before",target:this};return this.trigger(n).then(function(){return e.save()}).then(function(){return a.build([[t.file.dir,t.file.name]])}).then(function(){return e.trigger(i(n,{execute:"after",success:!0}))},function(t){return e.trigger(i(n,{execute:"after",success:!1,error:t})),o.reject(t)})}}]),e}(),e("default",d)}}}),System.register("src/content/page",["npm:babel-runtime@5.4.3/helpers/inherits","npm:babel-runtime@5.4.3/helpers/get","npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","src/util","src/demo-api","src/content/base"],function(e){var t,n,i,r,o,s,a,l;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e.alert},function(e){s=e["default"]},function(e){a=e["default"]}],execute:function(){"use strict";l=function(e){function a(e){r(this,a),n(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,e),this._pageNodeId=null}return t(a,e),i(a,[{key:"init",value:function(){var e=this;this._pageNodeId=this.project.addContentType("Pages"),n(Object.getPrototypeOf(a.prototype),"init",this).call(this,"page",["published","hidden"]),this.project.addCreateContent({text:"Create page",icon:"fa fa-file-text-o",onClick:function(){return e.create()}})}},{key:"scan",value:function(e){return"pelican.contents.Page"==e.type?[this._pageNodeId]:void 0}},{key:"create",value:function(){var e=this;return s.get("PAGE_PATHS").then(function(t){return n(Object.getPrototypeOf(a.prototype),"create",e).call(e,"Create page",t)})["catch"](o)}}]),a}(a),e("default",l)}}}),System.register("src/editors/css",["npm:babel-runtime@5.4.3/helpers/inherits","npm:babel-runtime@5.4.3/helpers/get","npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","src/editors/codemirror","npm:codemirror@5.4.0/mode/css/css"],function(e){var t,n,i,r,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){}],execute:function(){"use strict";s=function(e){function o(e,t,i){r(this,o),n(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e,t,i,"css")}return t(o,e),i(o,null,[{key:"formats",get:function(){return["text/css"]}},{key:"icon",get:function(){return["fa fa-file-code-o"]}}]),o}(o),e("default",s)}}}),System.register("src/editors/javascript",["npm:babel-runtime@5.4.3/helpers/inherits","npm:babel-runtime@5.4.3/helpers/get","npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","src/editors/codemirror","npm:codemirror@5.4.0/mode/javascript/javascript"],function(e){var t,n,i,r,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){}],execute:function(){"use strict";s=function(e){function o(e,t,i){r(this,o),n(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e,t,i,"javascript")}return t(o,e),i(o,null,[{key:"formats",get:function(){return["application/javascript"]}},{key:"icon",get:function(){return["fa fa-file-code-o"]}}]),o}(o),e("default",s)}}}),System.register("src/editors/jinja2",["npm:babel-runtime@5.4.3/helpers/inherits","npm:babel-runtime@5.4.3/helpers/get","npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","npm:codemirror@5.4.0/lib/codemirror","src/editors/codemirror","npm:codemirror@5.4.0/addon/mode/overlay","npm:codemirror@5.4.0/mode/jinja2/jinja2","npm:codemirror@5.4.0/mode/javascript/javascript","npm:codemirror@5.4.0/mode/css/css","npm:codemirror@5.4.0/mode/htmlmixed/htmlmixed"],function(e){var t,n,i,r,o,s,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){},function(e){},function(e){},function(e){},function(e){}],execute:function(){"use strict";o.defineMode("htmljinja2",function(e,t){return o.overlayMode(o.getMode(e,t.backdrop||"text/html"),o.getMode(e,"jinja2"))}),a=function(e){function o(e,t,i){var s=this;r(this,o),n(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e,t,i,"htmljinja2"),this.addActions([[{icon:"fa fa-bold",hint:"Bold",key:"{meta}-B",action:function(){return s.surround("<b>","</b>")}},{icon:"fa fa-italic",hint:"Italic",key:"{meta}-I",action:function(){return s.surround("<i>","</i>")}},{icon:"fa fa-underline",hint:"Underline",key:"{meta}-U",action:function(){return s.surround("<u>","</u>")}}],[{icon:"fa fa-link",hint:"Insert link",key:"{meta}-L",action:function(){return s.link()}},{icon:"fa fa-picture-o",hint:"Insert image",key:"{meta}-O",action:function(){return s.image()}}],[{text:'<span style="color: #8d99a7">{{</span>',hint:"Insert variable",key:"{meta}-[",action:function(){return s.surround("{{ "," }}",3)}},{text:'<span style="color: #8d99a7">{%</span>',hint:"Insert block",key:"{meta}-]",action:function(){return s.surround("{% "," %}",3)}},{text:'<span style="color: #8d99a7">{#</span>',hint:"Insert comment",key:"{meta}-;",action:function(){return s.surround("{# "," #}",3)}}]])}return t(o,e),i(o,[{key:"link",value:function(){var e=this._codeMirror.getDoc();if(e.somethingSelected()){var t=e.getSelection();/^\w+:\/\/|^mailto:/.test(t)?this.surround('<a href="','"></a>',4):this.surround('<a href="http://">',"</a>",t.length+6)}else this.insert('<a href="http://"></a>',6)}},{key:"image",value:function(){var e=this._codeMirror.getDoc();if(e.somethingSelected()){var t=e.getSelection();/^\w+:\/\//.test(t)?this.surround('<img alt="','" src=""/>',3):this.surround('<img alt="" src="','"/>',t.length+10)}else this.insert('<img alt="" src=""/>',10)}}],[{key:"formats",get:function(){return["text/html"]}},{key:"icon",get:function(){return["fa fa-file-code-o"]}}]),o}(s),e("default",a)}}}),System.register("src/util",["npm:babel-runtime@5.4.3/core-js/promise","npm:babel-runtime@5.4.3/core-js/object/assign","github:components/jquery@2.1.4","npm:unorm@1.3.3","github:vitmalina/w2ui@1.4.3"],function(e){function t(e){return e.message?e.message:e}function n(e){return e?new a(function(n){return w2alert(t(e),null,n)}):a.resolve()}function i(e,t){return new a(function(n,i){w2confirm({msg:e,title:t,yes_callBack:n,no_callBack:i})})}function r(e){return u.nfkd(e).replace(d,"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/[-\s]+/g,"-")}function o(e){var t=e.form;return new a(function(n,i){e=l({style:"padding: 15px 0px 0px 0px",width:500,height:300},e,{body:'<div id="popup_form_div" style="width: 100%; height: 100%;"></div>',onOpen:function(e){e.onComplete=function(){c("#w2ui-popup").find("#popup_form_div").w2render(t)}},onClose:function(e){e.options.result?n(e.options.result):i()}}),t.ok=function(){0==this.validate(!0).length&&(w2popup.close({result:l({},this.record)}),this.clear())},t.cancel=function(){w2popup.close({result:null}),this.clear()},w2popup.open(e)})}function s(e){var t=e.lastIndexOf(".");return t>0?e.substring(t+1):""}var a,l,c,u,d;return{setters:[function(e){a=e["default"]},function(e){l=e["default"]},function(e){c=e["default"]},function(e){u=e["default"]},function(e){}],execute:function(){"use strict";e("getErrorString",t),e("alert",n),e("confirm",i),e("slugify",r),e("dialog",o),e("getExtension",s),d=/[\u0300-\u036F]/g}}}),System.register("src/settings",["npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","npm:babel-runtime@5.4.3/core-js/get-iterator","npm:babel-runtime@5.4.3/core-js/object/assign","src/util","npm:js-cookie@1.5.1","github:components/jquery@2.1.4","github:vitmalina/w2ui@1.4.3"],function(e){var t,n,i,r,o,s,a,l,c,u;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e.dialog,s=e.alert},function(e){a=e["default"]},function(e){l=e["default"]},function(e){}],execute:function(){"use strict";c=function(){function e(){n(this,e),this._data=JSON.parse(a.get("pelicide-settings")||"{}"),this._fields=[],this._form=null}return t(e,[{key:"save",value:function(){a.set("pelicide-settings",JSON.stringify(this._data))}},{key:"get",value:function(e,t){return this._data.hasOwnProperty(e)?this._data[e]:t}},{key:"set",value:function(e,t){this._data[e]=t,a.set("pelicide-settings",JSON.stringify(this._data))}},{key:"register",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=!0,o=!1,s=void 0;try{for(var a,l=i(t);!(r=(a=l.next()).done);r=!0){var c=a.value;this._fields.push(c),this._data.hasOwnProperty(c.name)||(this._data[c.name]=c.defaultValue)}}catch(u){o=!0,s=u}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw s}}}},{key:"show",value:function(){var e=this;return this._form||(this._form=l().w2form({name:"settings",style:"border: 0px; background-color: transparent;",fields:this._fields,record:{},actions:{Cancel:function(){this.cancel()},OK:function(){this.ok()}}})),this._form.record=r({},this._data),o({title:"Settings",form:this._form}).then(function(t){e._data=t,e.save()})["catch"](s)}}]),e}(),u=new c,e("default",u)}}}),System.register("src/content/base",["npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","npm:babel-runtime@5.4.3/core-js/get-iterator","npm:babel-runtime@5.4.3/core-js/object/assign","src/util","src/demo-api","github:components/jquery@2.1.4","github:phstc/jquery-dateFormat@1.0.2","github:vitmalina/w2ui@1.4.3"],function(e){function t(e){return{path:["content"].concat(e.create_in?e.create_in.split("/"):[]),name:s(e.title)+"."+e.extension.id}}var n,i,r,o,s,a,l,c,u;return{setters:[function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e.slugify,a=e.dialog},function(e){l=e["default"]},function(e){c=e["default"]},function(e){},function(e){}],execute:function(){"use strict";u=function(){function e(t){i(this,e),this.project=t,this._form=null,this._templates={},this._extensions=[]}return n(e,[{key:"init",value:function(e,t){this.loadExtensions(e),this._form=this.form(e,t)}},{key:"loadExtensions",value:function(e){var t=this.project.pelicide.extensions,n=!0,i=!1,o=void 0;try{for(var s,a=r(this.project.pelicide.editor.editors);!(n=(s=a.next()).done);n=!0){var l=s.value;if(l.templates&&l.templates[e]){var c=l.templates[e],u=!0,d=!1,h=void 0;try{for(var f,p=r(l.extensions);!(u=(f=p.next()).done);u=!0){var m=f.value;t.has(m)&&(this._templates[m]=c,this._extensions.push(m))}}catch(g){d=!0,h=g}finally{try{!u&&p["return"]&&p["return"]()}finally{if(d)throw h}}}}}catch(g){i=!0,o=g}finally{try{!n&&a["return"]&&a["return"]()}finally{if(i)throw o}}}},{key:"form",value:function(e,n){var i=this.project;return c().w2form({name:"create_"+e,style:"border: 0px; background-color: transparent;",fields:[{field:"title",type:"text",required:!0,html:{caption:"Title",attr:'style="width: 250px"'}},{field:"category",type:"combo",html:{caption:"Category:",attr:'style="width: 250px"'}},{field:"status",type:"list",required:!0,options:{items:n},html:{caption:"Status",attr:'style="width: 250px"'}},{field:"extension",type:"list",required:!0,options:{items:this._extensions},html:{caption:"File type",attr:'style="width: 250px"'}},{field:"create_in",type:"combo",html:{caption:"Create in:",attr:'style="width: 250px"'}}],record:{},actions:{Cancel:function(){this.cancel()},Create:function(){this.ok()}},onValidate:function(e){var n=t(this.record);i.getFile(n.path,n.name)&&e.errors.push({field:this.get("title"),error:"File already exists"})}})}},{key:"create",value:function(e,n){var i=this,r=this.project.categories;return this._form.set("category",{options:{items:r}}),this._form.set("create_in",{options:{items:n}}),this._form.record={status:this._form.get("status").options.items[0],extension:this._extensions[0],create_in:n[0]},a({title:e,form:this._form}).then(function(e){o(e,{slug:s(e.title),date:c.format.date(new Date,"yyyy-MM-dd HH:mm")});var n=t(e),r=i._templates[e.extension.id](e);return i.project.pelicide.editor.close().then(function(){return l.put_file(n.path,n.name,r)}).then(function(){return i.project.reload()}).then(function(){return i.project.pelicide.editor.open(i.project.getFile(n.path,n.name))})})}}]),e}(),e("default",u)}}}),System.register("src/editors/codemirror",["npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","npm:babel-runtime@5.4.3/core-js/get-iterator","npm:babel-runtime@5.4.3/core-js/object/assign","npm:codemirror@5.4.0/lib/codemirror","npm:codemirror@5.4.0/addon/search/search","npm:codemirror@5.4.0/lib/codemirror.css!github:systemjs/plugin-css@0.1.13","npm:codemirror@5.4.0/addon/dialog/dialog.css!github:systemjs/plugin-css@0.1.13","src/css/codemirror-theme.css!github:systemjs/plugin-css@0.1.13"],function(e){var t,n,i,r,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){},function(e){},function(e){},function(e){}],execute:function(){"use strict";s=function(){function e(t,i,r){var s=this,a=void 0===arguments[3]?"text/plain":arguments[3];n(this,e),this.editor=t,this._actionId=0,this._keymap={},this._codeMirror=o(i,{value:r,lineWrapping:!0,mode:a,theme:"pelicide"}),void 0!==o.autoLoadMode&&o.autoLoadMode(this._codeMirror,a),this._codeMirror.on("change",function(){return t.change()}),this._onLayoutChanged=function(){return s._codeMirror.refresh()},t.pelicide.on({type:"layout"},this._onLayoutChanged),t.pelicide.preview.setUpScrollSync(this._codeMirror.getScrollerElement()),this._codeMirror.focus()}return t(e,[{key:"addActions",value:function(e){var t=[],n=this.editor.pelicide.metaKey,o=!0,s=!1,a=void 0;try{for(var l,c=i(e);!(o=(l=c.next()).done);o=!0){var u=l.value;t.push({id:"cm_"+ ++this._actionId,type:"break"});var d=!0,h=!1,f=void 0;try{for(var p,m=i(u);!(d=(p=m.next()).done);d=!0){var g=p.value;if(g.action){var v=g.hint;if(g.key){var y=g.key.replace("{meta}",n);v&&(v+=" ("+y+")"),this._keymap[y]=g.action}(g.text||g.icon)&&t.push(r({id:"cm_"+ ++this._actionId,onClick:g.action},g,{hint:v}))}}}catch(b){h=!0,f=b}finally{try{!d&&m["return"]&&m["return"]()}finally{if(h)throw f}}}}catch(b){s=!0,a=b}finally{try{!o&&c["return"]&&c["return"]()}finally{if(s)throw a}}this.editor.addEditorToolbarItems(t),this._codeMirror.setOption("extraKeys",this._keymap)}},{key:"close",value:function(){this.editor.pelicide.off({type:"layout"},this._onLayoutChanged),this._codeMirror=null}},{key:"content",value:function(){return this._codeMirror.getValue()}},{key:"insert",value:function(e){var t=void 0===arguments[1]?0:arguments[1],n=this._codeMirror.getDoc(),i=r({},n.getCursor(),{ch:0});n.replaceSelection(e),n.setCursor({line:i.line,ch:i.ch+e.length-t}),this._codeMirror.focus()}},{key:"surround",value:function(e){var t=void 0===arguments[1]?null:arguments[1],n=void 0===arguments[2]?null:arguments[2];null===t&&(t=e),null===n&&(n=t.length);var i=this._codeMirror.getDoc();i.replaceSelection(e+i.getSelection()+t);var r=i.getCursor();r.ch-=n,i.setCursor(r),this._codeMirror.focus()}},{key:"replaceLinePrefix",value:function(e,t){function n(n){var o=r.getLine(n),s=e.exec(o),a={line:n,ch:0},l={line:n,ch:null===s?0:s[0].length};(!i||o)&&r.replaceRange(t(s),a,l)}for(var i=void 0===arguments[2]?!0:arguments[2],r=this._codeMirror.getDoc(),o=r.getCursor("from").line,s=r.getCursor("to").line,a=o;s>=a;++a)n(a);this._codeMirror.focus()}}],[{key:"formats",get:function(){return["text"]}},{key:"icon",get:function(){return["fa fa-file-text-o"]}},{key:"extensions",get:function(){return[]}},{key:"templates",get:function(){return{}}}]),e}(),e("default",s)}}}),System.register("src/editors/markdown",["npm:babel-runtime@5.4.3/helpers/inherits","npm:babel-runtime@5.4.3/helpers/get","npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","src/editors/codemirror","npm:codemirror@5.4.0/mode/markdown/markdown"],function(e){function t(e){return"Title: "+e.title+"\nDate: "+e.date+"\nStatus: "+e.status.id+"\nTags:"+(e.category?"\nCategory: "+e.category:"")+("\nSlug: "+e.slug+"\n\n")}var n,i,r,o,s,a;return{setters:[function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){}],execute:function(){"use strict";a=function(e){function s(e,t,n){var r=this;o(this,s),i(Object.getPrototypeOf(s.prototype),"constructor",this).call(this,e,t,n,"markdown"),this.addActions([[{icon:"fa fa-bold",hint:"Bold",key:"{meta}-B",action:function(){return r.surround("**")}},{icon:"fa fa-italic",hint:"Italic",key:"{meta}-I",action:function(){return r.surround("*")}},{icon:"fa fa-header",hint:"Heading",key:"{meta}-H",action:function(){return r.header()}}],[{icon:"fa fa-link",hint:"Insert link",key:"{meta}-L",action:function(){return r.link()}},{icon:"fa fa-image",hint:"Insert image",key:"{meta}-O",action:function(){return r.image()}},{icon:"fa fa-list-ul",hint:"Unordered list item",key:"{meta}-U",action:function(){return r.ul()}}]])}return n(s,e),r(s,[{key:"header",value:function(){this.replaceLinePrefix(/(#+)\s+/,function(e){return e?e[1].length>=6?"":"#".repeat(e[1].length+1)+" ":"# "})}},{key:"link",value:function(){var e=this._codeMirror.getDoc();if(e.somethingSelected()){var t=e.getSelection();/^\w+:\/\/|^mailto:/.test(t)?this.surround("[](",")",t.length+3):this.surround("[","](http://)",1)}else this.insert("[](http://)",10)}},{key:"image",value:function(){var e=this._codeMirror.getDoc();if(e.somethingSelected()){var t=e.getSelection();/^\w+:\/\//.test(t)?this.surround("![](",")",t.length+3):this.surround("![","]()",1)}else this.insert("![]()",3)}},{key:"ul",value:function(){this.replaceLinePrefix(/^\s*[*+-]\s/,function(e){return e?"":"* "})}}],[{key:"formats",get:function(){return["text/x-markdown","text/x-rmarkdown"]}},{key:"extensions",get:function(){return["md","markdown","mkd","mdown","rmd"]}},{key:"templates",get:function(){return{article:t,page:t}}}]),s}(s),e("default",a)}}}),System.register("src/editors/restructuredtext",["npm:babel-runtime@5.4.3/helpers/inherits","npm:babel-runtime@5.4.3/helpers/get","npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","src/editors/codemirror","npm:codemirror@5.4.0/mode/rst/rst"],function(e){function t(e){return""+e.title+"\n"+"#".repeat(e.title.length)+"\n\n:date: "+e.date+"\n:status: "+e.status.id+"\n:tags: "+(e.category?"\n:category: "+e.category:"")+("\n:slug: "+e.slug+"\n\n")}var n,i,r,o,s,a;return{setters:[function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){}],execute:function(){"use strict";a=function(e){function s(e,t,n){var r=this;o(this,s),i(Object.getPrototypeOf(s.prototype),"constructor",this).call(this,e,t,n,"rst"),this.addActions([[{icon:"fa fa-bold",hint:"Bold",key:"{meta}-B",action:function(){return r.surround("**")}},{icon:"fa fa-italic",hint:"Italic",key:"{meta}-I",action:function(){return r.surround("*")}}],[{icon:"fa fa-link",hint:"Insert link",ley:"{meta}-L",action:function(){return r.link()}},{icon:"fa fa-list-ul",hint:"Unordered list item (${ctrl}U)",key:"{meta}-U",action:function(){return r.ul()}}]])}return n(s,e),r(s,[{key:"link",value:function(){var e=this._codeMirror.getDoc();if(e.somethingSelected()){var t=e.getSelection();/^\w+:\/\/|^mailto:/.test(t)?this.surround("` <",">`_",t.length+5):this.surround("`"," <http://>`_",3)}else this.insert("` <http://>`_",12)}},{key:"ul",value:function(){this.replaceLinePrefix(/^\s*[*+-]\s/,function(e){return e?"":"* "})}}],[{key:"formats",get:function(){return["text/x-rst"]}},{key:"extensions",get:function(){return["rst"]}},{key:"templates",get:function(){return{article:t,page:t}}}]),s}(s),e("default",a)}}}),System.register("src/prevent",["npm:babel-runtime@5.4.3/helpers/sliced-to-array","npm:babel-runtime@5.4.3/core-js/set","npm:babel-runtime@5.4.3/core-js/object/get-own-property-names","npm:babel-runtime@5.4.3/core-js/get-iterator","npm:babel-runtime@5.4.3/core-js/promise"],function(e){var t,n,i,r,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]}],execute:function(){"use strict";s={on:function(e,t){var n=void 0===arguments[2]?!1:arguments[2];this.handlers||(this.handlers=[]),this.handlers.push([e,t,n])},once:function(e,t){return this.on(e,t,!0)},off:function(e,o){for(var s=this.handlers.length-1;s>=0;--s){var a=t(this.handlers[s],2),l=a[0],c=a[1],u=!0;if(o===c){var d=new n(i(e).concat(i(l))),h=!0,f=!1,p=void 0;try{for(var m,g=r(d);!(h=(m=g.next()).done);h=!0){var v=m.value;if(!e.hasOwnProperty(v)||!l.hasOwnProperty(v)||e[v]!==l[v]){u=!1;break}u&&this.handlers.splice(s,1)}}catch(y){f=!0,p=y}finally{try{!h&&g["return"]&&g["return"]()}finally{if(f)throw p}}}}},trigger:function(e){for(var n=[],i=this.handlers.length-1;i>=0;--i){var r=t(this.handlers[i],3),s=r[0],a=r[1],l=r[2],c=!0;for(var u in s)if(s.hasOwnProperty(u)&&(!e.hasOwnProperty(u)||e[u]!==s[u])){c=!1;break}c&&(n.push(a(e)),l&&this.handlers.splice(i,1))}return o.all(n)}},e("default",s)}}}),System.register("src/content/article",["npm:babel-runtime@5.4.3/helpers/inherits","npm:babel-runtime@5.4.3/helpers/get","npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","src/util","src/demo-api","src/content/base"],function(e){var t,n,i,r,o,s,a,l;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e.alert},function(e){s=e["default"]},function(e){a=e["default"]}],execute:function(){"use strict";l=function(e){function a(e){r(this,a),n(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,e),this._draftNodeId=null,this._publishedNodeId=null}return t(a,e),i(a,[{key:"init",value:function(){var e=this;this._draftNodeId=this.project.addContentType("Draft articles"),this._publishedNodeId=this.project.addContentType("Published articles"),n(Object.getPrototypeOf(a.prototype),"init",this).call(this,"article",["draft","published"]),this.project.addCreateContent({text:"Create article",icon:"fa fa-newspaper-o",onClick:function(){return e.create()}})}},{key:"scan",value:function(e){switch(e.type){case"pelican.contents.Article":return[this._publishedNodeId,e.meta.category];case"pelican.contents.Draft":return[this._draftNodeId]}}},{key:"create",value:function(){var e=this;return s.get("ARTICLE_PATHS").then(function(t){return n(Object.getPrototypeOf(a.prototype),"create",e).call(e,"Create article",t)})["catch"](o)}}]),a}(a),e("default",l)}}}),System.register("src/project",["npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","npm:babel-runtime@5.4.3/core-js/object/assign","npm:babel-runtime@5.4.3/core-js/get-iterator","npm:babel-runtime@5.4.3/core-js/set","npm:babel-runtime@5.4.3/core-js/array/from","npm:babel-runtime@5.4.3/core-js/promise","src/util","src/demo-api","src/prevent","src/settings","github:components/jquery@2.1.4","github:vitmalina/w2ui@1.4.3"],function(e){var t,n,i,r,o,s,a,l,c,u,d,h,f,p,m;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){a=e["default"]},function(e){l=e.alert,c=e.confirm,u=e.dialog},function(e){d=e["default"]},function(e){h=e["default"]},function(e){f=e["default"]},function(e){p=e["default"]},function(e){}],execute:function(){
"use strict";f.register({name:"hideNonEditableFiles",defaultValue:!0,type:"checkbox",html:{caption:"&nbsp;",text:"&nbsp;Hide files that are not editable."}}),m=function(){function e(t,o){var s=o.sitename,a=void 0===s?"":s,l=o.contentTypes,c=void 0===l?[]:l,u=o.canDeploy,d=void 0===u?!1:u;n(this,e),i(this,h),this.pelicide=t,this._sitename=a,this._canDeploy=d,this.handlers=[],this._sidebar=null,this._box=null,this._toolbar=null,this._contentTypes=[];var f=!0,m=!1,g=void 0;try{for(var v,y=r(c);!(f=(v=y.next()).done);f=!0){var b=v.value;this._contentTypes.push(new b(this))}}catch(w){m=!0,g=w}finally{try{!f&&y["return"]&&y["return"]()}finally{if(m)throw g}}this._id=0,this._paths={},this._files={},this._otherContentId=null;var x=this;this._renameForm=p().w2form({name:"rename_file",style:"border: 0px; background-color: transparent;",fields:[{field:"filename",type:"text",required:!0,html:{caption:"New filename",attr:'style="width: 250px"'}}],record:{},actions:{Cancel:function(){this.cancel()},Rename:function(){this.ok()}},onValidate:function(e){var t=this.record.dir;this.record.filename!=this.record.origFilename&&x.getFile(t,this.record.filename)&&e.errors.push({field:this.get("filename"),error:"File already exists"})}})}return t(e,[{key:"layout",get:function(){var e=this;return{toolbar:{items:[{type:"button",id:"refresh",icon:"fa fa-refresh",hint:"Reload project ("+this.pelicide.metaKey+"-Shift-L)",onClick:function(){return e.reload()["catch"](l)}},{type:"button",id:"rebuild",icon:"fa fa-wrench",hint:"Rebuild project ("+this.pelicide.metaKey+"-Shift-E)",onClick:function(){return e.rebuild()["catch"](l)}},{type:"button",id:"deploy",icon:"fa fa-cloud-upload",hint:"Deploy site",disabled:!this._canDeploy,onClick:function(){return e.deploy()["catch"](l)}},{type:"break"},{type:"menu",id:"create",icon:"fa fa-plus",disabled:!0,hint:"Create content",items:[]}]}}}},{key:"render",value:function(e,t){var n=this;this._box=e,this._toolbar=t,this._sidebar=p().w2sidebar({name:"project",nodes:[{id:"content",text:this._sitename||"Content",expanded:!0,group:!0},{id:"theme",text:"Theme",expanded:!1,group:!0}],onDblClick:function(e){var t=n._sidebar.get(e.target).file;void 0!==t&&n.pelicide.editor.open(t)["catch"](l)},onKeydown:function(e){var t=n._sidebar.get(n._sidebar.selected).file;if(void 0!==t)switch(e.originalEvent.keyCode){case 13:e.preventDefault(),n.pelicide.editor.open(t)["catch"](l);break;case 46:e.preventDefault(),n.deleteFile(t)["catch"](l);break;case 117:e.preventDefault(),n.renameFile(t)["catch"](l)}},onContextMenu:function(e){return n._sidebar.menu=n.getMenuForNode(e.object)}}),this._sidebar.render(e),this.clear();var i=!0,o=!1,s=void 0;try{for(var a,c=r(this._contentTypes);!(i=(a=c.next()).done);i=!0){var u=a.value;u.init()}}catch(d){o=!0,s=d}finally{try{!i&&c["return"]&&c["return"]()}finally{if(o)throw s}}this._otherContentId=this.addContentType("Other"),this._toolbar.on("click",function(e){e.item&&"menu"==e.item.type&&e.subItem&&e.subItem.onClick&&e.subItem.onClick(e)}),this._sidebar.on("menuClick",function(e){return e.menuItem.onClick&&e.menuItem.onClick(e.menuItem)}),this.pelicide.editor.on({type:"open",execute:"after",success:!0},function(e){return n.selectedFile=e.file}),this.pelicide.editor.on({type:"save",execute:"after",success:!0},function(e){return n.update(e.file)}),this.pelicide.listen("meta shift l",function(){return n.reload()["catch"](l)}),this.pelicide.listen("meta shift e",function(){n._toolbar.get("rebuild").disabled||n.reload()["catch"](l)}),this.on({type:"reload",execute:"before"},function(){return n._sidebar.lock("Loading...",!0)}),this.on({type:"reload",execute:"after"},function(){return n._sidebar.unlock()}),this.on({type:"rebuild",execute:"before"},function(){return n._toolbar.set("rebuild",{disabled:!0})}),this.on({type:"rebuild",execute:"after"},function(){return n._toolbar.set("rebuild",{disabled:!1})}),this.on({type:"deploy",execute:"before"},function(){return n._toolbar.set("deploy",{disabled:!0})}),this.on({type:"deploy",execute:"after"},function(){return n._toolbar.set("deploy",{disabled:!n._canDeploy})}),this.reload()["catch"](l)}},{key:"_newId",value:function(){return"node_"+ ++this._id}},{key:"clear",value:function(){this._paths={nodes:{content:{id:"content",nodes:{}},theme:{id:"theme",nodes:{}}}},this._files={};var e=this._sidebar.find({parent:this._sidebar.get("content")}),t=!0,n=!1,i=void 0;try{for(var o,s=r(e);!(t=(o=s.next()).done);t=!0){var a=o.value;this._sidebar.remove.apply(this._sidebar,this._sidebar.find(a,{}).map(function(e){return e.id})),this._paths.nodes.content.nodes[a.id]={id:a.id,nodes:{}}}}catch(l){n=!0,i=l}finally{try{!t&&s["return"]&&s["return"]()}finally{if(n)throw i}}}},{key:"getMenuForNode",value:function(e){var t=this,n=0,i=[];return e.file&&(i.push({id:++n,text:"Rename file",icon:"fa fa-pencil-square-o",item:e,onClick:function(e){return t.renameFile(e.item.file)["catch"](l)}}),i.push({id:++n,text:"Delete file",icon:"fa fa-times",item:e,onClick:function(e){return t.deleteFile(e.item.file)["catch"](l)}})),i}},{key:"contentTitle",get:function(){return this._sidebar.get("content").text},set:function(e){this._sidebar.get("content").text=null===e?"Content":e,this._sidebar.refresh("content")}},{key:"addContentType",value:function(e){var t=this._newId();return this._sidebar.add("content",{id:t,text:e,icon:"fa fa-folder"}),this._paths.nodes.content.nodes[t]={id:t,nodes:{}},t}},{key:"addCreateContent",value:function(e){var t=this._newId(),n=this._toolbar.get("create").items;n.push(i({},e,{id:t})),this._toolbar.set("create",{disabled:!1,items:n})}},{key:"ensurePath",value:function(e){for(var t=this._paths,n=0;n<e.length;++n){var i=e[n];if(t.nodes.hasOwnProperty(i))t=t.nodes[i];else{var o=this._sidebar.get(t.id),s=null,a=!0,l=!1,c=void 0;try{for(var u,d=r(o.nodes);!(a=(u=d.next()).done);a=!0){var h=u.value;if(void 0!==h.file||h.text.localeCompare(i)>0){s=h.id;break}}}catch(f){l=!0,c=f}finally{try{!a&&d["return"]&&d["return"]()}finally{if(l)throw c}}var p=this._newId();this._sidebar.insert(t.id,s,{id:p,text:i,icon:"fa fa-folder-o"}),t=t.nodes[i]={id:p,nodes:{}}}}return t.id}},{key:"addFile",value:function(e){var t=this.pathForFile(e);if(null!==t){var n=this.pelicide.editor.getEditor(e);if(n||!f.get("hideNonEditableFiles")){var i=this._sidebar.get(this.ensurePath(t)),o=this._newId(),s=null,a=!0,l=!1,c=void 0;try{for(var u,d=r(i.nodes);!(a=(u=d.next()).done);a=!0){var h=u.value;if(void 0!==h.file&&h.text.localeCompare(e.name)>0){s=h.id;break}}}catch(p){l=!0,c=p}finally{try{!a&&d["return"]&&d["return"]()}finally{if(l)throw c}}return this._sidebar.insert(i,s,{id:o,text:e.name,icon:n?n.icon:"fa fa-file-o",file:e,disabled:!n}),this._files[e.dir.concat([e.name]).join("/")]=o,this.trigger({type:"update",target:e}),o}}}},{key:"removeFile",value:function(e){var t=e.dir.concat([e.name]).join("/"),n=this._files[t];this._sidebar.remove(n),delete this._files[t]}},{key:"renameFile",value:function(e){var t=this;return this._renameForm.record={dir:e.dir,filename:e.name,origFilename:e.name},u({title:"Rename file",form:this._renameForm}).then(function(e){return d.rename_file(e.dir,e.origFilename,e.filename)}).then(function(){t.removeFile(e),e.name=record.filename,t.addFile(e),t.selectedFile=e})}},{key:"deleteFile",value:function(e){var t=this;return c("Are you sure you want to delete "+e.name+"?").then(function(){return t.pelicide.editor.isCurrentFile(e)?t.pelicide.editor.close(!1):null}).then(function(){return d.delete_file(e.dir,e.name)}).then(function(){return t.removeFile(e)})}},{key:"getFile",value:function(e,t){var n=this._sidebar.get(this._files[e.concat([t]).join("/")]);return n?n.file:null}},{key:"pathForFile",value:function(e){switch(e.dir[0]){case"content":var t=!0,n=!1,i=void 0;try{for(var o,s=r(this._contentTypes);!(t=(o=s.next()).done);t=!0){var a=o.value,l=a.scan(e);if(void 0!==l)return["content"].concat(l)}}catch(c){n=!0,i=c}finally{try{!t&&s["return"]&&s["return"]()}finally{if(n)throw i}}return["content",this._otherContentId].concat(e.dir.slice(1));case"theme":return e.dir}return null}},{key:"categories",get:function(){var e=new o,t=!0,n=!1,i=void 0;try{for(var a,l=r(this._sidebar.find({}));!(t=(a=l.next()).done);t=!0){var c=a.value;c.file&&c.file.meta&&c.file.meta.category&&e.add(c.file.meta.category)}}catch(u){n=!0,i=u}finally{try{!t&&l["return"]&&l["return"]()}finally{if(n)throw i}}return s(e)}},{key:"selectedFile",set:function(e){var t=this._files[e.dir.concat([e.name]).join("/")];t.selected||(this._sidebar.expandParents(t),this._sidebar.select(t),this._sidebar.scrollIntoView(t))}},{key:"update",value:function(e){var t=this,n=e.dir.concat([e.name]).join("/"),i=this.pathForFile(e).join("/");return null!==i?d.list_files().then(function(o){var s=!0,a=!1,l=void 0;try{for(var c,u=r(o);!(s=(c=u.next()).done);s=!0){var d=c.value;if(d.dir.concat([d.name]).join("/")==n){var h=t.pathForFile(d);return void(null!==h&&h.join("/")!==i&&(t.removeFile(e),t.addFile(d),t.selectedFile=d))}}}catch(f){a=!0,l=f}finally{try{!s&&u["return"]&&u["return"]()}finally{if(a)throw l}}}):void 0}},{key:"reload",value:function(){var e=this,t={type:"reload",execute:"before",target:this};return this.trigger(t).then(function(){return e.pelicide.editor.close()}).then(function(){return e.clear()}).then(function(){return d.list_files()}).then(function(t){var n=!0,i=!1,o=void 0;try{for(var s,a=r(t);!(n=(s=a.next()).done);n=!0){var l=s.value;e.addFile(l)}}catch(c){i=!0,o=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(i)throw o}}}).then(function(){return e.trigger(i(t,{execute:"after",success:!0}))},function(n){return e.trigger(i(t,{execute:"after",success:!1,error:n})),a.reject(n)})}},{key:"rebuild",value:function(){var e=this,t={type:"rebuild",execute:"before",target:this};return this.trigger(t).then(function(){return e.pelicide.editor.save()}).then(function(){return d.build()}).then(function(){return e.trigger(i(t,{execute:"after",success:!0}))},function(n){return e.trigger(i(t,{execute:"after",success:!1,error:n})),a.reject(n)})}},{key:"deploy",value:function(){var e=this,t={type:"deploy",execute:"before",target:this};return this.trigger(t).then(function(){return e.pelicide.editor.save()}).then(function(){return d.deploy()}).then(function(){return e.trigger(i(t,{execute:"after",success:!0}))},function(n){return e.trigger(i(t,{execute:"after",success:!1,error:n})),a.reject(n)})}}]),e}(),e("default",m)}}}),System.register("src/demo-api",["npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","npm:babel-runtime@5.4.3/helpers/sliced-to-array","npm:babel-runtime@5.4.3/core-js/promise","npm:babel-runtime@5.4.3/core-js/get-iterator","npm:babel-runtime@5.4.3/core-js/object/assign","github:showdownjs/showdown@0.5.4","github:components/jquery@2.1.4"],function(e){function t(){return o.reject(new Error("This functionality is not available in demo mode."))}var n,i,r,o,s,a,l,c,u,d,h,f;return{setters:[function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){a=e["default"]},function(e){l=e["default"]},function(e){c=e["default"]}],execute:function(){"use strict";u=["restart","get_settings","set","build","deploy"],d=[{name:"welcome-to-pelicide.md",url:"http://blurringexistence.net",content:"Title: Welcome to pelicide\nDate: 2015-04-28 08:00\nStatus: draft\nAuthor: Ingmar Steen\nTags: pelicide, demo\n\n## Welcome to the interactive Pelicide demo!\n\n[Pelicide](https://github.com/iksteen/pelicide) is an IDE for sites built with the [Pelican Static Site Generator](http://getpelican.com). This site is an interactive demo of Pelicide's user interface.\n\nBeing a demo, this particular site is not connected to any back end so some functionality is not available:\n\n- **All changes are volatile.** While you are able to save your changes, none of them will persist after a page reload.\n\n- **Building HTML files is disabled.** Without building the HTML, the 'Render' preview mode is quite pointless. If you do select the Render preview mode, it shows my website instead.\n\n- **Limited draft preview.** The renderer used for the draft preview mode in this demo is different from the one in a regular environment.\n\n- **Markdown only.** Only markdown render support is emulated in this demo. reStructuredText is not supported.\n\nDespite these limitations, feel free to explore the user interface! And if you like it, be sure to get [the real thing](https://github.com/iksteen/pelicide)!\n",meta:{category:"misc"},type:"pelican.contents.Draft",mimetype:"text/x-markdown",dir:["content"]}],h=function(){function e(){i(this,e),this._showdown=new l.converter;var n=!0,r=!1,o=void 0;try{for(var a,c=s(u);!(n=(a=c.next()).done);n=!0){var d=a.value;this[d]=t}}catch(h){r=!0,o=h}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw o}}}return n(e,[{key:"configure",value:function(e){}},{key:"list_extensions",value:function(){return o.resolve(["md"])}},{key:"get",value:function(e){return"SITENAME"==e?o.resolve("Blurring Existence"):"ARTICLE_PATHS"==e?o.resolve([]):"PAGE_PATHS"==e?o.resolve(["pages"]):t()}},{key:"render",value:function(e,n){if("md"==e||"markdown"==e||"mdown"==e||"mkd"==e){var i=n.split("\n\n");return i.splice(0,1),o.resolve(this._showdown.makeHtml(i.join("\n\n")))}return t()}},{key:"list_files",value:function(){return o.resolve(c.extend(!0,[],d))}},{key:"get_file",value:function(e,t){e=e.join("/");var n=!0,i=!1,r=void 0;try{for(var a,l=s(d);!(n=(a=l.next()).done);n=!0){var c=a.value;if(c.dir.join("/")==e&&c.name==t)return o.resolve(c.content)}}catch(u){i=!0,r=u}finally{try{!n&&l["return"]&&l["return"]()}finally{if(i)throw r}}return o.reject(new Error("File not found."))}},{key:"put_file",value:function(e,t,n){var i=n.split("\n\n",1)[0],l={},c=!0,u=!1,h=void 0;try{for(var f,p=s(i.split("\n"));!(c=(f=p.next()).done);c=!0){var m=f.value,g=m.split(/:\s+/),v=r(g,2),y=v[0],b=v[1];l[y.toLowerCase()]=b}}catch(w){u=!0,h=w}finally{try{!c&&p["return"]&&p["return"]()}finally{if(u)throw h}}var x="draft"==l.status,k=e&&"pages"==e[0],_=k?"pelican.contents.Page":x?"pelican.contents.Draft":"pelican.contents.Article",C=!0,$=!1,S=void 0;try{for(var T,j=s(d);!(C=(T=j.next()).done);C=!0){var D=T.value;if(D.dir.join("/")==e.join("/")&&D.name==t)return a(D,{content:n,meta:{category:l.category||"misc"},type:_}),o.resolve()}}catch(w){$=!0,S=w}finally{try{!C&&j["return"]&&j["return"]()}finally{if($)throw S}}return d.push({name:t,url:"http://blurringexistence.net",content:n,meta:{category:l.category||"misc"},mimetype:"text/x-markdown",dir:e,type:_}),o.resolve()}},{key:"delete_file",value:function(e,t){e=e.join("/");for(var n=0;n<d.length;++n){var i=d[n];if(i.dir.join("/")==e&&i.name==t)return d.splice(n,1),o.resolve()}return o.reject(new Error("File not found."))}},{key:"rename_content",value:function(e,t,n){e=e.join("/");for(var i=0;i<d.length;++i){var r=d[i];if(r.dir.join("/")==e&&r.name==t)return r.name=n,o.resolve()}return Project.reject(new Error("File not found."))}},{key:"can_deploy",value:function(){return o.resolve(!1)}}]),e}(),f=new h,e("default",f)}}}),System.register("src/preview",["npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","src/demo-api","src/util","github:components/jquery@2.1.4","github:jspm/nodelibs-url@0.1.0","src/css/pygments.css!github:systemjs/plugin-css@0.1.13"],function(e){var t,n,i,r,o,s,a,l;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e.getErrorString,o=e.getExtension},function(e){s=e["default"]},function(e){a=e["default"]},function(e){}],execute:function(){"use strict";l=function(){function e(t,i){var r=i.previewDelay,o=void 0===r?50:r;n(this,e),this.pelicide=t,this.delay=o,this._mode=null,this._pending=!1}return t(e,[{key:"layout",get:function(){var e=this;return{overflow:"hidden",toolbar:{items:[{type:"radio",id:"draft",group:"1",caption:"Draft",checked:!0,onClick:function(){return e.mode="draft"}},{type:"radio",id:"render",group:"1",caption:"Render",onClick:function(){return e.mode="render"}},{type:"break"},{type:"button",id:"update_preview",icon:"fa fa-refresh",hint:"Refresh",disabled:!0,onClick:function(){return e.update()}},{type:"button",id:"external_preview",icon:"fa fa-external-link",hint:"Open in new window",disabled:!0,onClick:function(){return e.external()}}]}}}},{key:"render",value:function(e,t){var n=this;this._box=e,this._toolbar=t,this.pelicide.editor.on({type:"change"},function(){return n.schedule()}),this.pelicide.editor.on({type:"open",execute:"after",success:!0},function(){t.enable("update_preview"),t.enable("external_preview"),n.update()}),this.pelicide.editor.on({type:"close",execute:"after",success:!0},function(){t.disable("update_preview"),t.disable("external_preview"),n.update()}),this.pelicide.project.on({type:"rebuild",execute:"after",success:!0},function(){"render"==n.mode&&n.update()}),this.pelicide.editor.on({type:"rebuild",execute:"after",success:!0},function(){"render"==n.mode&&n.update()}),this.mode="draft"}},{key:"mode",get:function(){return this._mode},set:function(e){var t=this;setTimeout(function(){t._toolbar.check("render"==e?"render":"draft"),t._toolbar.uncheck("render"==e?"draft":"render")},0),e!=this._mode&&(this._mode=e,"render"==e?(s(this._box).html('<iframe id="render"></iframe>'),this.update()):(s(this._box).html('<div id="preview_container"><div id="preview"></div></div>'),this.update()))}},{key:"schedule",value:function(){var e=this;"draft"!=this.mode||this._pending||(this._pending=!0,setTimeout(function(){e._pending=!1,e.update()},this.delay))}},{key:"update",value:function(){var e=this,t=this.pelicide.editor.state;"render"!=this.mode?!function(){var n=s("#preview"),a=t&&o(t.file.name);t&&e.pelicide.extensions.has(a)?i.render(a,t.content).then(function(e){return n.html(e)},function(e){n.empty().append('<h3 style="color: red">Render failed:</h3>',s("<p>").html(r(e)))}):n.empty()}():t&&t.file.url?!function(){var e=s("#render"),n=s("<iframe>").appendTo(e.parent());n.one("load",function(){try{var i=e.contents();if(i.prop("location").href==a.resolve(document.location.href,t.file.url)){var r=i.find("body"),o=r.scrollTop(),s=r.scrollLeft();n.contents().find("body").scrollTop(o).scrollLeft(s)}}catch(l){}e.remove(),n.attr("id","render")}).attr("src",t.file.url)}():s("#render").attr("src","")}},{key:"external",value:function(){var e=this.pelicide.editor.state;e&&e.file.url&&window.open(e.file.url)}},{key:"setUpScrollSync",value:function(e){var t=!1;s(e).on("scroll",function(e){var n=s(e.target);t||(t=!0,setTimeout(function(){var e=s("#preview_container"),i=n.scrollTop()/(n.prop("scrollHeight")-n.prop("offsetHeight"));e.scrollTop(i*(e.prop("scrollHeight")-e.prop("offsetHeight"))),t=!1},25))})}}]),e}(),e("default",l)}}}),System.register("src/pelicide",["npm:babel-runtime@5.4.3/helpers/create-class","npm:babel-runtime@5.4.3/helpers/class-call-check","npm:babel-runtime@5.4.3/core-js/object/assign","npm:babel-runtime@5.4.3/core-js/set","src/project","src/editor","src/preview","github:components/jquery@2.1.4","src/settings","src/prevent","npm:keypress.js@2.1.0","github:vitmalina/w2ui@1.4.3","npm:fullscreen@1.0.0","font-awesome/css/font-awesome.min.css!github:systemjs/plugin-css@0.1.13","github:vitmalina/w2ui@1.4.3/dist/w2ui.min.css!github:systemjs/plugin-css@0.1.13","src/css/style.css!github:systemjs/plugin-css@0.1.13"],function(e){var t,n,i,r,o,s,a,l,c,u,d,h,f;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){a=e["default"]},function(e){l=e["default"]},function(e){c=e["default"]},function(e){u=e["default"]},function(e){d=e["default"]},function(e){},function(e){h=e["default"]},function(e){},function(e){},function(e){}],execute:function(){"use strict";c.register({name:"hideProjectAfterOpen",defaultValue:!0,type:"checkbox",html:{caption:"&nbsp;",text:"&nbsp;Hide project tree after opening a file."}},{name:"focusFullScreen",defaultValue:!0,type:"checkbox",html:{caption:"&nbsp;",text:"&nbsp;Go full screen in focus mode.",attr:h.available()?"":"disabled"}}),f=function(){function e(t){var c=this;n(this,e),i(this,u),t=t||{},this.extensions=new r(t.extensions||[]),this.handlers=[],this.listener=new d.keypress.Listener,this._fs=h(window.document.documentElement),this._fsAttained=!1,this.project=new o(this,t),this.editor=new s(this,t),this.preview=new a(this,t),l(window).on("beforeunload",function(){return c.editor.dirty?"You have unsaved changes in your document.":void 0})}return t(e,[{key:"metaKey",get:function(){return-1===navigator.userAgent.indexOf("Mac OS X")?"Ctrl":"Cmd"}},{key:"listen",value:function(e,t){this.listener.simple_combo(e,t)}},{key:"run",value:function(e){var t=this;this.layout.render(e),this.editor.on({type:"open",execute:"after"},function(){c.get("hideProjectAfterOpen")&&w2ui.layout.hide("left")}),this._fs.on("attain",function(){return t._onFsAttained()}),this._fs.on("release",function(){return t._onFsReleased()}),this.listen("meta shift o",function(){return t.toggleProject()}),this.listen("meta shift p",function(){return t.togglePreview()}),this.listen("meta enter",function(){return t.toggleFocus()}),setTimeout(function(){t.project.render(w2ui.layout.el("left"),w2ui.layout_left_toolbar),t.editor.render(w2ui.editor.el("main"),w2ui.editor_main_toolbar),t.preview.render(w2ui.editor.el("right"),w2ui.editor_right_toolbar)},0)}},{key:"_ensureToolbarItems",value:function(e){return void 0===e.toolbar?e.toolbar={items:[]}:void 0===e.toolbar.items&&(e.toolbar.items=[]),e}},{key:"layout",get:function(){var e=this,t=this._ensureToolbarItems(this.project.layout||{}),n=this._ensureToolbarItems(this.editor.layout||{}),r=this._ensureToolbarItems(this.preview.layout||{});return n.toolbar.items=[].concat([{id:"project",icon:"fa fa-bars",hint:"Toggle project view ("+this.metaKey+"-Shift-O)",onClick:function(){return e.toggleProject()}},{id:"focus",icon:"fa fa-expand",hint:"Toggle focus mode ("+this.metaKey+"-Enter)",onClick:function(){return e.toggleFocus()}},{type:"break"}],n.toolbar.items,[{type:"spacer"},{id:"settings",icon:"fa fa-cog",hint:"Settings",onClick:function(){return c.show()}},{type:"break"},{id:"preview",icon:"fa fa-eye",hint:"Toggle preview ("+this.metaKey+"-Shift-P)",onClick:function(){return e.togglePreview()}}]),l().w2layout({name:"layout",panels:[i({},t,{type:"left",size:240,resizable:!0}),{type:"main"}]}),l().w2layout({name:"editor",panels:[i({},n,{type:"main",size:"50%"}),i({},r,{type:"right",size:"50%"})]}),w2ui.layout.content("main",w2ui.editor),w2ui.layout.on({type:"resize",execute:"after"},function(){return e.trigger({type:"layout"})}),w2ui.editor.on({type:"resize",execute:"after"},function(){return e.trigger({type:"layout"})}),w2ui.layout}},{key:"toggleProject",value:function(){w2ui.layout.toggle("left")}},{key:"togglePreview",value:function(){w2ui.editor.toggle("right")}},{key:"toggleFocus",value:function(){h.available()&&c.get("focusFullScreen")?this._fsAttained?this._fs.release():this._fs.request():this._fsAttained?this._fs.emit("release"):this._fs.emit("attain")}},{key:"_onFsAttained",value:function(){this._fsAttained=!0,w2ui.layout.hideToolbar("left"),w2ui.editor.hideToolbar("main"),w2ui.editor.hideToolbar("right"),w2ui.layout.hide("left",!0),this.preview.mode="draft"}},{key:"_onFsReleased",value:function(){this._fsAttained=!1,w2ui.layout.showToolbar("left"),w2ui.editor.showToolbar("main"),w2ui.editor.showToolbar("right"),c.get("hideProjectAfterOpen")&&this.editor.state||w2ui.layout.show("left",!0)}}]),e}(),e("default",f)}}}),System.register("src/bootstrap",["npm:babel-runtime@5.4.3/helpers/sliced-to-array","npm:babel-runtime@5.4.3/core-js/promise","src/demo-api","src/pelicide","src/util","src/content/article","src/content/page","src/editors/codemirror","src/editors/markdown","src/editors/restructuredtext","src/editors/jinja2","src/editors/css","src/editors/javascript"],function(e){function t(){var e=void 0===arguments[0]?!1:arguments[0];r.configure("ws://"+window.location.host+window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/"))+"/ws"),i.all([r.get("SITENAME"),r.list_extensions(),r.can_deploy()]).then(function(t){var i=n(t,3),r=i[0],s=i[1],m=i[2];document.title=r+" (Pelicide)";var g=new o({sitename:r||"",extensions:s,canDeploy:m,contentTypes:[a,l],editors:[u,d,c,h,f,p]});e&&g.project.once({type:"reload",execute:"after"},function(){return g.editor.open(g.project.getFile(["content"],"welcome-to-pelicide.md"))}),g.run("#main_layout")})["catch"](s)}var n,i,r,o,s,a,l,c,u,d,h,f,p;return{setters:[function(e){n=e["default"]},function(e){i=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){s=e.alert},function(e){a=e["default"]},function(e){l=e["default"]},function(e){c=e["default"]},function(e){u=e["default"]},function(e){d=e["default"]},function(e){h=e["default"]},function(e){f=e["default"]},function(e){p=e["default"]}],execute:function(){"use strict";e("bootstrap",t)}}}),System.register("src/demo-main",["src/bootstrap"],function(e){"use strict";var t;return{setters:[function(e){t=e.bootstrap}],execute:function(){t(!0)}}}),System.register("src/css/pygments.css!github:systemjs/plugin-css@0.1.13",[],!1,function(){}),System.register("font-awesome/css/font-awesome.min.css!github:systemjs/plugin-css@0.1.13",[],!1,function(){}),System.register("github:vitmalina/w2ui@1.4.3/dist/w2ui.min.css!github:systemjs/plugin-css@0.1.13",[],!1,function(){}),System.register("src/css/style.css!github:systemjs/plugin-css@0.1.13",[],!1,function(){}),System.register("npm:codemirror@5.4.0/lib/codemirror.css!github:systemjs/plugin-css@0.1.13",[],!1,function(){}),System.register("npm:codemirror@5.4.0/addon/dialog/dialog.css!github:systemjs/plugin-css@0.1.13",[],!1,function(){}),System.register("src/css/codemirror-theme.css!github:systemjs/plugin-css@0.1.13",[],!1,function(){}),function(){function e(e,t){for(var n=e.split(".");n.length;)t=t[n.shift()];return t}function t(e){if(Object.keys)Object.keys(i.global).forEach(e);else for(var t in i.global)s.call(i.global,t)&&e(t)}function n(e){t(function(t){if(-1==indexOf.call(o,t)){try{var n=i.global[t]}catch(r){o.push(t)}e(t,n)}})}var i=System;"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf);var r,o=["sessionStorage","localStorage","clipboardData","frames","external"],s=i.global.hasOwnProperty,a={};i.set("@@global-helpers",i.newModule({prepareGlobal:function(e,t){for(var o=0;o<t.length;o++){var s=a[t[o]];if(s)for(var l in s)i.global[l]=s[l]}r={},n(function(e,t){r[e]=t})},retrieveGlobal:function(t,o,s){var l,c,u={};if(s)l=s.call(i.global);else if(o){var d=o.split(".")[0];l=e(o,i.global),u[d]=i.global[d]}else n(function(e,t){r[e]!==t&&"undefined"!=typeof t&&(u[e]=t,"undefined"!=typeof l?c||l===t||(c=!0):l=t)});return a[t]=u,c?u:l}}))}()});